import{__commonJSMin as e,__export as t,__toESM as n,jsx as r,require_jsx_runtime as i,require_react as a}from"./emotion-react-jsx-runtime.browser.esm-B32-BsBd.js";function o(){}function s(){}function c(e,t){let n=t||{},r=e[e.length-1]===``?[...e,``]:e;return r.join((n.padRight?` `:``)+`,`+(n.padLeft===!1?``:` `)).trim()}const l=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,u=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,d={};function f(e,t){let n=t||d,r=n.jsx?u:l;return r.test(e)}const p=/[ \t\n\f\r]/g;function m(e){return typeof e==`object`?e.type===`text`?h(e.value):!1:h(e)}function h(e){return e.replace(p,``)===``}var g=class{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}};g.prototype.normal={},g.prototype.property={},g.prototype.space=void 0;function _(e,t){let n={},r={};for(let t of e)Object.assign(n,t.property),Object.assign(r,t.normal);return new g(n,r,t)}function v(e){return e.toLowerCase()}var y=class{constructor(e,t){this.attribute=t,this.property=e}};y.prototype.attribute=``,y.prototype.booleanish=!1,y.prototype.boolean=!1,y.prototype.commaOrSpaceSeparated=!1,y.prototype.commaSeparated=!1,y.prototype.defined=!1,y.prototype.mustUseProperty=!1,y.prototype.number=!1,y.prototype.overloadedBoolean=!1,y.prototype.property=``,y.prototype.spaceSeparated=!1,y.prototype.space=void 0;var b={};t(b,{boolean:()=>S,booleanish:()=>C,commaOrSpaceSeparated:()=>D,commaSeparated:()=>ee,number:()=>T,overloadedBoolean:()=>w,spaceSeparated:()=>E});let x=0;const S=O(),C=O(),w=O(),T=O(),E=O(),ee=O(),D=O();function O(){return 2**++x}const te=Object.keys(b);var ne=class extends y{constructor(e,t,n,r){let i=-1;if(super(e,t),re(this,`space`,r),typeof n==`number`)for(;++i<te.length;){let e=te[i];re(this,te[i],(n&b[e])===b[e])}}};ne.prototype.defined=!0;function re(e,t,n){n&&(e[t]=n)}function k(e){let t={},n={};for(let[r,i]of Object.entries(e.properties)){let a=new ne(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[v(r)]=r,n[v(a.attribute)]=r}return new g(t,n,e.space)}const ie=k({properties:{ariaActiveDescendant:null,ariaAtomic:C,ariaAutoComplete:null,ariaBusy:C,ariaChecked:C,ariaColCount:T,ariaColIndex:T,ariaColSpan:T,ariaControls:E,ariaCurrent:null,ariaDescribedBy:E,ariaDetails:null,ariaDisabled:C,ariaDropEffect:E,ariaErrorMessage:null,ariaExpanded:C,ariaFlowTo:E,ariaGrabbed:C,ariaHasPopup:null,ariaHidden:C,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:E,ariaLevel:T,ariaLive:null,ariaModal:C,ariaMultiLine:C,ariaMultiSelectable:C,ariaOrientation:null,ariaOwns:E,ariaPlaceholder:null,ariaPosInSet:T,ariaPressed:C,ariaReadOnly:C,ariaRelevant:null,ariaRequired:C,ariaRoleDescription:E,ariaRowCount:T,ariaRowIndex:T,ariaRowSpan:T,ariaSelected:C,ariaSetSize:T,ariaSort:null,ariaValueMax:T,ariaValueMin:T,ariaValueNow:T,ariaValueText:null,role:null},transform(e,t){return t===`role`?t:`aria-`+t.slice(4).toLowerCase()}});function ae(e,t){return t in e?e[t]:t}function A(e,t){return ae(e,t.toLowerCase())}const oe=k({attributes:{acceptcharset:`accept-charset`,classname:`class`,htmlfor:`for`,httpequiv:`http-equiv`},mustUseProperty:[`checked`,`multiple`,`muted`,`selected`],properties:{abbr:null,accept:ee,acceptCharset:E,accessKey:E,action:null,allow:null,allowFullScreen:S,allowPaymentRequest:S,allowUserMedia:S,alt:null,as:null,async:S,autoCapitalize:null,autoComplete:E,autoFocus:S,autoPlay:S,blocking:E,capture:null,charSet:null,checked:S,cite:null,className:E,cols:T,colSpan:null,content:null,contentEditable:C,controls:S,controlsList:E,coords:T|ee,crossOrigin:null,data:null,dateTime:null,decoding:null,default:S,defer:S,dir:null,dirName:null,disabled:S,download:w,draggable:C,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:S,formTarget:null,headers:E,height:T,hidden:w,high:T,href:null,hrefLang:null,htmlFor:E,httpEquiv:E,id:null,imageSizes:null,imageSrcSet:null,inert:S,inputMode:null,integrity:null,is:null,isMap:S,itemId:null,itemProp:E,itemRef:E,itemScope:S,itemType:E,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:S,low:T,manifest:null,max:null,maxLength:T,media:null,method:null,min:null,minLength:T,multiple:S,muted:S,name:null,nonce:null,noModule:S,noValidate:S,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:S,optimum:T,pattern:null,ping:E,placeholder:null,playsInline:S,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:S,referrerPolicy:null,rel:E,required:S,reversed:S,rows:T,rowSpan:T,sandbox:E,scope:null,scoped:S,seamless:S,selected:S,shadowRootClonable:S,shadowRootDelegatesFocus:S,shadowRootMode:null,shape:null,size:T,sizes:null,slot:null,span:T,spellCheck:C,src:null,srcDoc:null,srcLang:null,srcSet:null,start:T,step:null,style:null,tabIndex:T,target:null,title:null,translate:null,type:null,typeMustMatch:S,useMap:null,value:C,width:T,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:E,axis:null,background:null,bgColor:null,border:T,borderColor:null,bottomMargin:T,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:S,declare:S,event:null,face:null,frame:null,frameBorder:null,hSpace:T,leftMargin:T,link:null,longDesc:null,lowSrc:null,marginHeight:T,marginWidth:T,noResize:S,noHref:S,noShade:S,noWrap:S,object:null,profile:null,prompt:null,rev:null,rightMargin:T,rules:null,scheme:null,scrolling:C,standby:null,summary:null,text:null,topMargin:T,valueType:null,version:null,vAlign:null,vLink:null,vSpace:T,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:S,disableRemotePlayback:S,prefix:null,property:null,results:T,security:null,unselectable:null},space:`html`,transform:A}),se=k({attributes:{accentHeight:`accent-height`,alignmentBaseline:`alignment-baseline`,arabicForm:`arabic-form`,baselineShift:`baseline-shift`,capHeight:`cap-height`,className:`class`,clipPath:`clip-path`,clipRule:`clip-rule`,colorInterpolation:`color-interpolation`,colorInterpolationFilters:`color-interpolation-filters`,colorProfile:`color-profile`,colorRendering:`color-rendering`,crossOrigin:`crossorigin`,dataType:`datatype`,dominantBaseline:`dominant-baseline`,enableBackground:`enable-background`,fillOpacity:`fill-opacity`,fillRule:`fill-rule`,floodColor:`flood-color`,floodOpacity:`flood-opacity`,fontFamily:`font-family`,fontSize:`font-size`,fontSizeAdjust:`font-size-adjust`,fontStretch:`font-stretch`,fontStyle:`font-style`,fontVariant:`font-variant`,fontWeight:`font-weight`,glyphName:`glyph-name`,glyphOrientationHorizontal:`glyph-orientation-horizontal`,glyphOrientationVertical:`glyph-orientation-vertical`,hrefLang:`hreflang`,horizAdvX:`horiz-adv-x`,horizOriginX:`horiz-origin-x`,horizOriginY:`horiz-origin-y`,imageRendering:`image-rendering`,letterSpacing:`letter-spacing`,lightingColor:`lighting-color`,markerEnd:`marker-end`,markerMid:`marker-mid`,markerStart:`marker-start`,navDown:`nav-down`,navDownLeft:`nav-down-left`,navDownRight:`nav-down-right`,navLeft:`nav-left`,navNext:`nav-next`,navPrev:`nav-prev`,navRight:`nav-right`,navUp:`nav-up`,navUpLeft:`nav-up-left`,navUpRight:`nav-up-right`,onAbort:`onabort`,onActivate:`onactivate`,onAfterPrint:`onafterprint`,onBeforePrint:`onbeforeprint`,onBegin:`onbegin`,onCancel:`oncancel`,onCanPlay:`oncanplay`,onCanPlayThrough:`oncanplaythrough`,onChange:`onchange`,onClick:`onclick`,onClose:`onclose`,onCopy:`oncopy`,onCueChange:`oncuechange`,onCut:`oncut`,onDblClick:`ondblclick`,onDrag:`ondrag`,onDragEnd:`ondragend`,onDragEnter:`ondragenter`,onDragExit:`ondragexit`,onDragLeave:`ondragleave`,onDragOver:`ondragover`,onDragStart:`ondragstart`,onDrop:`ondrop`,onDurationChange:`ondurationchange`,onEmptied:`onemptied`,onEnd:`onend`,onEnded:`onended`,onError:`onerror`,onFocus:`onfocus`,onFocusIn:`onfocusin`,onFocusOut:`onfocusout`,onHashChange:`onhashchange`,onInput:`oninput`,onInvalid:`oninvalid`,onKeyDown:`onkeydown`,onKeyPress:`onkeypress`,onKeyUp:`onkeyup`,onLoad:`onload`,onLoadedData:`onloadeddata`,onLoadedMetadata:`onloadedmetadata`,onLoadStart:`onloadstart`,onMessage:`onmessage`,onMouseDown:`onmousedown`,onMouseEnter:`onmouseenter`,onMouseLeave:`onmouseleave`,onMouseMove:`onmousemove`,onMouseOut:`onmouseout`,onMouseOver:`onmouseover`,onMouseUp:`onmouseup`,onMouseWheel:`onmousewheel`,onOffline:`onoffline`,onOnline:`ononline`,onPageHide:`onpagehide`,onPageShow:`onpageshow`,onPaste:`onpaste`,onPause:`onpause`,onPlay:`onplay`,onPlaying:`onplaying`,onPopState:`onpopstate`,onProgress:`onprogress`,onRateChange:`onratechange`,onRepeat:`onrepeat`,onReset:`onreset`,onResize:`onresize`,onScroll:`onscroll`,onSeeked:`onseeked`,onSeeking:`onseeking`,onSelect:`onselect`,onShow:`onshow`,onStalled:`onstalled`,onStorage:`onstorage`,onSubmit:`onsubmit`,onSuspend:`onsuspend`,onTimeUpdate:`ontimeupdate`,onToggle:`ontoggle`,onUnload:`onunload`,onVolumeChange:`onvolumechange`,onWaiting:`onwaiting`,onZoom:`onzoom`,overlinePosition:`overline-position`,overlineThickness:`overline-thickness`,paintOrder:`paint-order`,panose1:`panose-1`,pointerEvents:`pointer-events`,referrerPolicy:`referrerpolicy`,renderingIntent:`rendering-intent`,shapeRendering:`shape-rendering`,stopColor:`stop-color`,stopOpacity:`stop-opacity`,strikethroughPosition:`strikethrough-position`,strikethroughThickness:`strikethrough-thickness`,strokeDashArray:`stroke-dasharray`,strokeDashOffset:`stroke-dashoffset`,strokeLineCap:`stroke-linecap`,strokeLineJoin:`stroke-linejoin`,strokeMiterLimit:`stroke-miterlimit`,strokeOpacity:`stroke-opacity`,strokeWidth:`stroke-width`,tabIndex:`tabindex`,textAnchor:`text-anchor`,textDecoration:`text-decoration`,textRendering:`text-rendering`,transformOrigin:`transform-origin`,typeOf:`typeof`,underlinePosition:`underline-position`,underlineThickness:`underline-thickness`,unicodeBidi:`unicode-bidi`,unicodeRange:`unicode-range`,unitsPerEm:`units-per-em`,vAlphabetic:`v-alphabetic`,vHanging:`v-hanging`,vIdeographic:`v-ideographic`,vMathematical:`v-mathematical`,vectorEffect:`vector-effect`,vertAdvY:`vert-adv-y`,vertOriginX:`vert-origin-x`,vertOriginY:`vert-origin-y`,wordSpacing:`word-spacing`,writingMode:`writing-mode`,xHeight:`x-height`,playbackOrder:`playbackorder`,timelineBegin:`timelinebegin`},properties:{about:D,accentHeight:T,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:T,amplitude:T,arabicForm:null,ascent:T,attributeName:null,attributeType:null,azimuth:T,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:T,by:null,calcMode:null,capHeight:T,className:E,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:T,diffuseConstant:T,direction:null,display:null,dur:null,divisor:T,dominantBaseline:null,download:S,dx:null,dy:null,edgeMode:null,editable:null,elevation:T,enableBackground:null,end:null,event:null,exponent:T,externalResourcesRequired:null,fill:null,fillOpacity:T,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ee,g2:ee,glyphName:ee,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:T,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:T,horizOriginX:T,horizOriginY:T,id:null,ideographic:T,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:T,k:T,k1:T,k2:T,k3:T,k4:T,kernelMatrix:D,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:T,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:T,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:T,overlineThickness:T,paintOrder:null,panose1:null,path:null,pathLength:T,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:E,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:T,pointsAtY:T,pointsAtZ:T,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:D,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:D,rev:D,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:D,requiredFeatures:D,requiredFonts:D,requiredFormats:D,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:T,specularExponent:T,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:T,strikethroughThickness:T,string:null,stroke:null,strokeDashArray:D,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:T,strokeOpacity:T,strokeWidth:null,style:null,surfaceScale:T,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:D,tabIndex:T,tableValues:null,target:null,targetX:T,targetY:T,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:D,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:T,underlineThickness:T,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:T,values:null,vAlphabetic:T,vMathematical:T,vectorEffect:null,vHanging:T,vIdeographic:T,version:null,vertAdvY:T,vertOriginX:T,vertOriginY:T,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:T,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:`svg`,transform:ae}),ce=k({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:`xlink`,transform(e,t){return`xlink:`+t.slice(5).toLowerCase()}}),le=k({attributes:{xmlnsxlink:`xmlns:xlink`},properties:{xmlnsXLink:null,xmlns:null},space:`xmlns`,transform:A}),ue=k({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:`xml`,transform(e,t){return`xml:`+t.slice(3).toLowerCase()}}),de={classId:`classID`,dataType:`datatype`,itemId:`itemID`,strokeDashArray:`strokeDasharray`,strokeDashOffset:`strokeDashoffset`,strokeLineCap:`strokeLinecap`,strokeLineJoin:`strokeLinejoin`,strokeMiterLimit:`strokeMiterlimit`,typeOf:`typeof`,xLinkActuate:`xlinkActuate`,xLinkArcRole:`xlinkArcrole`,xLinkHref:`xlinkHref`,xLinkRole:`xlinkRole`,xLinkShow:`xlinkShow`,xLinkTitle:`xlinkTitle`,xLinkType:`xlinkType`,xmlnsXLink:`xmlnsXlink`},fe=/[A-Z]/g,pe=/-[a-z]/g,me=/^data[-\w.:]+$/i;function he(e,t){let n=v(t),r=t,i=y;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)===`data`&&me.test(t)){if(t.charAt(4)===`-`){let e=t.slice(5).replace(pe,_e);r=`data`+e.charAt(0).toUpperCase()+e.slice(1)}else{let e=t.slice(4);if(!pe.test(e)){let n=e.replace(fe,ge);n.charAt(0)!==`-`&&(n=`-`+n),t=`data`+n}}i=ne}return new i(r,t)}function ge(e){return`-`+e.toLowerCase()}function _e(e){return e.charAt(1).toUpperCase()}const ve=_([ie,oe,ce,le,ue],`html`),ye=_([ie,se,ce,le,ue],`svg`);function be(e){return e.join(` `).trim()}var j=e((exports,t)=>{var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,i=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d=`/`,f=`*`,p=``,m=`comment`,h=`declaration`;t.exports=function(e,t){if(typeof e!=`string`)throw TypeError(`First argument must be a string`);if(!e)return[];t||={};var l=1,_=1;function v(e){var t=e.match(r);t&&(l+=t.length);var n=e.lastIndexOf(u);_=~n?e.length-n:_+e.length}function y(){var e={line:l,column:_};return function(t){return t.position=new b(e),w(),t}}function b(e){this.start=e,this.end={line:l,column:_},this.source=t.source}b.prototype.content=e;var x=[];function S(n){var r=Error(t.source+`:`+l+`:`+_+`: `+n);if(r.reason=n,r.filename=t.source,r.line=l,r.column=_,r.source=e,t.silent)x.push(r);else throw r}function C(t){var n=t.exec(e);if(n){var r=n[0];return v(r),e=e.slice(r.length),n}}function w(){C(i)}function T(e){var t;for(e||=[];t=E();)t!==!1&&e.push(t);return e}function E(){var t=y();if(!(d!=e.charAt(0)||f!=e.charAt(1))){for(var n=2;p!=e.charAt(n)&&(f!=e.charAt(n)||d!=e.charAt(n+1));)++n;if(n+=2,p===e.charAt(n-1))return S(`End of comment missing`);var r=e.slice(2,n-2);return _+=2,v(r),e=e.slice(n),_+=2,t({type:m,comment:r})}}function ee(){var e=y(),t=C(a);if(t){if(E(),!C(o))return S(`property missing ':'`);var r=C(s),i=e({type:h,property:g(t[0].replace(n,p)),value:r?g(r[0].replace(n,p)):p});return C(c),i}}function D(){var e=[];T(e);for(var t;t=ee();)t!==!1&&(e.push(t),T(e));return e}return w(),D()};function g(e){return e?e.replace(l,p):p}}),xe=e(exports=>{var t=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,`__esModule`,{value:!0}),exports.default=r;var n=t(j());function r(e,t){var r=null;if(!e||typeof e!=`string`)return r;var i=(0,n.default)(e),a=typeof t==`function`;return i.forEach(function(e){if(e.type===`declaration`){var n=e.property,i=e.value;a?t(n,i,e):i&&(r||={},r[n]=i)}}),r}}),Se=e(exports=>{Object.defineProperty(exports,`__esModule`,{value:!0}),exports.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,r=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(e){return!e||r.test(e)||t.test(e)},s=function(e,t){return t.toUpperCase()},c=function(e,t){return`${t}-`},l=function(e,t){return t===void 0&&(t={}),o(e)?e:(e=e.toLowerCase(),e=t.reactCompat?e.replace(a,c):e.replace(i,c),e.replace(n,s))};exports.camelCase=l}),Ce=e((exports,t)=>{var n=function(e){return e&&e.__esModule?e:{default:e}},r=n(xe()),i=Se();function a(e,t){var n={};return!e||typeof e!=`string`||(0,r.default)(e,function(e,r){e&&r&&(n[(0,i.camelCase)(e,t)]=r)}),n}a.default=a,t.exports=a});const we=Ee(`end`),Te=Ee(`start`);function Ee(e){return t;function t(t){let n=t&&t.position&&t.position[e]||{};if(typeof n.line==`number`&&n.line>0&&typeof n.column==`number`&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset==`number`&&n.offset>-1?n.offset:void 0}}}function De(e){let t=Te(e),n=we(e);if(t&&n)return{start:t,end:n}}function Oe(e){return!e||typeof e!=`object`?``:`position`in e||`type`in e?Ae(e.position):`start`in e||`end`in e?Ae(e):`line`in e||`column`in e?ke(e):``}function ke(e){return je(e&&e.line)+`:`+je(e&&e.column)}function Ae(e){return ke(e&&e.start)+`-`+ke(e&&e.end)}function je(e){return e&&typeof e==`number`?e:1}var Me=class extends Error{constructor(e,t,n){super(),typeof t==`string`&&(n=t,t=void 0);let r=``,i={},a=!1;if(t&&(i=`line`in t&&`column`in t||`start`in t&&`end`in t?{place:t}:`type`in t?{ancestors:[t],place:t.position}:{...t}),typeof e==`string`?r=e:!i.cause&&e&&(a=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof n==`string`){let e=n.indexOf(`:`);e===-1?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){let e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}let o=i.place&&`start`in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=o?o.line:void 0,this.name=Oe(i.place)||`1:1`,this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack==`string`?i.cause.stack:``,this.actual,this.expected,this.note,this.url}};Me.prototype.file=``,Me.prototype.name=``,Me.prototype.reason=``,Me.prototype.message=``,Me.prototype.stack=``,Me.prototype.column=void 0,Me.prototype.line=void 0,Me.prototype.ancestors=void 0,Me.prototype.cause=void 0,Me.prototype.fatal=void 0,Me.prototype.place=void 0,Me.prototype.ruleId=void 0,Me.prototype.source=void 0;var Ne=n(Ce());const Pe={}.hasOwnProperty,Fe=new Map,Ie=/[A-Z]/g,Le=new Set([`table`,`tbody`,`thead`,`tfoot`,`tr`]),Re=new Set([`td`,`th`]),ze=`https://github.com/syntax-tree/hast-util-to-jsx-runtime`;function Be(e,t){if(!t||t.Fragment===void 0)throw TypeError("Expected `Fragment` in options");let n=t.filePath||void 0,r;if(t.development){if(typeof t.jsxDEV!=`function`)throw TypeError("Expected `jsxDEV` in options when `development: true`");r=Ze(n,t.jsxDEV)}else{if(typeof t.jsx!=`function`)throw TypeError("Expected `jsx` in production options");if(typeof t.jsxs!=`function`)throw TypeError("Expected `jsxs` in production options");r=Xe(n,t.jsx,t.jsxs)}let i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||`react`,evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space===`svg`?ye:ve,stylePropertyNameCase:t.stylePropertyNameCase||`dom`,tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=Ve(i,e,void 0);return a&&typeof a!=`string`?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function Ve(e,t,n){if(t.type===`element`)return He(e,t,n);if(t.type===`mdxFlowExpression`||t.type===`mdxTextExpression`)return Ue(e,t);if(t.type===`mdxJsxFlowElement`||t.type===`mdxJsxTextElement`)return Ge(e,t,n);if(t.type===`mdxjsEsm`)return We(e,t);if(t.type===`root`)return Ke(e,t,n);if(t.type===`text`)return qe(e,t)}function He(e,t,n){let r=e.schema,i=r;t.tagName.toLowerCase()===`svg`&&r.space===`html`&&(i=ye,e.schema=i),e.ancestors.push(t);let a=rt(e,t.tagName,!1),o=Qe(e,t),s=et(e,t);return Le.has(t.tagName)&&(s=s.filter(function(e){return typeof e==`string`?!m(e):!0})),Je(e,o,a,t),Ye(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function Ue(e,t){if(t.data&&t.data.estree&&e.evaluater){let n=t.data.estree,r=n.body[0];return o(r.type===`ExpressionStatement`),e.evaluater.evaluateExpression(r.expression)}it(e,t.position)}function We(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);it(e,t.position)}function Ge(e,t,n){let r=e.schema,i=r;t.name===`svg`&&r.space===`html`&&(i=ye,e.schema=i),e.ancestors.push(t);let a=t.name===null?e.Fragment:rt(e,t.name,!0),o=$e(e,t),s=et(e,t);return Je(e,o,a,t),Ye(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function Ke(e,t,n){let r={};return Ye(r,et(e,t)),e.create(t,e.Fragment,r,n)}function qe(e,t){return t.value}function Je(e,t,n,r){typeof n!=`string`&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Ye(e,t){if(t.length>0){let n=t.length>1?t:t[0];n&&(e.children=n)}}function Xe(e,t,n){return r;function r(e,r,i,a){let o=Array.isArray(i.children),s=o?n:t;return a?s(r,i,a):s(r,i)}}function Ze(e,t){return n;function n(n,r,i,a){let o=Array.isArray(i.children),s=Te(n);return t(r,i,a,o,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}function Qe(e,t){let n={},r,i;for(i in t.properties)if(i!==`children`&&Pe.call(t.properties,i)){let a=tt(e,i,t.properties[i]);if(a){let[i,o]=a;e.tableCellAlignToStyle&&i===`align`&&typeof o==`string`&&Re.has(t.tagName)?r=o:n[i]=o}}if(r){let t=n.style||={};t[e.stylePropertyNameCase===`css`?`text-align`:`textAlign`]=r}return n}function $e(e,t){let n={};for(let r of t.attributes)if(r.type===`mdxJsxExpressionAttribute`)if(r.data&&r.data.estree&&e.evaluater){let t=r.data.estree,i=t.body[0];o(i.type===`ExpressionStatement`);let a=i.expression;o(a.type===`ObjectExpression`);let s=a.properties[0];o(s.type===`SpreadElement`),Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else it(e,t.position);else{let i=r.name,a;if(r.value&&typeof r.value==`object`)if(r.value.data&&r.value.data.estree&&e.evaluater){let t=r.value.data.estree,n=t.body[0];o(n.type===`ExpressionStatement`),a=e.evaluater.evaluateExpression(n.expression)}else it(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function et(e,t){let n=[],r=-1,i=e.passKeys?new Map:Fe;for(;++r<t.children.length;){let a=t.children[r],o;if(e.passKeys){let e=a.type===`element`?a.tagName:a.type===`mdxJsxFlowElement`||a.type===`mdxJsxTextElement`?a.name:void 0;if(e){let t=i.get(e)||0;o=e+`-`+t,i.set(e,t+1)}}let s=Ve(e,a,o);s!==void 0&&n.push(s)}return n}function tt(e,t,n){let r=he(e.schema,t);if(!(n==null||typeof n==`number`&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?c(n):be(n)),r.property===`style`){let t=typeof n==`object`?n:nt(e,String(n));return e.stylePropertyNameCase===`css`&&(t=at(t)),[`style`,t]}return[e.elementAttributeNameCase===`react`&&r.space?de[r.property]||r.property:r.attribute,n]}}function nt(e,t){try{return(0,Ne.default)(t,{reactCompat:!0})}catch(t){if(e.ignoreInvalidStyle)return{};let n=t,r=new Me("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:`style`,source:`hast-util-to-jsx-runtime`});throw r.file=e.filePath||void 0,r.url=ze+`#cannot-parse-style-attribute`,r}}function rt(e,t,n){let r;if(!n)r={type:`Literal`,value:t};else if(t.includes(`.`)){let e=t.split(`.`),n=-1,i;for(;++n<e.length;){let t=f(e[n])?{type:`Identifier`,name:e[n]}:{type:`Literal`,value:e[n]};i=i?{type:`MemberExpression`,object:i,property:t,computed:!!(n&&t.type===`Literal`),optional:!1}:t}o(i,`always a result`),r=i}else r=f(t)&&!/^[a-z]/.test(t)?{type:`Identifier`,name:t}:{type:`Literal`,value:t};if(r.type===`Literal`){let t=r.value;return Pe.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);it(e)}function it(e,t){let n=new Me("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:`mdx-estree`,source:`hast-util-to-jsx-runtime`});throw n.file=e.filePath||void 0,n.url=ze+`#cannot-handle-mdx-estrees-without-createevaluater`,n}function at(e){let t={},n;for(n in e)Pe.call(e,n)&&(t[ot(n)]=e[n]);return t}function ot(e){let t=e.replace(Ie,st);return t.slice(0,3)===`ms-`&&(t=`-`+t),t}function st(e){return`-`+e.toLowerCase()}const ct={action:[`form`],cite:[`blockquote`,`del`,`ins`,`q`],data:[`object`],formAction:[`button`,`input`],href:[`a`,`area`,`base`,`link`],icon:[`menuitem`],itemId:null,manifest:[`html`],ping:[`a`,`area`],poster:[`video`],src:[`audio`,`embed`,`iframe`,`img`,`input`,`script`,`source`,`track`,`video`]},lt={};function ut(e,t){let n=t||lt,r=typeof n.includeImageAlt==`boolean`?n.includeImageAlt:!0,i=typeof n.includeHtml==`boolean`?n.includeHtml:!0;return dt(e,r,i)}function dt(e,t,n){if(pt(e)){if(`value`in e)return e.type===`html`&&!n?``:e.value;if(t&&`alt`in e&&e.alt)return e.alt;if(`children`in e)return ft(e.children,t,n)}return Array.isArray(e)?ft(e,t,n):``}function ft(e,t,n){let r=[],i=-1;for(;++i<e.length;)r[i]=dt(e[i],t,n);return r.join(``)}function pt(e){return!!(e&&typeof e==`object`)}const mt=document.createElement(`i`);function ht(e){let t=`&`+e+`;`;mt.innerHTML=t;let n=mt.textContent;return n.charCodeAt(n.length-1)===59&&e!==`semi`||n===t?!1:n}function gt(e,t,n,r){let i=e.length,a=0,o;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function _t(e,t){return e.length>0?(gt(e,e.length,0,t),e):t}const vt={}.hasOwnProperty;function yt(e){let t={},n=-1;for(;++n<e.length;)bt(t,e[n]);return t}function bt(e,t){let n;for(n in t){let r=vt.call(e,n)?e[n]:void 0,i=r||(e[n]={}),a=t[n],o;if(a)for(o in a){vt.call(i,o)||(i[o]=[]);let e=a[o];xt(i[o],Array.isArray(e)?e:e?[e]:[])}}}function xt(e,t){let n=-1,r=[];for(;++n<t.length;)(t[n].add===`after`?e:r).push(t[n]);gt(e,0,0,r)}function St(e,t){let n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)==65535||(n&65535)==65534||n>1114111?`�`:String.fromCodePoint(n)}function Ct(e){return e.replace(/[\t\n\r ]+/g,` `).replace(/^ | $/g,``).toLowerCase().toUpperCase()}const wt=Nt(/[A-Za-z]/),Tt=Nt(/[\dA-Za-z]/),Et=Nt(/[#-'*+\--9=?A-Z^-~]/);function Dt(e){return e!==null&&(e<32||e===127)}const Ot=Nt(/\d/),kt=Nt(/[\dA-Fa-f]/),At=Nt(/[!-/:-@[-`{-~]/);function M(e){return e!==null&&e<-2}function N(e){return e!==null&&(e<0||e===32)}function P(e){return e===-2||e===-1||e===32}const jt=Nt(/\p{P}|\p{S}/u),Mt=Nt(/\s/);function Nt(e){return t;function t(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function Pt(e){let t=[],n=-1,r=0,i=0;for(;++n<e.length;){let a=e.charCodeAt(n),o=``;if(a===37&&Tt(e.charCodeAt(n+1))&&Tt(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){let t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(o=String.fromCharCode(a,t),i=1):o=`�`}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=``),i&&(n+=i,i=0)}return t.join(``)+e.slice(r)}function F(e,t,n,r){let i=r?r-1:1/0,a=0;return o;function o(r){return P(r)?(e.enter(n),s(r)):t(r)}function s(r){return P(r)&&a++<i?(e.consume(r),s):(e.exit(n),t(r))}}const Ft={tokenize:It};function It(e){let t=e.attempt(this.parser.constructs.contentInitial,r,i),n;return t;function r(n){if(n===null){e.consume(n);return}return e.enter(`lineEnding`),e.consume(n),e.exit(`lineEnding`),F(e,t,`linePrefix`)}function i(t){return e.enter(`paragraph`),a(t)}function a(t){let r=e.enter(`chunkText`,{contentType:`text`,previous:n});return n&&(n.next=r),n=r,o(t)}function o(t){if(t===null){e.exit(`chunkText`),e.exit(`paragraph`),e.consume(t);return}return M(t)?(e.consume(t),e.exit(`chunkText`),a):(e.consume(t),o)}}const Lt={tokenize:zt},Rt={tokenize:Bt};function zt(e){let t=this,n=[],r=0,i,a,o;return s;function s(i){if(r<n.length){let a=n[r];return t.containerState=a[1],e.attempt(a[0].continuation,c,l)(i)}return l(i)}function c(e){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();let n=t.events.length,a=n,o;for(;a--;)if(t.events[a][0]===`exit`&&t.events[a][1].type===`chunkFlow`){o=t.events[a][1].end;break}_(r);let s=n;for(;s<t.events.length;)t.events[s][1].end={...o},s++;return gt(t.events,a+1,0,t.events.slice(n)),t.events.length=s,l(e)}return s(e)}function l(a){if(r===n.length){if(!i)return f(a);if(i.currentConstruct&&i.currentConstruct.concrete)return m(a);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Rt,u,d)(a)}function u(e){return i&&v(),_(r),f(e)}function d(e){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(e)}function f(n){return t.containerState={},e.attempt(Rt,p,m)(n)}function p(e){return r++,n.push([t.currentConstruct,t.containerState]),f(e)}function m(n){if(n===null){i&&v(),_(0),e.consume(n);return}return i||=t.parser.flow(t.now()),e.enter(`chunkFlow`,{_tokenizer:i,contentType:`flow`,previous:a}),h(n)}function h(n){if(n===null){g(e.exit(`chunkFlow`),!0),_(0),e.consume(n);return}return M(n)?(e.consume(n),g(e.exit(`chunkFlow`)),r=0,t.interrupt=void 0,s):(e.consume(n),h)}function g(e,n){let s=t.sliceStream(e);if(n&&s.push(null),e.previous=a,a&&(a.next=e),a=e,i.defineSkip(e.start),i.write(s),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<o&&(!i.events[e][1].end||i.events[e][1].end.offset>o))return;let n=t.events.length,a=n,s,c;for(;a--;)if(t.events[a][0]===`exit`&&t.events[a][1].type===`chunkFlow`){if(s){c=t.events[a][1].end;break}s=!0}for(_(r),e=n;e<t.events.length;)t.events[e][1].end={...c},e++;gt(t.events,a+1,0,t.events.slice(n)),t.events.length=e}}function _(r){let i=n.length;for(;i-- >r;){let r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function v(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Bt(e,t,n){return F(e,e.attempt(this.parser.constructs.document,t,n),`linePrefix`,this.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)}function Vt(e){if(e===null||N(e)||Mt(e))return 1;if(jt(e))return 2}function Ht(e,t,n){let r=[],i=-1;for(;++i<e.length;){let a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const Ut={name:`attention`,resolveAll:Wt,tokenize:Gt};function Wt(e,t){let n=-1,r,i,a,o,s,c,l,u;for(;++n<e.length;)if(e[n][0]===`enter`&&e[n][1].type===`attentionSequence`&&e[n][1]._close){for(r=n;r--;)if(e[r][0]===`exit`&&e[r][1].type===`attentionSequence`&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;let d={...e[r][1].end},f={...e[n][1].start};Kt(d,-c),Kt(f,c),o={type:c>1?`strongSequence`:`emphasisSequence`,start:d,end:{...e[r][1].end}},s={type:c>1?`strongSequence`:`emphasisSequence`,start:{...e[n][1].start},end:f},a={type:c>1?`strongText`:`emphasisText`,start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?`strong`:`emphasis`,start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=_t(l,[[`enter`,e[r][1],t],[`exit`,e[r][1],t]])),l=_t(l,[[`enter`,i,t],[`enter`,o,t],[`exit`,o,t],[`enter`,a,t]]),l=_t(l,Ht(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=_t(l,[[`exit`,a,t],[`enter`,s,t],[`exit`,s,t],[`exit`,i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,l=_t(l,[[`enter`,e[n][1],t],[`exit`,e[n][1],t]])):u=0,gt(e,r-1,n-r+3,l),n=r+l.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type===`attentionSequence`&&(e[n][1].type=`data`);return e}function Gt(e,t){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Vt(r),a;return o;function o(t){return a=t,e.enter(`attentionSequence`),s(t)}function s(o){if(o===a)return e.consume(o),s;let c=e.exit(`attentionSequence`),l=Vt(o),u=!l||l===2&&i||n.includes(o),d=!i||i===2&&l||n.includes(r);return c._open=!!(a===42?u:u&&(i||!d)),c._close=!!(a===42?d:d&&(l||!u)),t(o)}}function Kt(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const qt={name:`autolink`,tokenize:Jt};function Jt(e,t,n){let r=0;return i;function i(t){return e.enter(`autolink`),e.enter(`autolinkMarker`),e.consume(t),e.exit(`autolinkMarker`),e.enter(`autolinkProtocol`),a}function a(t){return wt(t)?(e.consume(t),o):t===64?n(t):l(t)}function o(e){return e===43||e===45||e===46||Tt(e)?(r=1,s(e)):l(e)}function s(t){return t===58?(e.consume(t),r=0,c):(t===43||t===45||t===46||Tt(t))&&r++<32?(e.consume(t),s):(r=0,l(t))}function c(r){return r===62?(e.exit(`autolinkProtocol`),e.enter(`autolinkMarker`),e.consume(r),e.exit(`autolinkMarker`),e.exit(`autolink`),t):r===null||r===32||r===60||Dt(r)?n(r):(e.consume(r),c)}function l(t){return t===64?(e.consume(t),u):Et(t)?(e.consume(t),l):n(t)}function u(e){return Tt(e)?d(e):n(e)}function d(n){return n===46?(e.consume(n),r=0,u):n===62?(e.exit(`autolinkProtocol`).type=`autolinkEmail`,e.enter(`autolinkMarker`),e.consume(n),e.exit(`autolinkMarker`),e.exit(`autolink`),t):f(n)}function f(t){if((t===45||Tt(t))&&r++<63){let n=t===45?f:d;return e.consume(t),n}return n(t)}}const Yt={partial:!0,tokenize:Xt};function Xt(e,t,n){return r;function r(t){return P(t)?F(e,i,`linePrefix`)(t):i(t)}function i(e){return e===null||M(e)?t(e):n(e)}}const Zt={continuation:{tokenize:$t},exit:en,name:`blockQuote`,tokenize:Qt};function Qt(e,t,n){let r=this;return i;function i(t){if(t===62){let n=r.containerState;return n.open||(e.enter(`blockQuote`,{_container:!0}),n.open=!0),e.enter(`blockQuotePrefix`),e.enter(`blockQuoteMarker`),e.consume(t),e.exit(`blockQuoteMarker`),a}return n(t)}function a(n){return P(n)?(e.enter(`blockQuotePrefixWhitespace`),e.consume(n),e.exit(`blockQuotePrefixWhitespace`),e.exit(`blockQuotePrefix`),t):(e.exit(`blockQuotePrefix`),t(n))}}function $t(e,t,n){let r=this;return i;function i(t){return P(t)?F(e,a,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(t):a(t)}function a(r){return e.attempt(Zt,t,n)(r)}}function en(e){e.exit(`blockQuote`)}const tn={name:`characterEscape`,tokenize:nn};function nn(e,t,n){return r;function r(t){return e.enter(`characterEscape`),e.enter(`escapeMarker`),e.consume(t),e.exit(`escapeMarker`),i}function i(r){return At(r)?(e.enter(`characterEscapeValue`),e.consume(r),e.exit(`characterEscapeValue`),e.exit(`characterEscape`),t):n(r)}}const rn={name:`characterReference`,tokenize:an};function an(e,t,n){let r=this,i=0,a,o;return s;function s(t){return e.enter(`characterReference`),e.enter(`characterReferenceMarker`),e.consume(t),e.exit(`characterReferenceMarker`),c}function c(t){return t===35?(e.enter(`characterReferenceMarkerNumeric`),e.consume(t),e.exit(`characterReferenceMarkerNumeric`),l):(e.enter(`characterReferenceValue`),a=31,o=Tt,u(t))}function l(t){return t===88||t===120?(e.enter(`characterReferenceMarkerHexadecimal`),e.consume(t),e.exit(`characterReferenceMarkerHexadecimal`),e.enter(`characterReferenceValue`),a=6,o=kt,u):(e.enter(`characterReferenceValue`),a=7,o=Ot,u(t))}function u(s){if(s===59&&i){let i=e.exit(`characterReferenceValue`);return o===Tt&&!ht(r.sliceSerialize(i))?n(s):(e.enter(`characterReferenceMarker`),e.consume(s),e.exit(`characterReferenceMarker`),e.exit(`characterReference`),t)}return o(s)&&i++<a?(e.consume(s),u):n(s)}}const on={partial:!0,tokenize:ln},sn={concrete:!0,name:`codeFenced`,tokenize:cn};function cn(e,t,n){let r=this,i={partial:!0,tokenize:x},a=0,o=0,s;return c;function c(e){return l(e)}function l(t){let n=r.events[r.events.length-1];return a=n&&n[1].type===`linePrefix`?n[2].sliceSerialize(n[1],!0).length:0,s=t,e.enter(`codeFenced`),e.enter(`codeFencedFence`),e.enter(`codeFencedFenceSequence`),u(t)}function u(t){return t===s?(o++,e.consume(t),u):o<3?n(t):(e.exit(`codeFencedFenceSequence`),P(t)?F(e,d,`whitespace`)(t):d(t))}function d(n){return n===null||M(n)?(e.exit(`codeFencedFence`),r.interrupt?t(n):e.check(on,h,b)(n)):(e.enter(`codeFencedFenceInfo`),e.enter(`chunkString`,{contentType:`string`}),f(n))}function f(t){return t===null||M(t)?(e.exit(`chunkString`),e.exit(`codeFencedFenceInfo`),d(t)):P(t)?(e.exit(`chunkString`),e.exit(`codeFencedFenceInfo`),F(e,p,`whitespace`)(t)):t===96&&t===s?n(t):(e.consume(t),f)}function p(t){return t===null||M(t)?d(t):(e.enter(`codeFencedFenceMeta`),e.enter(`chunkString`,{contentType:`string`}),m(t))}function m(t){return t===null||M(t)?(e.exit(`chunkString`),e.exit(`codeFencedFenceMeta`),d(t)):t===96&&t===s?n(t):(e.consume(t),m)}function h(t){return e.attempt(i,b,g)(t)}function g(t){return e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),_}function _(t){return a>0&&P(t)?F(e,v,`linePrefix`,a+1)(t):v(t)}function v(t){return t===null||M(t)?e.check(on,h,b)(t):(e.enter(`codeFlowValue`),y(t))}function y(t){return t===null||M(t)?(e.exit(`codeFlowValue`),v(t)):(e.consume(t),y)}function b(n){return e.exit(`codeFenced`),t(n)}function x(e,t,n){let i=0;return a;function a(t){return e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),c}function c(t){return e.enter(`codeFencedFence`),P(t)?F(e,l,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(t):l(t)}function l(t){return t===s?(e.enter(`codeFencedFenceSequence`),u(t)):n(t)}function u(t){return t===s?(i++,e.consume(t),u):i>=o?(e.exit(`codeFencedFenceSequence`),P(t)?F(e,d,`whitespace`)(t):d(t)):n(t)}function d(r){return r===null||M(r)?(e.exit(`codeFencedFence`),t(r)):n(r)}}}function ln(e,t,n){let r=this;return i;function i(t){return t===null?n(t):(e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),a)}function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}const un={name:`codeIndented`,tokenize:fn},dn={partial:!0,tokenize:pn};function fn(e,t,n){let r=this;return i;function i(t){return e.enter(`codeIndented`),F(e,a,`linePrefix`,5)(t)}function a(e){let t=r.events[r.events.length-1];return t&&t[1].type===`linePrefix`&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return t===null?c(t):M(t)?e.attempt(dn,o,c)(t):(e.enter(`codeFlowValue`),s(t))}function s(t){return t===null||M(t)?(e.exit(`codeFlowValue`),o(t)):(e.consume(t),s)}function c(n){return e.exit(`codeIndented`),t(n)}}function pn(e,t,n){let r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):M(t)?(e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),i):F(e,a,`linePrefix`,5)(t)}function a(e){let a=r.events[r.events.length-1];return a&&a[1].type===`linePrefix`&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):M(e)?i(e):n(e)}}const mn={name:`codeText`,previous:gn,resolve:hn,tokenize:_n};function hn(e){let t=e.length-4,n=3,r,i;if((e[n][1].type===`lineEnding`||e[n][1].type===`space`)&&(e[t][1].type===`lineEnding`||e[t][1].type===`space`)){for(r=n;++r<t;)if(e[r][1].type===`codeTextData`){e[n][1].type=`codeTextPadding`,e[t][1].type=`codeTextPadding`,n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!==`lineEnding`&&(i=r):(r===t||e[r][1].type===`lineEnding`)&&(e[i][1].type=`codeTextData`,r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function gn(e){return e!==96||this.events[this.events.length-1][1].type===`characterEscape`}function _n(e,t,n){let r=this,i=0,a,o;return s;function s(t){return e.enter(`codeText`),e.enter(`codeTextSequence`),c(t)}function c(t){return t===96?(e.consume(t),i++,c):(e.exit(`codeTextSequence`),l(t))}function l(t){return t===null?n(t):t===32?(e.enter(`space`),e.consume(t),e.exit(`space`),l):t===96?(o=e.enter(`codeTextSequence`),a=0,d(t)):M(t)?(e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),l):(e.enter(`codeTextData`),u(t))}function u(t){return t===null||t===32||t===96||M(t)?(e.exit(`codeTextData`),l(t)):(e.consume(t),u)}function d(n){return n===96?(e.consume(n),a++,d):a===i?(e.exit(`codeTextSequence`),e.exit(`codeText`),t(n)):(o.type=`codeTextData`,u(n))}}var vn=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){let n=t??1/0;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){let r=t||0;this.setCursor(Math.trunc(e));let i=this.right.splice(this.right.length-r,1/0);return n&&yn(this.left,n),i.reverse()}pop(){return this.setCursor(1/0),this.left.pop()}push(e){this.setCursor(1/0),this.left.push(e)}pushMany(e){this.setCursor(1/0),yn(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),yn(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let t=this.left.splice(e,1/0);yn(this.right,t.reverse())}else{let t=this.right.splice(this.left.length+this.right.length-e,1/0);yn(this.left,t.reverse())}}};function yn(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function bn(e){let t={},n=-1,r,i,a,o,s,c,l,u=new vn(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type===`chunkFlow`&&u.get(n-1)[1].type===`listItemPrefix`&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type===`lineEndingBlank`&&(a+=2),a<c.length&&c[a][1].type===`content`))for(;++a<c.length&&c[a][1].type!==`content`;)c[a][1].type===`chunkText`&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]===`enter`)r[1].contentType&&(Object.assign(t,xn(u,n)),n=t[n],l=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=u.get(a),o[1].type===`lineEnding`||o[1].type===`lineEndingBlank`)o[0]===`enter`&&(i&&(u.get(i)[1].type=`lineEndingBlank`),o[1].type=`lineEnding`,i=a);else if(!(o[1].type===`linePrefix`||o[1].type===`listItemIndent`))break;i&&(r[1].end={...u.get(i)[1].start},s=u.slice(i,n),s.unshift(r),u.splice(i,n-i+1,s))}}return gt(e,0,1/0,u.slice(0)),!l}function xn(e,t){let n=e.get(t)[1],r=e.get(t)[2],i=t-1,a=[],o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));let s=o.events,c=[],l={},u,d,f=-1,p=n,m=0,h=0,g=[h];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<s.length;)s[f][0]===`exit`&&s[f-1][0]===`enter`&&s[f][1].type===s[f-1][1].type&&s[f][1].start.line!==s[f][1].end.line&&(h=f+1,g.push(h),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),f=g.length;f--;){let t=s.slice(g[f],g[f+1]),n=a.pop();c.push([n,n+t.length-1]),e.splice(n,2,t)}for(c.reverse(),f=-1;++f<c.length;)l[m+c[f][0]]=m+c[f][1],m+=c[f][1]-c[f][0]-1;return l}const Sn={resolve:wn,tokenize:Tn},Cn={partial:!0,tokenize:En};function wn(e){return bn(e),e}function Tn(e,t){let n;return r;function r(t){return e.enter(`content`),n=e.enter(`chunkContent`,{contentType:`content`}),i(t)}function i(t){return t===null?a(t):M(t)?e.check(Cn,o,a)(t):(e.consume(t),i)}function a(n){return e.exit(`chunkContent`),e.exit(`content`),t(n)}function o(t){return e.consume(t),e.exit(`chunkContent`),n.next=e.enter(`chunkContent`,{contentType:`content`,previous:n}),n=n.next,i}}function En(e,t,n){let r=this;return i;function i(t){return e.exit(`chunkContent`),e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),F(e,a,`linePrefix`)}function a(i){if(i===null||M(i))return n(i);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes(`codeIndented`)&&a&&a[1].type===`linePrefix`&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}function Dn(e,t,n,r,i,a,o,s,c){let l=c||1/0,u=0;return d;function d(t){return t===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(t),e.exit(a),f):t===null||t===32||t===41||Dt(t)?n(t):(e.enter(r),e.enter(o),e.enter(s),e.enter(`chunkString`,{contentType:`string`}),h(t))}function f(n){return n===62?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter(`chunkString`,{contentType:`string`}),p(n))}function p(t){return t===62?(e.exit(`chunkString`),e.exit(s),f(t)):t===null||t===60||M(t)?n(t):(e.consume(t),t===92?m:p)}function m(t){return t===60||t===62||t===92?(e.consume(t),p):p(t)}function h(i){return!u&&(i===null||i===41||N(i))?(e.exit(`chunkString`),e.exit(s),e.exit(o),e.exit(r),t(i)):u<l&&i===40?(e.consume(i),u++,h):i===41?(e.consume(i),u--,h):i===null||i===32||i===40||Dt(i)?n(i):(e.consume(i),i===92?g:h)}function g(t){return t===40||t===41||t===92?(e.consume(t),h):h(t)}}function On(e,t,n,r,i,a){let o=this,s=0,c;return l;function l(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(a),u}function u(l){return s>999||l===null||l===91||l===93&&!c||l===94&&!s&&`_hiddenFootnoteSupport`in o.parser.constructs?n(l):l===93?(e.exit(a),e.enter(i),e.consume(l),e.exit(i),e.exit(r),t):M(l)?(e.enter(`lineEnding`),e.consume(l),e.exit(`lineEnding`),u):(e.enter(`chunkString`,{contentType:`string`}),d(l))}function d(t){return t===null||t===91||t===93||M(t)||s++>999?(e.exit(`chunkString`),u(t)):(e.consume(t),c||=!P(t),t===92?f:d)}function f(t){return t===91||t===92||t===93?(e.consume(t),s++,d):d(t)}}function kn(e,t,n,r,i,a){let o;return s;function s(t){return t===34||t===39||t===40?(e.enter(r),e.enter(i),e.consume(t),e.exit(i),o=t===40?41:t,c):n(t)}function c(n){return n===o?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(a),l(n))}function l(t){return t===o?(e.exit(a),c(o)):t===null?n(t):M(t)?(e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),F(e,l,`linePrefix`)):(e.enter(`chunkString`,{contentType:`string`}),u(t))}function u(t){return t===o||t===null||M(t)?(e.exit(`chunkString`),l(t)):(e.consume(t),t===92?d:u)}function d(t){return t===o||t===92?(e.consume(t),u):u(t)}}function An(e,t){let n;return r;function r(i){return M(i)?(e.enter(`lineEnding`),e.consume(i),e.exit(`lineEnding`),n=!0,r):P(i)?F(e,r,n?`linePrefix`:`lineSuffix`)(i):t(i)}}const jn={name:`definition`,tokenize:Nn},Mn={partial:!0,tokenize:Pn};function Nn(e,t,n){let r=this,i;return a;function a(t){return e.enter(`definition`),o(t)}function o(t){return On.call(r,e,s,n,`definitionLabel`,`definitionLabelMarker`,`definitionLabelString`)(t)}function s(t){return i=Ct(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),t===58?(e.enter(`definitionMarker`),e.consume(t),e.exit(`definitionMarker`),c):n(t)}function c(t){return N(t)?An(e,l)(t):l(t)}function l(t){return Dn(e,u,n,`definitionDestination`,`definitionDestinationLiteral`,`definitionDestinationLiteralMarker`,`definitionDestinationRaw`,`definitionDestinationString`)(t)}function u(t){return e.attempt(Mn,d,d)(t)}function d(t){return P(t)?F(e,f,`whitespace`)(t):f(t)}function f(a){return a===null||M(a)?(e.exit(`definition`),r.parser.defined.push(i),t(a)):n(a)}}function Pn(e,t,n){return r;function r(t){return N(t)?An(e,i)(t):n(t)}function i(t){return kn(e,a,n,`definitionTitle`,`definitionTitleMarker`,`definitionTitleString`)(t)}function a(t){return P(t)?F(e,o,`whitespace`)(t):o(t)}function o(e){return e===null||M(e)?t(e):n(e)}}const Fn={name:`hardBreakEscape`,tokenize:In};function In(e,t,n){return r;function r(t){return e.enter(`hardBreakEscape`),e.consume(t),i}function i(r){return M(r)?(e.exit(`hardBreakEscape`),t(r)):n(r)}}const Ln={name:`headingAtx`,resolve:Rn,tokenize:zn};function Rn(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type===`whitespace`&&(r+=2),n-2>r&&e[n][1].type===`whitespace`&&(n-=2),e[n][1].type===`atxHeadingSequence`&&(r===n-1||n-4>r&&e[n-2][1].type===`whitespace`)&&(n-=r+1===n?2:4),n>r&&(i={type:`atxHeadingText`,start:e[r][1].start,end:e[n][1].end},a={type:`chunkText`,start:e[r][1].start,end:e[n][1].end,contentType:`text`},gt(e,r,n-r+1,[[`enter`,i,t],[`enter`,a,t],[`exit`,a,t],[`exit`,i,t]])),e}function zn(e,t,n){let r=0;return i;function i(t){return e.enter(`atxHeading`),a(t)}function a(t){return e.enter(`atxHeadingSequence`),o(t)}function o(t){return t===35&&r++<6?(e.consume(t),o):t===null||N(t)?(e.exit(`atxHeadingSequence`),s(t)):n(t)}function s(n){return n===35?(e.enter(`atxHeadingSequence`),c(n)):n===null||M(n)?(e.exit(`atxHeading`),t(n)):P(n)?F(e,s,`whitespace`)(n):(e.enter(`atxHeadingText`),l(n))}function c(t){return t===35?(e.consume(t),c):(e.exit(`atxHeadingSequence`),s(t))}function l(t){return t===null||t===35||N(t)?(e.exit(`atxHeadingText`),s(t)):(e.consume(t),l)}}const Bn=`address.article.aside.base.basefont.blockquote.body.caption.center.col.colgroup.dd.details.dialog.dir.div.dl.dt.fieldset.figcaption.figure.footer.form.frame.frameset.h1.h2.h3.h4.h5.h6.head.header.hr.html.iframe.legend.li.link.main.menu.menuitem.nav.noframes.ol.optgroup.option.p.param.search.section.summary.table.tbody.td.tfoot.th.thead.title.tr.track.ul`.split(`.`),Vn=[`pre`,`script`,`style`,`textarea`],Hn={concrete:!0,name:`htmlFlow`,resolveTo:Gn,tokenize:Kn},Un={partial:!0,tokenize:Jn},Wn={partial:!0,tokenize:qn};function Gn(e){let t=e.length;for(;t--&&!(e[t][0]===`enter`&&e[t][1].type===`htmlFlow`););return t>1&&e[t-2][1].type===`linePrefix`&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Kn(e,t,n){let r=this,i,a,o,s,c;return l;function l(e){return u(e)}function u(t){return e.enter(`htmlFlow`),e.enter(`htmlFlowData`),e.consume(t),d}function d(s){return s===33?(e.consume(s),f):s===47?(e.consume(s),a=!0,h):s===63?(e.consume(s),i=3,r.interrupt?t:A):wt(s)?(e.consume(s),o=String.fromCharCode(s),g):n(s)}function f(a){return a===45?(e.consume(a),i=2,p):a===91?(e.consume(a),i=5,s=0,m):wt(a)?(e.consume(a),i=4,r.interrupt?t:A):n(a)}function p(i){return i===45?(e.consume(i),r.interrupt?t:A):n(i)}function m(i){let a=`CDATA[`;return i===a.charCodeAt(s++)?(e.consume(i),s===a.length?r.interrupt?t:D:m):n(i)}function h(t){return wt(t)?(e.consume(t),o=String.fromCharCode(t),g):n(t)}function g(s){if(s===null||s===47||s===62||N(s)){let c=s===47,l=o.toLowerCase();return!c&&!a&&Vn.includes(l)?(i=1,r.interrupt?t(s):D(s)):Bn.includes(o.toLowerCase())?(i=6,c?(e.consume(s),_):r.interrupt?t(s):D(s)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):a?v(s):y(s))}return s===45||Tt(s)?(e.consume(s),o+=String.fromCharCode(s),g):n(s)}function _(i){return i===62?(e.consume(i),r.interrupt?t:D):n(i)}function v(t){return P(t)?(e.consume(t),v):E(t)}function y(t){return t===47?(e.consume(t),E):t===58||t===95||wt(t)?(e.consume(t),b):P(t)?(e.consume(t),y):E(t)}function b(t){return t===45||t===46||t===58||t===95||Tt(t)?(e.consume(t),b):x(t)}function x(t){return t===61?(e.consume(t),S):P(t)?(e.consume(t),x):y(t)}function S(t){return t===null||t===60||t===61||t===62||t===96?n(t):t===34||t===39?(e.consume(t),c=t,C):P(t)?(e.consume(t),S):w(t)}function C(t){return t===c?(e.consume(t),c=null,T):t===null||M(t)?n(t):(e.consume(t),C)}function w(t){return t===null||t===34||t===39||t===47||t===60||t===61||t===62||t===96||N(t)?x(t):(e.consume(t),w)}function T(e){return e===47||e===62||P(e)?y(e):n(e)}function E(t){return t===62?(e.consume(t),ee):n(t)}function ee(t){return t===null||M(t)?D(t):P(t)?(e.consume(t),ee):n(t)}function D(t){return t===45&&i===2?(e.consume(t),re):t===60&&i===1?(e.consume(t),k):t===62&&i===4?(e.consume(t),oe):t===63&&i===3?(e.consume(t),A):t===93&&i===5?(e.consume(t),ae):M(t)&&(i===6||i===7)?(e.exit(`htmlFlowData`),e.check(Un,se,O)(t)):t===null||M(t)?(e.exit(`htmlFlowData`),O(t)):(e.consume(t),D)}function O(t){return e.check(Wn,te,se)(t)}function te(t){return e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),ne}function ne(t){return t===null||M(t)?O(t):(e.enter(`htmlFlowData`),D(t))}function re(t){return t===45?(e.consume(t),A):D(t)}function k(t){return t===47?(e.consume(t),o=``,ie):D(t)}function ie(t){if(t===62){let n=o.toLowerCase();return Vn.includes(n)?(e.consume(t),oe):D(t)}return wt(t)&&o.length<8?(e.consume(t),o+=String.fromCharCode(t),ie):D(t)}function ae(t){return t===93?(e.consume(t),A):D(t)}function A(t){return t===62?(e.consume(t),oe):t===45&&i===2?(e.consume(t),A):D(t)}function oe(t){return t===null||M(t)?(e.exit(`htmlFlowData`),se(t)):(e.consume(t),oe)}function se(n){return e.exit(`htmlFlow`),t(n)}}function qn(e,t,n){let r=this;return i;function i(t){return M(t)?(e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),a):n(t)}function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}function Jn(e,t,n){return r;function r(r){return e.enter(`lineEnding`),e.consume(r),e.exit(`lineEnding`),e.attempt(Yt,t,n)}}const Yn={name:`htmlText`,tokenize:Xn};function Xn(e,t,n){let r=this,i,a,o;return s;function s(t){return e.enter(`htmlText`),e.enter(`htmlTextData`),e.consume(t),c}function c(t){return t===33?(e.consume(t),l):t===47?(e.consume(t),x):t===63?(e.consume(t),y):wt(t)?(e.consume(t),w):n(t)}function l(t){return t===45?(e.consume(t),u):t===91?(e.consume(t),a=0,m):wt(t)?(e.consume(t),v):n(t)}function u(t){return t===45?(e.consume(t),p):n(t)}function d(t){return t===null?n(t):t===45?(e.consume(t),f):M(t)?(o=d,k(t)):(e.consume(t),d)}function f(t){return t===45?(e.consume(t),p):d(t)}function p(e){return e===62?re(e):e===45?f(e):d(e)}function m(t){let r=`CDATA[`;return t===r.charCodeAt(a++)?(e.consume(t),a===r.length?h:m):n(t)}function h(t){return t===null?n(t):t===93?(e.consume(t),g):M(t)?(o=h,k(t)):(e.consume(t),h)}function g(t){return t===93?(e.consume(t),_):h(t)}function _(t){return t===62?re(t):t===93?(e.consume(t),_):h(t)}function v(t){return t===null||t===62?re(t):M(t)?(o=v,k(t)):(e.consume(t),v)}function y(t){return t===null?n(t):t===63?(e.consume(t),b):M(t)?(o=y,k(t)):(e.consume(t),y)}function b(e){return e===62?re(e):y(e)}function x(t){return wt(t)?(e.consume(t),S):n(t)}function S(t){return t===45||Tt(t)?(e.consume(t),S):C(t)}function C(t){return M(t)?(o=C,k(t)):P(t)?(e.consume(t),C):re(t)}function w(t){return t===45||Tt(t)?(e.consume(t),w):t===47||t===62||N(t)?T(t):n(t)}function T(t){return t===47?(e.consume(t),re):t===58||t===95||wt(t)?(e.consume(t),E):M(t)?(o=T,k(t)):P(t)?(e.consume(t),T):re(t)}function E(t){return t===45||t===46||t===58||t===95||Tt(t)?(e.consume(t),E):ee(t)}function ee(t){return t===61?(e.consume(t),D):M(t)?(o=ee,k(t)):P(t)?(e.consume(t),ee):T(t)}function D(t){return t===null||t===60||t===61||t===62||t===96?n(t):t===34||t===39?(e.consume(t),i=t,O):M(t)?(o=D,k(t)):P(t)?(e.consume(t),D):(e.consume(t),te)}function O(t){return t===i?(e.consume(t),i=void 0,ne):t===null?n(t):M(t)?(o=O,k(t)):(e.consume(t),O)}function te(t){return t===null||t===34||t===39||t===60||t===61||t===96?n(t):t===47||t===62||N(t)?T(t):(e.consume(t),te)}function ne(e){return e===47||e===62||N(e)?T(e):n(e)}function re(r){return r===62?(e.consume(r),e.exit(`htmlTextData`),e.exit(`htmlText`),t):n(r)}function k(t){return e.exit(`htmlTextData`),e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),ie}function ie(t){return P(t)?F(e,ae,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(t):ae(t)}function ae(t){return e.enter(`htmlTextData`),o(t)}}const Zn={name:`labelEnd`,resolveAll:tr,resolveTo:nr,tokenize:rr},Qn={tokenize:ir},$n={tokenize:ar},er={tokenize:or};function tr(e){let t=-1,n=[];for(;++t<e.length;){let r=e[t][1];if(n.push(e[t]),r.type===`labelImage`||r.type===`labelLink`||r.type===`labelEnd`){let e=r.type===`labelImage`?4:2;r.type=`data`,t+=e}}return e.length!==n.length&&gt(e,0,e.length,n),e}function nr(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type===`link`||i.type===`labelLink`&&i._inactive)break;e[n][0]===`enter`&&i.type===`labelLink`&&(i._inactive=!0)}else if(o){if(e[n][0]===`enter`&&(i.type===`labelImage`||i.type===`labelLink`)&&!i._balanced&&(a=n,i.type!==`labelLink`)){r=2;break}}else i.type===`labelEnd`&&(o=n);let c={type:e[a][1].type===`labelLink`?`link`:`image`,start:{...e[a][1].start},end:{...e[e.length-1][1].end}},l={type:`label`,start:{...e[a][1].start},end:{...e[o][1].end}},u={type:`labelText`,start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[[`enter`,c,t],[`enter`,l,t]],s=_t(s,e.slice(a+1,a+r+3)),s=_t(s,[[`enter`,u,t]]),s=_t(s,Ht(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=_t(s,[[`exit`,u,t],e[o-2],e[o-1],[`exit`,l,t]]),s=_t(s,e.slice(o+1)),s=_t(s,[[`exit`,c,t]]),gt(e,a,e.length,s),e}function rr(e,t,n){let r=this,i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type===`labelImage`||r.events[i][1].type===`labelLink`)&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(t){return a?a._inactive?d(t):(o=r.parser.defined.includes(Ct(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter(`labelEnd`),e.enter(`labelMarker`),e.consume(t),e.exit(`labelMarker`),e.exit(`labelEnd`),c):n(t)}function c(t){return t===40?e.attempt(Qn,u,o?u:d)(t):t===91?e.attempt($n,u,o?l:d)(t):o?u(t):d(t)}function l(t){return e.attempt(er,u,d)(t)}function u(e){return t(e)}function d(e){return a._balanced=!0,n(e)}}function ir(e,t,n){return r;function r(t){return e.enter(`resource`),e.enter(`resourceMarker`),e.consume(t),e.exit(`resourceMarker`),i}function i(t){return N(t)?An(e,a)(t):a(t)}function a(t){return t===41?u(t):Dn(e,o,s,`resourceDestination`,`resourceDestinationLiteral`,`resourceDestinationLiteralMarker`,`resourceDestinationRaw`,`resourceDestinationString`,32)(t)}function o(t){return N(t)?An(e,c)(t):u(t)}function s(e){return n(e)}function c(t){return t===34||t===39||t===40?kn(e,l,n,`resourceTitle`,`resourceTitleMarker`,`resourceTitleString`)(t):u(t)}function l(t){return N(t)?An(e,u)(t):u(t)}function u(r){return r===41?(e.enter(`resourceMarker`),e.consume(r),e.exit(`resourceMarker`),e.exit(`resource`),t):n(r)}}function ar(e,t,n){let r=this;return i;function i(t){return On.call(r,e,a,o,`reference`,`referenceMarker`,`referenceString`)(t)}function a(e){return r.parser.defined.includes(Ct(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function o(e){return n(e)}}function or(e,t,n){return r;function r(t){return e.enter(`reference`),e.enter(`referenceMarker`),e.consume(t),e.exit(`referenceMarker`),i}function i(r){return r===93?(e.enter(`referenceMarker`),e.consume(r),e.exit(`referenceMarker`),e.exit(`reference`),t):n(r)}}const sr={name:`labelStartImage`,resolveAll:Zn.resolveAll,tokenize:cr};function cr(e,t,n){let r=this;return i;function i(t){return e.enter(`labelImage`),e.enter(`labelImageMarker`),e.consume(t),e.exit(`labelImageMarker`),a}function a(t){return t===91?(e.enter(`labelMarker`),e.consume(t),e.exit(`labelMarker`),e.exit(`labelImage`),o):n(t)}function o(e){return e===94&&`_hiddenFootnoteSupport`in r.parser.constructs?n(e):t(e)}}const lr={name:`labelStartLink`,resolveAll:Zn.resolveAll,tokenize:ur};function ur(e,t,n){let r=this;return i;function i(t){return e.enter(`labelLink`),e.enter(`labelMarker`),e.consume(t),e.exit(`labelMarker`),e.exit(`labelLink`),a}function a(e){return e===94&&`_hiddenFootnoteSupport`in r.parser.constructs?n(e):t(e)}}const dr={name:`lineEnding`,tokenize:fr};function fr(e,t){return n;function n(n){return e.enter(`lineEnding`),e.consume(n),e.exit(`lineEnding`),F(e,t,`linePrefix`)}}const pr={name:`thematicBreak`,tokenize:mr};function mr(e,t,n){let r=0,i;return a;function a(t){return e.enter(`thematicBreak`),o(t)}function o(e){return i=e,s(e)}function s(a){return a===i?(e.enter(`thematicBreakSequence`),c(a)):r>=3&&(a===null||M(a))?(e.exit(`thematicBreak`),t(a)):n(a)}function c(t){return t===i?(e.consume(t),r++,c):(e.exit(`thematicBreakSequence`),P(t)?F(e,s,`whitespace`)(t):s(t))}}const hr={continuation:{tokenize:yr},exit:xr,name:`list`,tokenize:vr},gr={partial:!0,tokenize:Sr},_r={partial:!0,tokenize:br};function vr(e,t,n){let r=this,i=r.events[r.events.length-1],a=i&&i[1].type===`linePrefix`?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(t){let i=r.containerState.type||(t===42||t===43||t===45?`listUnordered`:`listOrdered`);if(i===`listUnordered`?!r.containerState.marker||t===r.containerState.marker:Ot(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),i===`listUnordered`)return e.enter(`listItemPrefix`),t===42||t===45?e.check(pr,n,l)(t):l(t);if(!r.interrupt||t===49)return e.enter(`listItemPrefix`),e.enter(`listItemValue`),c(t)}return n(t)}function c(t){return Ot(t)&&++o<10?(e.consume(t),c):(!r.interrupt||o<2)&&(r.containerState.marker?t===r.containerState.marker:t===41||t===46)?(e.exit(`listItemValue`),l(t)):n(t)}function l(t){return e.enter(`listItemMarker`),e.consume(t),e.exit(`listItemMarker`),r.containerState.marker=r.containerState.marker||t,e.check(Yt,r.interrupt?n:u,e.attempt(gr,f,d))}function u(e){return r.containerState.initialBlankLine=!0,a++,f(e)}function d(t){return P(t)?(e.enter(`listItemPrefixWhitespace`),e.consume(t),e.exit(`listItemPrefixWhitespace`),f):n(t)}function f(n){return r.containerState.size=a+r.sliceSerialize(e.exit(`listItemPrefix`),!0).length,t(n)}}function yr(e,t,n){let r=this;return r.containerState._closeFlow=void 0,e.check(Yt,i,a);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,F(e,t,`listItemIndent`,r.containerState.size+1)(n)}function a(n){return r.containerState.furtherBlankLines||!P(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(_r,t,o)(n))}function o(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,F(e,e.attempt(hr,t,n),`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(i)}}function br(e,t,n){let r=this;return F(e,i,`listItemIndent`,r.containerState.size+1);function i(e){let i=r.events[r.events.length-1];return i&&i[1].type===`listItemIndent`&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}}function xr(e){e.exit(this.containerState.type)}function Sr(e,t,n){let r=this;return F(e,i,`listItemPrefixWhitespace`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:5);function i(e){let i=r.events[r.events.length-1];return!P(e)&&i&&i[1].type===`listItemPrefixWhitespace`?t(e):n(e)}}const Cr={name:`setextUnderline`,resolveTo:wr,tokenize:Tr};function wr(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]===`enter`){if(e[n][1].type===`content`){r=n;break}e[n][1].type===`paragraph`&&(i=n)}else e[n][1].type===`content`&&e.splice(n,1),!a&&e[n][1].type===`definition`&&(a=n);let o={type:`setextHeading`,start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type=`setextHeadingText`,a?(e.splice(i,0,[`enter`,o,t]),e.splice(a+1,0,[`exit`,e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push([`exit`,o,t]),e}function Tr(e,t,n){let r=this,i;return a;function a(t){let a=r.events.length,s;for(;a--;)if(r.events[a][1].type!==`lineEnding`&&r.events[a][1].type!==`linePrefix`&&r.events[a][1].type!==`content`){s=r.events[a][1].type===`paragraph`;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||s)?(e.enter(`setextHeadingLine`),i=t,o(t)):n(t)}function o(t){return e.enter(`setextHeadingLineSequence`),s(t)}function s(t){return t===i?(e.consume(t),s):(e.exit(`setextHeadingLineSequence`),P(t)?F(e,c,`lineSuffix`)(t):c(t))}function c(r){return r===null||M(r)?(e.exit(`setextHeadingLine`),t(r)):n(r)}}const Er={tokenize:Dr};function Dr(e){let t=this,n=e.attempt(Yt,r,e.attempt(this.parser.constructs.flowInitial,i,F(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Sn,i)),`linePrefix`)));return n;function r(r){if(r===null){e.consume(r);return}return e.enter(`lineEndingBlank`),e.consume(r),e.exit(`lineEndingBlank`),t.currentConstruct=void 0,n}function i(r){if(r===null){e.consume(r);return}return e.enter(`lineEnding`),e.consume(r),e.exit(`lineEnding`),t.currentConstruct=void 0,n}}const Or={resolveAll:Mr()},kr=jr(`string`),Ar=jr(`text`);function jr(e){return{resolveAll:Mr(e===`text`?Nr:void 0),tokenize:t};function t(t){let n=this,r=this.parser.constructs[e],i=t.attempt(r,a,o);return a;function a(e){return c(e)?i(e):o(e)}function o(e){if(e===null){t.consume(e);return}return t.enter(`data`),t.consume(e),s}function s(e){return c(e)?(t.exit(`data`),i(e)):(t.consume(e),s)}function c(e){if(e===null)return!0;let t=r[e],i=-1;if(t)for(;++i<t.length;){let e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}function Mr(e){return t;function t(t,n){let r=-1,i;for(;++r<=t.length;)i===void 0?t[r]&&t[r][1].type===`data`&&(i=r,r++):(!t[r]||t[r][1].type!==`data`)&&(r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),r=i+2),i=void 0);return e?e(t,n):t}}function Nr(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type===`lineEnding`)&&e[n-1][1].type===`data`){let r=e[n-1][1],i=t.sliceStream(r),a=i.length,o=-1,s=0,c;for(;a--;){let e=i[a];if(typeof e==`string`){for(o=e.length;e.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(e===-2)c=!0,s++;else if(e!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){let i={type:n===e.length||c||s<2?`lineSuffix`:`hardBreakTrailing`,start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...i.start},r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,[`enter`,i,t],[`exit`,i,t]),n+=2)}n++}return e}var Pr={};t(Pr,{attentionMarkers:()=>Hr,contentInitial:()=>Ir,disable:()=>Ur,document:()=>Fr,flow:()=>Rr,flowInitial:()=>Lr,insideSpan:()=>Vr,string:()=>zr,text:()=>Br});const Fr={42:hr,43:hr,45:hr,48:hr,49:hr,50:hr,51:hr,52:hr,53:hr,54:hr,55:hr,56:hr,57:hr,62:Zt},Ir={91:jn},Lr={[-2]:un,[-1]:un,32:un},Rr={35:Ln,42:pr,45:[Cr,pr],60:Hn,61:Cr,95:pr,96:sn,126:sn},zr={38:rn,92:tn},Br={[-5]:dr,[-4]:dr,[-3]:dr,33:sr,38:rn,42:Ut,60:[qt,Yn],91:lr,92:[Fn,tn],93:Zn,95:Ut,96:mn},Vr={null:[Ut,Or]},Hr={null:[42,95]},Ur={null:[]};function Wr(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},a=[],o=[],s=[],c=!0,l={attempt:T(C),check:T(w),consume:b,enter:x,exit:S,interrupt:T(w,{interrupt:!0})},u={code:null,containerState:{},defineSkip:_,events:[],now:g,parser:e,previous:null,sliceSerialize:m,sliceStream:h,write:p},d=t.tokenize.call(u,l),f;return t.resolveAll&&a.push(t),u;function p(e){return o=_t(o,e),v(),o[o.length-1]===null?(E(t,0),u.events=Ht(a,u.events,u),u.events):[]}function m(e,t){return Kr(h(e),t)}function h(e){return Gr(o,e)}function g(){let{_bufferIndex:e,_index:t,line:n,column:i,offset:a}=r;return{_bufferIndex:e,_index:t,line:n,column:i,offset:a}}function _(e){i[e.line]=e.column,D()}function v(){let e;for(;r._index<o.length;){let t=o[r._index];if(typeof t==`string`)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)y(t.charCodeAt(r._bufferIndex));else y(t)}}function y(e){c=void 0,f=e,d=d(e)}function b(e){M(e)?(r.line++,r.column=1,r.offset+=e===-3?2:1,D()):e!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=e,c=!0}function x(e,t){let n=t||{};return n.type=e,n.start=g(),u.events.push([`enter`,n,u]),s.push(n),n}function S(e){let t=s.pop();return t.end=g(),u.events.push([`exit`,t,u]),t}function C(e,t){E(e,t.from)}function w(e,t){t.restore()}function T(e,t){return n;function n(n,r,i){let a,o,s,d;return Array.isArray(n)?p(n):`tokenize`in n?p([n]):f(n);function f(e){return t;function t(t){let n=t!==null&&e[t],r=t!==null&&e.null,i=[...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]];return p(i)(t)}}function p(e){return a=e,o=0,e.length===0?i:m(e[o])}function m(e){return n;function n(n){return d=ee(),s=e,e.partial||(u.currentConstruct=e),e.name&&u.parser.constructs.disable.null.includes(e.name)?g(n):e.tokenize.call(t?Object.assign(Object.create(u),t):u,l,h,g)(n)}}function h(t){return c=!0,e(s,d),r}function g(e){return c=!0,d.restore(),++o<a.length?m(a[o]):i}}}function E(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&gt(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function ee(){let e=g(),t=u.previous,n=u.currentConstruct,i=u.events.length,a=Array.from(s);return{from:i,restore:o};function o(){r=e,u.previous=t,u.currentConstruct=n,u.events.length=i,s=a,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Gr(e,t){let n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex,o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){let e=o[0];typeof e==`string`?o[0]=e.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function Kr(e,t){let n=-1,r=[],i;for(;++n<e.length;){let a=e[n],o;if(typeof a==`string`)o=a;else switch(a){case-5:o=`\r`;break;case-4:o=`
`;break;case-3:o=`\r
`;break;case-2:o=t?` `:`	`;break;case-1:if(!t&&i)continue;o=` `;break;default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join(``)}function qr(e){let t=e||{},n=yt([Pr,...t.extensions||[]]),r={constructs:n,content:i(Ft),defined:[],document:i(Lt),flow:i(Er),lazy:{},string:i(kr),text:i(Ar)};return r;function i(e){return t;function t(t){return Wr(r,e,t)}}}function Jr(e){for(;!bn(e););return e}const Yr=/[\0\t\n\r]/g;function Xr(){let e=1,t=``,n=!0,r;return i;function i(i,a,o){let s=[],c,l,u,d,f;for(i=t+(typeof i==`string`?i.toString():new TextDecoder(a||void 0).decode(i)),u=0,t=``,n&&(i.charCodeAt(0)===65279&&u++,n=void 0);u<i.length;){if(Yr.lastIndex=u,c=Yr.exec(i),d=c&&c.index!==void 0?c.index:i.length,f=i.charCodeAt(d),!c){t=i.slice(u);break}if(f===10&&u===d&&r)s.push(-3),r=void 0;else switch(r&&(s.push(-5),r=void 0),u<d&&(s.push(i.slice(u,d)),e+=d-u),f){case 0:s.push(65533),e++;break;case 9:for(l=Math.ceil(e/4)*4,s.push(-2);e++<l;)s.push(-1);break;case 10:s.push(-4),e=1;break;default:r=!0,e=1}u=d+1}return o&&(r&&s.push(-5),t&&s.push(t),s.push(null)),s}}const Zr=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Qr(e){return e.replace(Zr,$r)}function $r(e,t,n){if(t)return t;let r=n.charCodeAt(0);if(r===35){let e=n.charCodeAt(1),t=e===120||e===88;return St(n.slice(t?2:1),t?16:10)}return ht(n)||e}const ei={}.hasOwnProperty;function ti(e,t,n){return typeof t!=`string`&&(n=t,t=void 0),ni(n)(Jr(qr(n).document().write(Xr()(e,t,!0))))}function ni(e){let t={transforms:[],canContainEols:[`emphasis`,`fragment`,`heading`,`paragraph`,`strong`],enter:{autolink:a(Ce),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(be),blockQuote:a(he),characterEscape:T,characterReference:T,codeFenced:a(ge),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ge,o),codeText:a(_e,o),codeTextData:T,data:T,codeFlowValue:T,definition:a(ve),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(ye),hardBreakEscape:a(j),hardBreakTrailing:a(j),htmlFlow:a(xe,o),htmlFlowData:T,htmlText:a(xe,o),htmlTextData:T,image:a(Se),label:o,link:a(Ce),listItem:a(Te),listItemValue:f,listOrdered:a(we,d),listUnordered:a(we),paragraph:a(Ee),reference:ce,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(be),strong:a(De),thematicBreak:a(Ae)},exit:{atxHeading:c(),atxHeadingSequence:x,autolink:c(),autolinkEmail:me,autolinkProtocol:pe,blockQuote:c(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:de,characterReference:fe,codeFenced:c(g),codeFencedFence:h,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:E,codeIndented:c(_),codeText:c(ne),codeTextData:E,data:E,definition:c(),definitionDestinationString:b,definitionLabelString:v,definitionTitleString:y,emphasis:c(),hardBreakEscape:c(D),hardBreakTrailing:c(D),htmlFlow:c(O),htmlFlowData:E,htmlText:c(te),htmlTextData:E,image:c(k),label:ae,labelText:ie,lineEnding:ee,link:c(re),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:le,resourceDestinationString:A,resourceTitleString:oe,resource:se,setextHeading:c(w),setextHeadingLineSequence:C,setextHeadingText:S,strong:c(),thematicBreak:c()}};ii(t,(e||{}).mdastExtensions||[]);let n={};return r;function r(e){let r={type:`root`,children:[]},a={stack:[r],tokenStack:[],config:t,enter:s,exit:l,buffer:o,resume:u,data:n},c=[],d=-1;for(;++d<e.length;)if(e[d][1].type===`listOrdered`||e[d][1].type===`listUnordered`)if(e[d][0]===`enter`)c.push(d);else{let t=c.pop();d=i(e,t,d)}for(d=-1;++d<e.length;){let n=t[e[d][0]];ei.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},a),e[d][1])}if(a.tokenStack.length>0){let e=a.tokenStack[a.tokenStack.length-1],t=e[1]||oi;t.call(a,void 0,e[0])}for(r.position={start:ri(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:ri(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function i(e,t,n){let r=t-1,i=-1,a=!1,o,s,c,l;for(;++r<=n;){let t=e[r];switch(t[1].type){case`listUnordered`:case`listOrdered`:case`blockQuote`:t[0]===`enter`?i++:i--,l=void 0;break;case`lineEndingBlank`:t[0]===`enter`&&(o&&!l&&!i&&!c&&(c=r),l=void 0);break;case`linePrefix`:case`listItemValue`:case`listItemMarker`:case`listItemPrefix`:case`listItemPrefixWhitespace`:break;default:l=void 0}if(!i&&t[0]===`enter`&&t[1].type===`listItemPrefix`||i===-1&&t[0]===`exit`&&(t[1].type===`listUnordered`||t[1].type===`listOrdered`)){if(o){let i=r;for(s=void 0;i--;){let t=e[i];if(t[1].type===`lineEnding`||t[1].type===`lineEndingBlank`){if(t[0]===`exit`)continue;s&&(e[s][1].type=`lineEndingBlank`,a=!0),t[1].type=`lineEnding`,s=i}else if(!(t[1].type===`linePrefix`||t[1].type===`blockQuotePrefix`||t[1].type===`blockQuotePrefixWhitespace`||t[1].type===`blockQuoteMarker`||t[1].type===`listItemIndent`))break}c&&(!s||c<s)&&(o._spread=!0),o.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||r,0,[`exit`,o,t[2]]),r++,n++}if(t[1].type===`listItemPrefix`){let i={type:`listItem`,_spread:!1,start:Object.assign({},t[1].start),end:void 0};o=i,e.splice(r,0,[`enter`,i,t[2]]),r++,n++,c=void 0,l=!0}}}return e[t][1]._spread=a,n}function a(e,t){return n;function n(n){s.call(this,e(n),n),t&&t.call(this,n)}}function o(){this.stack.push({type:`fragment`,children:[]})}function s(e,t,n){let r=this.stack[this.stack.length-1],i=r.children;i.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:ri(t.start),end:void 0}}function c(e){return t;function t(t){e&&e.call(this,t),l.call(this,t)}}function l(e,t){let n=this.stack.pop(),r=this.tokenStack.pop();if(r){if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{let t=r[1]||oi;t.call(this,e,r[0])}}else throw Error("Cannot close `"+e.type+"` ("+Oe({start:e.start,end:e.end})+`): it’s not open`);n.position.end=ri(e.end)}function u(){return ut(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(e){if(this.data.expectingFirstListItemValue){let t=this.stack[this.stack.length-2];t.start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){let e=this.resume(),t=this.stack[this.stack.length-1];t.lang=e}function m(){let e=this.resume(),t=this.stack[this.stack.length-1];t.meta=e}function h(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,``),this.data.flowCodeInside=void 0}function _(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/(\r?\n|\r)$/g,``)}function v(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Ct(this.sliceSerialize(e)).toLowerCase()}function y(){let e=this.resume(),t=this.stack[this.stack.length-1];t.title=e}function b(){let e=this.resume(),t=this.stack[this.stack.length-1];t.url=e}function x(e){let t=this.stack[this.stack.length-1];if(!t.depth){let n=this.sliceSerialize(e).length;t.depth=n}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function C(e){let t=this.stack[this.stack.length-1];t.depth=this.sliceSerialize(e).codePointAt(0)===61?1:2}function w(){this.data.setextHeadingSlurpLineEnding=void 0}function T(e){let t=this.stack[this.stack.length-1],n=t.children,r=n[n.length-1];(!r||r.type!==`text`)&&(r=ke(),r.position={start:ri(e.start),end:void 0},n.push(r)),this.stack.push(r)}function E(e){let t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=ri(e.end)}function ee(e){let n=this.stack[this.stack.length-1];if(this.data.atHardBreak){let t=n.children[n.children.length-1];t.position.end=ri(e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(T.call(this,e),E.call(this,e))}function D(){this.data.atHardBreak=!0}function O(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}function te(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}function ne(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}function re(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||`shortcut`;e.type+=`Reference`,e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function k(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||`shortcut`;e.type+=`Reference`,e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function ie(e){let t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=Qr(t),n.identifier=Ct(t).toLowerCase()}function ae(){let e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,n.type===`link`){let t=e.children;n.children=t}else n.alt=t}function A(){let e=this.resume(),t=this.stack[this.stack.length-1];t.url=e}function oe(){let e=this.resume(),t=this.stack[this.stack.length-1];t.title=e}function se(){this.data.inReference=void 0}function ce(){this.data.referenceType=`collapsed`}function le(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Ct(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType=`full`}function ue(e){this.data.characterReferenceType=e.type}function de(e){let t=this.sliceSerialize(e),n=this.data.characterReferenceType,r;if(n)r=St(t,n===`characterReferenceMarkerNumeric`?10:16),this.data.characterReferenceType=void 0;else{let e=ht(t);r=e}let i=this.stack[this.stack.length-1];i.value+=r}function fe(e){let t=this.stack.pop();t.position.end=ri(e.end)}function pe(e){E.call(this,e);let t=this.stack[this.stack.length-1];t.url=this.sliceSerialize(e)}function me(e){E.call(this,e);let t=this.stack[this.stack.length-1];t.url=`mailto:`+this.sliceSerialize(e)}function he(){return{type:`blockquote`,children:[]}}function ge(){return{type:`code`,lang:null,meta:null,value:``}}function _e(){return{type:`inlineCode`,value:``}}function ve(){return{type:`definition`,identifier:``,label:null,title:null,url:``}}function ye(){return{type:`emphasis`,children:[]}}function be(){return{type:`heading`,depth:0,children:[]}}function j(){return{type:`break`}}function xe(){return{type:`html`,value:``}}function Se(){return{type:`image`,title:null,url:``,alt:null}}function Ce(){return{type:`link`,title:null,url:``,children:[]}}function we(e){return{type:`list`,ordered:e.type===`listOrdered`,start:null,spread:e._spread,children:[]}}function Te(e){return{type:`listItem`,spread:e._spread,checked:null,children:[]}}function Ee(){return{type:`paragraph`,children:[]}}function De(){return{type:`strong`,children:[]}}function ke(){return{type:`text`,value:``}}function Ae(){return{type:`thematicBreak`}}}function ri(e){return{line:e.line,column:e.column,offset:e.offset}}function ii(e,t){let n=-1;for(;++n<t.length;){let r=t[n];Array.isArray(r)?ii(e,r):ai(e,r)}}function ai(e,t){let n;for(n in t)if(ei.call(t,n))switch(n){case`canContainEols`:{let r=t[n];r&&e[n].push(...r);break}case`transforms`:{let r=t[n];r&&e[n].push(...r);break}case`enter`:case`exit`:{let r=t[n];r&&Object.assign(e[n],r);break}}}function oi(e,t){throw e?Error("Cannot close `"+e.type+"` ("+Oe({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Oe({start:t.start,end:t.end})+`) is open`):Error("Cannot close document, a token (`"+t.type+"`, "+Oe({start:t.start,end:t.end})+`) is still open`)}function si(e){let t=this;t.parser=n;function n(n){return ti(n,{...t.data(`settings`),...e,extensions:t.data(`micromarkExtensions`)||[],mdastExtensions:t.data(`fromMarkdownExtensions`)||[]})}}function ci(e,t){let n={type:`element`,tagName:`blockquote`,properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function li(e,t){let n={type:`element`,tagName:`br`,properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:`text`,value:`
`}]}function ui(e,t){let n=t.value?t.value+`
`:``,r={};t.lang&&(r.className=[`language-`+t.lang]);let i={type:`element`,tagName:`code`,properties:r,children:[{type:`text`,value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:`element`,tagName:`pre`,properties:{},children:[i]},e.patch(t,i),i}function di(e,t){let n={type:`element`,tagName:`del`,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fi(e,t){let n={type:`element`,tagName:`em`,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pi(e,t){let n=typeof e.options.clobberPrefix==`string`?e.options.clobberPrefix:`user-content-`,r=String(t.identifier).toUpperCase(),i=Pt(r.toLowerCase()),a=e.footnoteOrder.indexOf(r),o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);let c={type:`element`,tagName:`a`,properties:{href:`#`+n+`fn-`+i,id:n+`fnref-`+i+(s>1?`-`+s:``),dataFootnoteRef:!0,ariaDescribedBy:[`footnote-label`]},children:[{type:`text`,value:String(o)}]};e.patch(t,c);let l={type:`element`,tagName:`sup`,properties:{},children:[c]};return e.patch(t,l),e.applyData(t,l)}function mi(e,t){let n={type:`element`,tagName:`h`+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hi(e,t){if(e.options.allowDangerousHtml){let n={type:`raw`,value:t.value};return e.patch(t,n),e.applyData(t,n)}}function gi(e,t){let n=t.referenceType,r=`]`;if(n===`collapsed`?r+=`[]`:n===`full`&&(r+=`[`+(t.label||t.identifier)+`]`),t.type===`imageReference`)return[{type:`text`,value:`![`+t.alt+r}];let i=e.all(t),a=i[0];a&&a.type===`text`?a.value=`[`+a.value:i.unshift({type:`text`,value:`[`});let o=i[i.length-1];return o&&o.type===`text`?o.value+=r:i.push({type:`text`,value:r}),i}function _i(e,t){let n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return gi(e,t);let i={src:Pt(r.url||``),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);let a={type:`element`,tagName:`img`,properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function vi(e,t){let n={src:Pt(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);let r={type:`element`,tagName:`img`,properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function yi(e,t){let n={type:`text`,value:t.value.replace(/\r?\n|\r/g,` `)};e.patch(t,n);let r={type:`element`,tagName:`code`,properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function bi(e,t){let n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return gi(e,t);let i={href:Pt(r.url||``)};r.title!==null&&r.title!==void 0&&(i.title=r.title);let a={type:`element`,tagName:`a`,properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function xi(e,t){let n={href:Pt(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);let r={type:`element`,tagName:`a`,properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Si(e,t,n){let r=e.all(t),i=n?Ci(n):wi(t),a={},o=[];if(typeof t.checked==`boolean`){let e=r[0],n;e&&e.type===`element`&&e.tagName===`p`?n=e:(n={type:`element`,tagName:`p`,properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:`text`,value:` `}),n.children.unshift({type:`element`,tagName:`input`,properties:{type:`checkbox`,checked:t.checked,disabled:!0},children:[]}),a.className=[`task-list-item`]}let s=-1;for(;++s<r.length;){let e=r[s];(i||s!==0||e.type!==`element`||e.tagName!==`p`)&&o.push({type:`text`,value:`
`}),e.type===`element`&&e.tagName===`p`&&!i?o.push(...e.children):o.push(e)}let c=r[r.length-1];c&&(i||c.type!==`element`||c.tagName!==`p`)&&o.push({type:`text`,value:`
`});let l={type:`element`,tagName:`li`,properties:a,children:o};return e.patch(t,l),e.applyData(t,l)}function Ci(e){let t=!1;if(e.type===`list`){t=e.spread||!1;let n=e.children,r=-1;for(;!t&&++r<n.length;)t=wi(n[r])}return t}function wi(e){let t=e.spread;return t??e.children.length>1}function Ti(e,t){let n={},r=e.all(t),i=-1;for(typeof t.start==`number`&&t.start!==1&&(n.start=t.start);++i<r.length;){let e=r[i];if(e.type===`element`&&e.tagName===`li`&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes(`task-list-item`)){n.className=[`contains-task-list`];break}}let a={type:`element`,tagName:t.ordered?`ol`:`ul`,properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Ei(e,t){let n={type:`element`,tagName:`p`,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Di(e,t){let n={type:`root`,children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Oi(e,t){let n={type:`element`,tagName:`strong`,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ki(e,t){let n=e.all(t),r=n.shift(),i=[];if(r){let n={type:`element`,tagName:`thead`,properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){let r={type:`element`,tagName:`tbody`,properties:{},children:e.wrap(n,!0)},a=Te(t.children[1]),o=we(t.children[t.children.length-1]);a&&o&&(r.position={start:a,end:o}),i.push(r)}let a={type:`element`,tagName:`table`,properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Ai(e,t,n){let r=n?n.children:void 0,i=r?r.indexOf(t):1,a=i===0?`th`:`td`,o=n&&n.type===`table`?n.align:void 0,s=o?o.length:t.children.length,c=-1,l=[];for(;++c<s;){let n=t.children[c],r={},i=o?o[c]:void 0;i&&(r.align=i);let s={type:`element`,tagName:a,properties:r,children:[]};n&&(s.children=e.all(n),e.patch(n,s),s=e.applyData(n,s)),l.push(s)}let u={type:`element`,tagName:`tr`,properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)}function ji(e,t){let n={type:`element`,tagName:`td`,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Mi=9,Ni=32;function Pi(e){let t=String(e),n=/\r?\n|\r/g,r=n.exec(t),i=0,a=[];for(;r;)a.push(Fi(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(Fi(t.slice(i),i>0,!1)),a.join(``)}function Fi(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;t===Mi||t===Ni;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;t===Mi||t===Ni;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):``}function Ii(e,t){let n={type:`text`,value:Pi(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Li(e,t){let n={type:`element`,tagName:`hr`,properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Ri={blockquote:ci,break:li,code:ui,delete:di,emphasis:fi,footnoteReference:pi,heading:mi,html:hi,imageReference:_i,image:vi,inlineCode:yi,linkReference:bi,link:xi,listItem:Si,list:Ti,paragraph:Ei,root:Di,strong:Oi,table:ki,tableCell:ji,tableRow:Ai,text:Ii,thematicBreak:Li,toml:zi,yaml:zi,definition:zi,footnoteDefinition:zi};function zi(){}const Bi=-1,Vi=0,Hi=1,Ui=2,Wi=3,Gi=4,Ki=5,qi=6,Ji=7,Yi=8,Xi=typeof self==`object`?self:globalThis,Zi=(e,t)=>{let n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);let[a,o]=t[i];switch(a){case Vi:case Bi:return n(o,i);case Hi:{let e=n([],i);for(let t of o)e.push(r(t));return e}case Ui:{let e=n({},i);for(let[t,n]of o)e[r(t)]=r(n);return e}case Wi:return n(new Date(o),i);case Gi:{let{source:e,flags:t}=o;return n(new RegExp(e,t),i)}case Ki:{let e=n(new Map,i);for(let[t,n]of o)e.set(r(t),r(n));return e}case qi:{let e=n(new Set,i);for(let t of o)e.add(r(t));return e}case Ji:{let{name:e,message:t}=o;return n(new Xi[e](t),i)}case Yi:return n(BigInt(o),i);case`BigInt`:return n(Object(BigInt(o)),i);case`ArrayBuffer`:return n(new Uint8Array(o).buffer,o);case`DataView`:{let{buffer:e}=new Uint8Array(o);return n(new DataView(e),o)}}return n(new Xi[a](o),i)};return r},Qi=e=>Zi(new Map,e)(0),$i=``,{toString:ea}={},{keys:ta}=Object,na=e=>{let t=typeof e;if(t!==`object`||!e)return[Vi,t];let n=ea.call(e).slice(8,-1);switch(n){case`Array`:return[Hi,$i];case`Object`:return[Ui,$i];case`Date`:return[Wi,$i];case`RegExp`:return[Gi,$i];case`Map`:return[Ki,$i];case`Set`:return[qi,$i];case`DataView`:return[Hi,n]}return n.includes(`Array`)?[Hi,n]:n.includes(`Error`)?[Ji,n]:[Ui,n]},ra=([e,t])=>e===Vi&&(t===`function`||t===`symbol`),ia=(e,t,n,r)=>{let i=(e,t)=>{let i=r.push(e)-1;return n.set(t,i),i},a=r=>{if(n.has(r))return n.get(r);let[o,s]=na(r);switch(o){case Vi:{let t=r;switch(s){case`bigint`:o=Yi,t=r.toString();break;case`function`:case`symbol`:if(e)throw TypeError(`unable to serialize `+s);t=null;break;case`undefined`:return i([Bi],r)}return i([o,t],r)}case Hi:{if(s){let e=r;return s===`DataView`?e=new Uint8Array(r.buffer):s===`ArrayBuffer`&&(e=new Uint8Array(r)),i([s,[...e]],r)}let e=[],t=i([o,e],r);for(let t of r)e.push(a(t));return t}case Ui:{if(s)switch(s){case`BigInt`:return i([s,r.toString()],r);case`Boolean`:case`Number`:case`String`:return i([s,r.valueOf()],r)}if(t&&`toJSON`in r)return a(r.toJSON());let n=[],c=i([o,n],r);for(let t of ta(r))(e||!ra(na(r[t])))&&n.push([a(t),a(r[t])]);return c}case Wi:return i([o,r.toISOString()],r);case Gi:{let{source:e,flags:t}=r;return i([o,{source:e,flags:t}],r)}case Ki:{let t=[],n=i([o,t],r);for(let[n,i]of r)(e||!(ra(na(n))||ra(na(i))))&&t.push([a(n),a(i)]);return n}case qi:{let t=[],n=i([o,t],r);for(let n of r)(e||!ra(na(n)))&&t.push(a(n));return n}}let{message:c}=r;return i([o,{name:s,message:c}],r)};return a},aa=(e,{json:t,lossy:n}={})=>{let r=[];return ia(!(t||n),!!t,new Map,r)(e),r};var oa=typeof structuredClone==`function`?(e,t)=>t&&(`json`in t||`lossy`in t)?Qi(aa(e,t)):structuredClone(e):(e,t)=>Qi(aa(e,t));function sa(e,t){let n=[{type:`text`,value:`↩`}];return t>1&&n.push({type:`element`,tagName:`sup`,properties:{},children:[{type:`text`,value:String(t)}]}),n}function ca(e,t){return`Back to reference `+(e+1)+(t>1?`-`+t:``)}function la(e){let t=typeof e.options.clobberPrefix==`string`?e.options.clobberPrefix:`user-content-`,n=e.options.footnoteBackContent||sa,r=e.options.footnoteBackLabel||ca,i=e.options.footnoteLabel||`Footnotes`,a=e.options.footnoteLabelTagName||`h2`,o=e.options.footnoteLabelProperties||{className:[`sr-only`]},s=[],c=-1;for(;++c<e.footnoteOrder.length;){let i=e.footnoteById.get(e.footnoteOrder[c]);if(!i)continue;let a=e.all(i),o=String(i.identifier).toUpperCase(),l=Pt(o.toLowerCase()),u=0,d=[],f=e.footnoteCounts.get(o);for(;f!==void 0&&++u<=f;){d.length>0&&d.push({type:`text`,value:` `});let e=typeof n==`string`?n:n(c,u);typeof e==`string`&&(e={type:`text`,value:e}),d.push({type:`element`,tagName:`a`,properties:{href:`#`+t+`fnref-`+l+(u>1?`-`+u:``),dataFootnoteBackref:``,ariaLabel:typeof r==`string`?r:r(c,u),className:[`data-footnote-backref`]},children:Array.isArray(e)?e:[e]})}let p=a[a.length-1];if(p&&p.type===`element`&&p.tagName===`p`){let e=p.children[p.children.length-1];e&&e.type===`text`?e.value+=` `:p.children.push({type:`text`,value:` `}),p.children.push(...d)}else a.push(...d);let m={type:`element`,tagName:`li`,properties:{id:t+`fn-`+l},children:e.wrap(a,!0)};e.patch(i,m),s.push(m)}if(s.length!==0)return{type:`element`,tagName:`section`,properties:{dataFootnotes:!0,className:[`footnotes`]},children:[{type:`element`,tagName:a,properties:{...oa(o),id:`footnote-label`},children:[{type:`text`,value:i}]},{type:`text`,value:`
`},{type:`element`,tagName:`ol`,properties:{},children:e.wrap(s,!0)},{type:`text`,value:`
`}]}}const ua=function(e){if(e==null)return ha;if(typeof e==`function`)return ma(e);if(typeof e==`object`)return Array.isArray(e)?da(e):fa(e);if(typeof e==`string`)return pa(e);throw Error(`Expected function, string, or object as test`)};function da(e){let t=[],n=-1;for(;++n<e.length;)t[n]=ua(e[n]);return ma(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}function fa(e){let t=e;return ma(n);function n(n){let r=n,i;for(i in e)if(r[i]!==t[i])return!1;return!0}}function pa(e){return ma(t);function t(t){return t&&t.type===e}}function ma(e){return t;function t(t,n,r){return!!(ga(t)&&e.call(this,t,typeof n==`number`?n:void 0,r||void 0))}}function ha(){return!0}function ga(e){return typeof e==`object`&&!!e&&`type`in e}function _a(e){return e}const va=[],ya=!0,ba=!1,xa=`skip`;function Sa(e,t,n,r){let i;typeof t==`function`&&typeof n!=`function`?(r=n,n=t):i=t;let a=ua(i),o=r?-1:1;s(e,void 0,[])();function s(e,i,c){let l=e&&typeof e==`object`?e:{};if(typeof l.type==`string`){let t=typeof l.tagName==`string`?l.tagName:typeof l.name==`string`?l.name:void 0;Object.defineProperty(u,`name`,{value:`node (`+_a(e.type+(t?`<`+t+`>`:``))+`)`})}return u;function u(){let l=va,u,d,f;if((!t||a(e,i,c[c.length-1]||void 0))&&(l=Ca(n(e,c)),l[0]===ba))return l;if(`children`in e&&e.children){let t=e;if(t.children&&l[0]!==xa)for(d=(r?t.children.length:-1)+o,f=c.concat(t);d>-1&&d<t.children.length;){let e=t.children[d];if(u=s(e,d,f)(),u[0]===ba)return u;d=typeof u[1]==`number`?u[1]:d+o}}return l}}}function Ca(e){return Array.isArray(e)?e:typeof e==`number`?[ya,e]:e==null?va:[e]}function wa(e,t,n,r){let i,a,o;typeof t==`function`&&typeof n!=`function`?(a=void 0,o=t,i=n):(a=t,o=n,i=r),Sa(e,a,s,i);function s(e,t){let n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return o(e,r,n)}}const Ta={}.hasOwnProperty,Ea={};function Da(e,t){let n=t||Ea,r=new Map,i=new Map,a=new Map,o={...Ri,...n.handlers},s={all:l,applyData:ka,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:c,options:n,patch:Oa,wrap:ja};return wa(e,function(e){if(e.type===`definition`||e.type===`footnoteDefinition`){let t=e.type===`definition`?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),s;function c(e,t){let n=e.type,r=s.handlers[n];if(Ta.call(s.handlers,n)&&r)return r(s,e,t);if(s.options.passThrough&&s.options.passThrough.includes(n)){if(`children`in e){let{children:t,...n}=e,r=oa(n);return r.children=s.all(e),r}return oa(e)}let i=s.options.unknownHandler||Aa;return i(s,e,t)}function l(e){let t=[];if(`children`in e){let n=e.children,r=-1;for(;++r<n.length;){let i=s.one(n[r],e);if(i){if(r&&n[r-1].type===`break`&&(!Array.isArray(i)&&i.type===`text`&&(i.value=Ma(i.value)),!Array.isArray(i)&&i.type===`element`)){let e=i.children[0];e&&e.type===`text`&&(e.value=Ma(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t}}function Oa(e,t){e.position&&(t.position=De(e))}function ka(e,t){let n=t;if(e&&e.data){let t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;if(typeof t==`string`)if(n.type===`element`)n.tagName=t;else{let e=`children`in n?n.children:[n];n={type:`element`,tagName:t,properties:{},children:e}}n.type===`element`&&i&&Object.assign(n.properties,oa(i)),`children`in n&&n.children&&r!=null&&(n.children=r)}return n}function Aa(e,t){let n=t.data||{},r=`value`in t&&!(Ta.call(n,`hProperties`)||Ta.call(n,`hChildren`))?{type:`text`,value:t.value}:{type:`element`,tagName:`div`,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ja(e,t){let n=[],r=-1;for(t&&n.push({type:`text`,value:`
`});++r<e.length;)r&&n.push({type:`text`,value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:`text`,value:`
`}),n}function Ma(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Na(e,t){let n=Da(e,t),r=n.one(e,void 0),i=la(n),a=Array.isArray(r)?{type:`root`,children:r}:r||{type:`root`,children:[]};return i&&(o(`children`in a),a.children.push({type:`text`,value:`
`},i)),a}function Pa(e,t){return e&&`run`in e?async function(n,r){let i=Na(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Na(n,{file:r,...e||t})}}function Fa(e){if(e)throw e}var Ia=e((exports,t)=>{var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(e){return typeof Array.isArray==`function`?Array.isArray(e):r.call(e)===`[object Array]`},s=function(e){if(!e||r.call(e)!==`[object Object]`)return!1;var t=n.call(e,`constructor`),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,`isPrototypeOf`);if(e.constructor&&!t&&!i)return!1;for(var a in e);return a===void 0||n.call(e,a)},c=function(e,t){i&&t.name===`__proto__`?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,t){if(t===`__proto__`)if(n.call(e,t)){if(a)return a(e,t).value}else return;return e[t]};t.exports=function e(){var t,n,r,i,a,u,d=arguments[0],f=1,p=arguments.length,m=!1;for(typeof d==`boolean`&&(m=d,d=arguments[1]||{},f=2),(d==null||typeof d!=`object`&&typeof d!=`function`)&&(d={});f<p;++f)if(t=arguments[f],t!=null)for(n in t)r=l(d,n),i=l(t,n),d!==i&&(m&&i&&(s(i)||(a=o(i)))?(a?(a=!1,u=r&&o(r)?r:[]):u=r&&s(r)?r:{},c(d,{name:n,newValue:e(m,u,i)})):i!==void 0&&c(d,{name:n,newValue:i}));return d}});function La(e){if(typeof e!=`object`||!e)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Ra(){let e=[],t={run:n,use:r};return t;function n(...t){let n=-1,r=t.pop();if(typeof r!=`function`)throw TypeError(`Expected function as last argument, not `+r);i(null,...t);function i(a,...o){let s=e[++n],c=-1;if(a){r(a);return}for(;++c<t.length;)(o[c]===null||o[c]===void 0)&&(o[c]=t[c]);t=o,s?za(s,i)(...o):r(null,...o)}}function r(n){if(typeof n!=`function`)throw TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}}function za(e,t){let n;return r;function r(...t){let r=e.length>t.length,o;r&&t.push(i);try{o=e.apply(this,t)}catch(e){let t=e;if(r&&n)throw t;return i(t)}r||(o&&o.then&&typeof o.then==`function`?o.then(a,i):o instanceof Error?i(o):a(o))}function i(e,...r){n||(n=!0,t(e,...r))}function a(e){i(null,e)}}const Ba={basename:Va,dirname:Ha,extname:Ua,join:Wa,sep:`/`};function Va(e,t){if(t!==void 0&&typeof t!=`string`)throw TypeError(`"ext" argument must be a string`);qa(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?``:e.slice(n,r)}if(t===e)return``;let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Ha(e){if(qa(e),e.length===0)return`.`;let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||=!0;return t<0?e.codePointAt(0)===47?`/`:`.`:t===1&&e.codePointAt(0)===47?`//`:e.slice(0,t)}function Ua(e){qa(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){let s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?``:e.slice(i,n)}function Wa(...e){let t=-1,n;for(;++t<e.length;)qa(e[t]),e[t]&&(n=n===void 0?e[t]:n+`/`+e[t]);return n===void 0?`.`:Ga(n)}function Ga(e){qa(e);let t=e.codePointAt(0)===47,n=Ka(e,!t);return n.length===0&&!t&&(n=`.`),n.length>0&&e.codePointAt(e.length-1)===47&&(n+=`/`),t?`/`+n:n}function Ka(e,t){let n=``,r=0,i=-1,a=0,o=-1,s,c;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else if(s===47)break;else s=47;if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf(`/`),c!==n.length-1){c<0?(n=``,r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf(`/`)),i=o,a=0;continue}}else if(n.length>0){n=``,r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+`/..`:`..`,r=2)}else n.length>0?n+=`/`+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function qa(e){if(typeof e!=`string`)throw TypeError(`Path must be a string. Received `+JSON.stringify(e))}const Ja={cwd:Ya};function Ya(){return`/`}function Xa(e){return!!(typeof e==`object`&&e&&`href`in e&&e.href&&`protocol`in e&&e.protocol&&e.auth===void 0)}function Za(e){if(typeof e==`string`)e=new URL(e);else if(!Xa(e)){let t=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code=`ERR_INVALID_ARG_TYPE`,t}if(e.protocol!==`file:`){let e=TypeError(`The URL must be of scheme file`);throw e.code=`ERR_INVALID_URL_SCHEME`,e}return Qa(e)}function Qa(e){if(e.hostname!==``){let e=TypeError(`File URL host must be "localhost" or empty on darwin`);throw e.code=`ERR_INVALID_FILE_URL_HOST`,e}let t=e.pathname,n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){let e=t.codePointAt(n+2);if(e===70||e===102){let e=TypeError(`File URL path must not include encoded / characters`);throw e.code=`ERR_INVALID_FILE_URL_PATH`,e}}return decodeURIComponent(t)}const $a=[`history`,`path`,`basename`,`stem`,`extname`,`dirname`];var eo=class{constructor(e){let t;t=e?Xa(e)?{path:e}:typeof e==`string`||io(e)?{value:e}:e:{},this.cwd=`cwd`in t?``:Ja.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<$a.length;){let e=$a[n];e in t&&t[e]!==void 0&&t[e]!==null&&(this[e]=e===`history`?[...t[e]]:t[e])}let r;for(r in t)$a.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path==`string`?Ba.basename(this.path):void 0}set basename(e){no(e,`basename`),to(e,`basename`),this.path=Ba.join(this.dirname||``,e)}get dirname(){return typeof this.path==`string`?Ba.dirname(this.path):void 0}set dirname(e){ro(this.basename,`dirname`),this.path=Ba.join(e||``,this.basename)}get extname(){return typeof this.path==`string`?Ba.extname(this.path):void 0}set extname(e){if(to(e,`extname`),ro(this.dirname,`extname`),e){if(e.codePointAt(0)!==46)throw Error("`extname` must start with `.`");if(e.includes(`.`,1))throw Error("`extname` cannot contain multiple dots")}this.path=Ba.join(this.dirname,this.stem+(e||``))}get path(){return this.history[this.history.length-1]}set path(e){Xa(e)&&(e=Za(e)),no(e,`path`),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path==`string`?Ba.basename(this.path,this.extname):void 0}set stem(e){no(e,`stem`),to(e,`stem`),this.path=Ba.join(this.dirname||``,e+(this.extname||``))}fail(e,t,n){let r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){let r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){let r=new Me(e,t,n);return this.path&&(r.name=this.path+`:`+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(this.value===void 0)return``;if(typeof this.value==`string`)return this.value;let t=new TextDecoder(e||void 0);return t.decode(this.value)}};function to(e,t){if(e&&e.includes(Ba.sep))throw Error("`"+t+"` cannot be a path: did not expect `"+Ba.sep+"`")}function no(e,t){if(!e)throw Error("`"+t+"` cannot be empty")}function ro(e,t){if(!e)throw Error("Setting `"+t+"` requires `path` to be set too")}function io(e){return!!(e&&typeof e==`object`&&`byteLength`in e&&`byteOffset`in e)}const ao=function(e){let t=this,n=t.constructor,r=n.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a};var oo=n(Ia());const so={}.hasOwnProperty;var co=class e extends ao{constructor(){super(`copy`),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ra()}copy(){let t=new e,n=-1;for(;++n<this.attachers.length;){let e=this.attachers[n];t.use(...e)}return t.data((0,oo.default)(!0,{},this.namespace)),t}data(e,t){return typeof e==`string`?arguments.length===2?(po(`data`,this.frozen),this.namespace[e]=t,this):so.call(this.namespace,e)&&this.namespace[e]||void 0:e?(po(`data`,this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[t,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);let r=t.call(e,...n);typeof r==`function`&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=1/0,this}parse(e){this.freeze();let t=go(e),n=this.parser||this.Parser;return uo(`parse`,n),n(String(t),t)}process(e,t){let n=this;return this.freeze(),uo(`process`,this.parser||this.Parser),fo(`process`,this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){let a=go(e),s=n.parse(a);n.run(s,a,function(e,t,r){if(e||!t||!r)return c(e);let i=t,a=n.stringify(i,r);vo(a)?r.value=a:r.result=a,c(e,r)});function c(e,n){e||!n?i(e):r?r(n):(o(t,"`done` is defined if `resolve` is not"),t(void 0,n))}}}processSync(e){let t=!1,n;return this.freeze(),uo(`processSync`,this.parser||this.Parser),fo(`processSync`,this.compiler||this.Compiler),this.process(e,r),ho(`processSync`,`process`,t),o(n,`we either bailed on an error or have a tree`),n;function r(e,r){t=!0,Fa(e),n=r}}run(e,t,n){mo(e),this.freeze();let r=this.transformers;return!n&&typeof t==`function`&&(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,a){o(typeof t!=`function`,"`file` can’t be a `done` anymore, we checked");let s=go(t);r.run(e,s,c);function c(t,r,s){let c=r||e;t?a(t):i?i(c):(o(n,"`done` is defined if `resolve` is not"),n(void 0,c,s))}}}runSync(e,t){let n=!1,r;return this.run(e,t,i),ho(`runSync`,`run`,n),o(r,`we either bailed on an error or have a tree`),r;function i(e,t){Fa(e),r=t,n=!0}}stringify(e,t){this.freeze();let n=go(t),r=this.compiler||this.Compiler;return fo(`stringify`,r),mo(e),r(e,n)}use(e,...t){let n=this.attachers,r=this.namespace;if(po(`use`,this.frozen),e!=null)if(typeof e==`function`)s(e,t);else if(typeof e==`object`)Array.isArray(e)?o(e):a(e);else throw TypeError("Expected usable value, not `"+e+"`");return this;function i(e){if(typeof e==`function`)s(e,[]);else if(typeof e==`object`)if(Array.isArray(e)){let[t,...n]=e;s(t,n)}else a(e);else throw TypeError("Expected usable value, not `"+e+"`")}function a(e){if(!(`plugins`in e)&&!(`settings`in e))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(e.plugins),e.settings&&(r.settings=(0,oo.default)(!0,r.settings,e.settings))}function o(e){let t=-1;if(e!=null)if(Array.isArray(e))for(;++t<e.length;){let n=e[t];i(n)}else throw TypeError("Expected a list of plugins, not `"+e+"`")}function s(e,t){let r=-1,i=-1;for(;++r<n.length;)if(n[r][0]===e){i=r;break}if(i===-1)n.push([e,...t]);else if(t.length>0){let[r,...a]=t,o=n[i][1];La(o)&&La(r)&&(r=(0,oo.default)(!0,o,r)),n[i]=[e,r,...a]}}}};const lo=new co().freeze();function uo(e,t){if(typeof t!=`function`)throw TypeError("Cannot `"+e+"` without `parser`")}function fo(e,t){if(typeof t!=`function`)throw TypeError("Cannot `"+e+"` without `compiler`")}function po(e,t){if(t)throw Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mo(e){if(!La(e)||typeof e.type!=`string`)throw TypeError("Expected node, got `"+e+"`")}function ho(e,t,n){if(!n)throw Error("`"+e+"` finished async. Use `"+t+"` instead")}function go(e){return _o(e)?e:new eo(e)}function _o(e){return!!(e&&typeof e==`object`&&`message`in e&&`messages`in e)}function vo(e){return typeof e==`string`||yo(e)}function yo(e){return!!(e&&typeof e==`object`&&`byteLength`in e&&`byteOffset`in e)}var bo=n(i()),xo=n(a());const So=`https://github.com/remarkjs/react-markdown/blob/main/changelog.md`,Co=[],wo={allowDangerousHtml:!0},To=/^(https?|ircs?|mailto|xmpp)$/i,Eo=[{from:`astPlugins`,id:`remove-buggy-html-in-markdown-parser`},{from:`allowDangerousHtml`,id:`remove-buggy-html-in-markdown-parser`},{from:`allowNode`,id:`replace-allownode-allowedtypes-and-disallowedtypes`,to:`allowElement`},{from:`allowedTypes`,id:`replace-allownode-allowedtypes-and-disallowedtypes`,to:`allowedElements`},{from:`className`,id:`remove-classname`},{from:`disallowedTypes`,id:`replace-allownode-allowedtypes-and-disallowedtypes`,to:`disallowedElements`},{from:`escapeHtml`,id:`remove-buggy-html-in-markdown-parser`},{from:`includeElementIndex`,id:`#remove-includeelementindex`},{from:`includeNodeIndex`,id:`change-includenodeindex-to-includeelementindex`},{from:`linkTarget`,id:`remove-linktarget`},{from:`plugins`,id:`change-plugins-to-remarkplugins`,to:`remarkPlugins`},{from:`rawSourcePos`,id:`#remove-rawsourcepos`},{from:`renderers`,id:`change-renderers-to-components`,to:`components`},{from:`source`,id:`change-source-to-children`,to:`children`},{from:`sourcePos`,id:`#remove-sourcepos`},{from:`transformImageUri`,id:`#add-urltransform`,to:`urlTransform`},{from:`transformLinkUri`,id:`#add-urltransform`,to:`urlTransform`}];function Do(e){let t=Oo(e),n=ko(e);return Ao(t.runSync(t.parse(n),n),e)}function Oo(e){let t=e.rehypePlugins||Co,n=e.remarkPlugins||Co,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...wo}:wo,i=lo().use(si).use(n).use(Pa,r).use(t);return i}function ko(e){let t=e.children||``,n=new eo;return typeof t==`string`?n.value=t:s("Unexpected value `"+t+"` for `children` prop, expected `string`"),n}function Ao(e,t){let n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,c=t.unwrapDisallowed,l=t.urlTransform||jo;for(let e of Eo)Object.hasOwn(t,e.from)&&s("Unexpected `"+e.from+"` prop, "+(e.to?"use `"+e.to+"` instead":`remove it`)+` (see <`+So+`#`+e.id+`> for more info)`);return n&&a&&s("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),wa(e,u),Be(e,{Fragment:bo.Fragment,components:i,ignoreInvalidStyle:!0,jsx:bo.jsx,jsxs:bo.jsxs,passKeys:!0,passNode:!0});function u(e,t,i){if(e.type===`raw`&&i&&typeof t==`number`)return o?i.children.splice(t,1):i.children[t]={type:`text`,value:e.value},t;if(e.type===`element`){let t;for(t in ct)if(Object.hasOwn(ct,t)&&Object.hasOwn(e.properties,t)){let n=e.properties[t],r=ct[t];(r===null||r.includes(e.tagName))&&(e.properties[t]=l(String(n||``),t,e))}}if(e.type===`element`){let o=n?!n.includes(e.tagName):a?a.includes(e.tagName):!1;if(!o&&r&&typeof t==`number`&&(o=!r(e,t,i)),o&&i&&typeof t==`number`)return c&&e.children?i.children.splice(t,1,...e.children):i.children.splice(t,1),t}}}function jo(e){let t=e.indexOf(`:`),n=e.indexOf(`?`),r=e.indexOf(`#`),i=e.indexOf(`/`);return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||To.test(e.slice(0,t))?e:``}function Mo(e,t){let n=String(e);if(typeof t!=`string`)throw TypeError(`Expected character`);let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function No(e){if(typeof e!=`string`)throw TypeError(`Expected a string`);return e.replace(/[|\\{}()[\]^$+*?.]/g,`\\$&`).replace(/-/g,`\\x2d`)}function Po(e,t,n){let r=n||{},i=ua(r.ignore||[]),a=Fo(t),o=-1;for(;++o<a.length;)Sa(e,`text`,s);function s(e,t){let n=-1,r;for(;++n<t.length;){let e=t[n],a=r?r.children:void 0;if(i(e,a?a.indexOf(e):void 0,r))return;r=e}if(r)return c(e,t)}function c(e,t){let n=t[t.length-1],r=a[o][0],i=a[o][1],s=0,c=n.children,l=c.indexOf(e),u=!1,d=[];r.lastIndex=0;let f=r.exec(e.value);for(;f;){let n=f.index,a={index:f.index,input:f.input,stack:[...t,e]},o=i(...f,a);if(typeof o==`string`&&(o=o.length>0?{type:`text`,value:o}:void 0),o===!1?r.lastIndex=n+1:(s!==n&&d.push({type:`text`,value:e.value.slice(s,n)}),Array.isArray(o)?d.push(...o):o&&d.push(o),s=n+f[0].length,u=!0),!r.global)break;f=r.exec(e.value)}return u?(s<e.value.length&&d.push({type:`text`,value:e.value.slice(s)}),n.children.splice(l,1,...d)):d=[e],l+d.length}}function Fo(e){let t=[];if(!Array.isArray(e))throw TypeError(`Expected find and replace tuple or list of tuples`);let n=!e[0]||Array.isArray(e[0])?e:[e],r=-1;for(;++r<n.length;){let e=n[r];t.push([Io(e[0]),Lo(e[1])])}return t}function Io(e){return typeof e==`string`?new RegExp(No(e),`g`):e}function Lo(e){return typeof e==`function`?e:function(){return e}}const Ro=`phrasing`,zo=[`autolink`,`link`,`image`,`label`];function Bo(){return{transforms:[Jo],enter:{literalAutolink:Ho,literalAutolinkEmail:Uo,literalAutolinkHttp:Uo,literalAutolinkWww:Uo},exit:{literalAutolink:qo,literalAutolinkEmail:Ko,literalAutolinkHttp:Wo,literalAutolinkWww:Go}}}function Vo(){return{unsafe:[{character:`@`,before:`[+\\-.\\w]`,after:`[\\-.\\w]`,inConstruct:Ro,notInConstruct:zo},{character:`.`,before:`[Ww]`,after:`[\\-.\\w]`,inConstruct:Ro,notInConstruct:zo},{character:`:`,before:`[ps]`,after:`\\/`,inConstruct:Ro,notInConstruct:zo}]}}function Ho(e){this.enter({type:`link`,title:null,url:``,children:[]},e)}function Uo(e){this.config.enter.autolinkProtocol.call(this,e)}function Wo(e){this.config.exit.autolinkProtocol.call(this,e)}function Go(e){this.config.exit.data.call(this,e);let t=this.stack[this.stack.length-1];o(t.type===`link`),t.url=`http://`+this.sliceSerialize(e)}function Ko(e){this.config.exit.autolinkEmail.call(this,e)}function qo(e){this.exit(e)}function Jo(e){Po(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Yo],[RegExp(`(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)`,`gu`),Xo]],{ignore:[`link`,`linkReference`]})}function Yo(e,t,n,r,i){let a=``;if(!$o(i)||(/^w/i.test(t)&&(n=t+n,t=``,a=`http://`),!Zo(n)))return!1;let o=Qo(n+r);if(!o[0])return!1;let s={type:`link`,title:null,url:a+t+o[0],children:[{type:`text`,value:t+o[0]}]};return o[1]?[s,{type:`text`,value:o[1]}]:s}function Xo(e,t,n,r){return!$o(r,!0)||/[-\d_]$/.test(n)?!1:{type:`link`,title:null,url:`mailto:`+t+`@`+n,children:[{type:`text`,value:t+`@`+n}]}}function Zo(e){let t=e.split(`.`);return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Qo(e){let t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(`)`),i=Mo(e,`(`),a=Mo(e,`)`);for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(`)`),a++;return[e,n]}function $o(e,t){let n=e.input.charCodeAt(e.index-1);return(e.index===0||Mt(n)||jt(n))&&(!t||n!==47)}ds.peek=us;function es(){this.buffer()}function ts(e){this.enter({type:`footnoteReference`,identifier:``,label:``},e)}function ns(){this.buffer()}function rs(e){this.enter({type:`footnoteDefinition`,identifier:``,label:``,children:[]},e)}function os(e){let t=this.resume(),n=this.stack[this.stack.length-1];o(n.type===`footnoteReference`),n.identifier=Ct(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ss(e){this.exit(e)}function cs(e){let t=this.resume(),n=this.stack[this.stack.length-1];o(n.type===`footnoteDefinition`),n.identifier=Ct(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ls(e){this.exit(e)}function us(){return`[`}function ds(e,t,n,r){let i=n.createTracker(r),a=i.move(`[^`),o=n.enter(`footnoteReference`),s=n.enter(`reference`);return a+=i.move(n.safe(n.associationId(e),{after:`]`,before:a})),s(),o(),a+=i.move(`]`),a}function fs(){return{enter:{gfmFootnoteCallString:es,gfmFootnoteCall:ts,gfmFootnoteDefinitionLabelString:ns,gfmFootnoteDefinition:rs},exit:{gfmFootnoteCallString:os,gfmFootnoteCall:ss,gfmFootnoteDefinitionLabelString:cs,gfmFootnoteDefinition:ls}}}function ps(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:ds},unsafe:[{character:`[`,inConstruct:[`label`,`phrasing`,`reference`]}]};function n(e,n,r,i){let a=r.createTracker(i),o=a.move(`[^`),s=r.enter(`footnoteDefinition`),c=r.enter(`label`);return o+=a.move(r.safe(r.associationId(e),{before:o,after:`]`})),c(),o+=a.move(`]:`),e.children&&e.children.length>0&&(a.shift(4),o+=a.move((t?`
`:` `)+r.indentLines(r.containerFlow(e,a.current()),t?hs:ms))),s(),o}}function ms(e,t,n){return t===0?e:hs(e,t,n)}function hs(e,t,n){return(n?``:`    `)+e}const gs=[`autolink`,`destinationLiteral`,`destinationRaw`,`reference`,`titleQuote`,`titleApostrophe`];xs.peek=Ss;function _s(){return{canContainEols:[`delete`],enter:{strikethrough:ys},exit:{strikethrough:bs}}}function vs(){return{unsafe:[{character:`~`,inConstruct:`phrasing`,notInConstruct:gs}],handlers:{delete:xs}}}function ys(e){this.enter({type:`delete`,children:[]},e)}function bs(e){this.exit(e)}function xs(e,t,n,r){let i=n.createTracker(r),a=n.enter(`strikethrough`),o=i.move(`~~`);return o+=n.containerPhrasing(e,{...i.current(),before:o,after:`~`}),o+=i.move(`~~`),a(),o}function Ss(){return`~`}function Cs(e){return e.length}function ws(e,t){let n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Cs,a=[],o=[],s=[],c=[],l=0,u=-1;for(;++u<e.length;){let t=[],r=[],a=-1;for(e[u].length>l&&(l=e[u].length);++a<e[u].length;){let o=Ts(e[u][a]);if(n.alignDelimiters!==!1){let e=i(o);r[a]=e,(c[a]===void 0||e>c[a])&&(c[a]=e)}t.push(o)}o[u]=t,s[u]=r}let d=-1;if(typeof r==`object`&&`length`in r)for(;++d<l;)a[d]=Es(r[d]);else{let e=Es(r);for(;++d<l;)a[d]=e}d=-1;let f=[],p=[];for(;++d<l;){let e=a[d],t=``,r=``;e===99?(t=`:`,r=`:`):e===108?t=`:`:e===114&&(r=`:`);let i=n.alignDelimiters===!1?1:Math.max(1,c[d]-t.length-r.length),o=t+`-`.repeat(i)+r;n.alignDelimiters!==!1&&(i=t.length+i+r.length,i>c[d]&&(c[d]=i),p[d]=i),f[d]=o}o.splice(1,0,f),s.splice(1,0,p),u=-1;let m=[];for(;++u<o.length;){let e=o[u],t=s[u];d=-1;let r=[];for(;++d<l;){let i=e[d]||``,o=``,s=``;if(n.alignDelimiters!==!1){let e=c[d]-(t[d]||0),n=a[d];n===114?o=` `.repeat(e):n===99?e%2?(o=` `.repeat(e/2+.5),s=` `.repeat(e/2-.5)):(o=` `.repeat(e/2),s=o):s=` `.repeat(e)}n.delimiterStart!==!1&&!d&&r.push(`|`),n.padding!==!1&&!(n.alignDelimiters===!1&&i===``)&&(n.delimiterStart!==!1||d)&&r.push(` `),n.alignDelimiters!==!1&&r.push(o),r.push(i),n.alignDelimiters!==!1&&r.push(s),n.padding!==!1&&r.push(` `),(n.delimiterEnd!==!1||d!==l-1)&&r.push(`|`)}m.push(n.delimiterEnd===!1?r.join(``).replace(/ +$/,``):r.join(``))}return m.join(`
`)}function Ts(e){return e==null?``:String(e)}function Es(e){let t=typeof e==`string`?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Ds(e,t,n,r){let i=n.enter(`blockquote`),a=n.createTracker(r);a.move(`> `),a.shift(2);let o=n.indentLines(n.containerFlow(e,a.current()),Os);return i(),o}function Os(e,t,n){return`>`+(n?``:` `)+e}function ks(e,t){return As(e,t.inConstruct,!0)&&!As(e,t.notInConstruct,!1)}function As(e,t,n){if(typeof t==`string`&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function js(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&ks(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?``:` `;return`\\
`}function Ms(e,t){let n=String(e),r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!=`string`)throw TypeError(`Expected substring`);for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function Ns(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Ps(e){let t=e.options.fence||"`";if(t!=="`"&&t!==`~`)throw Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Fs(e,t,n,r){let i=Ps(n),a=e.value||``,o=i==="`"?`GraveAccent`:`Tilde`;if(Ns(e,n)){let e=n.enter(`codeIndented`),t=n.indentLines(a,Is);return e(),t}let s=n.createTracker(r),c=i.repeat(Math.max(Ms(a,i)+1,3)),l=n.enter(`codeFenced`),u=s.move(c);if(e.lang){let t=n.enter(`codeFencedLang${o}`);u+=s.move(n.safe(e.lang,{before:u,after:` `,encode:["`"],...s.current()})),t()}if(e.lang&&e.meta){let t=n.enter(`codeFencedMeta${o}`);u+=s.move(` `),u+=s.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),t()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(c),l(),u}function Is(e,t,n){return(n?``:`    `)+e}function Ls(e){let t=e.options.quote||`"`;if(t!==`"`&&t!==`'`)throw Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Rs(e,t,n,r){let i=Ls(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.enter(`definition`),s=n.enter(`label`),c=n.createTracker(r),l=c.move(`[`);return l+=c.move(n.safe(n.associationId(e),{before:l,after:`]`,...c.current()})),l+=c.move(`]: `),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter(`destinationLiteral`),l+=c.move(`<`),l+=c.move(n.safe(e.url,{before:l,after:`>`,...c.current()})),l+=c.move(`>`)):(s=n.enter(`destinationRaw`),l+=c.move(n.safe(e.url,{before:l,after:e.title?` `:`
`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),l+=c.move(` `+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),o(),l}function zs(e){let t=e.options.emphasis||`*`;if(t!==`*`&&t!==`_`)throw Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Bs(e){return`&#x`+e.toString(16).toUpperCase()+`;`}function Vs(e,t,n){let r=Vt(e),i=Vt(t);return r===void 0?i===void 0?n===`_`?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Hs.peek=Us;function Hs(e,t,n,r){let i=zs(n),a=n.enter(`emphasis`),o=n.createTracker(r),s=o.move(i),c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()})),l=c.charCodeAt(0),u=Vs(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=Bs(l)+c.slice(1));let d=c.charCodeAt(c.length-1),f=Vs(r.after.charCodeAt(0),d,i);f.inside&&(c=c.slice(0,-1)+Bs(d));let p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+c+p}function Us(e,t,n){return n.options.emphasis||`*`}function Ws(e,t){let n=!1;return wa(e,function(e){if(`value`in e&&/\r?\n|\r/.test(e.value)||e.type===`break`)return n=!0,ba}),!!((!e.depth||e.depth<3)&&ut(e)&&(t.options.setext||n))}function Gs(e,t,n,r){let i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Ws(e,n)){let t=n.enter(`headingSetext`),r=n.enter(`phrasing`),o=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return r(),t(),o+`
`+(i===1?`=`:`-`).repeat(o.length-(Math.max(o.lastIndexOf(`\r`),o.lastIndexOf(`
`))+1))}let o=`#`.repeat(i),s=n.enter(`headingAtx`),c=n.enter(`phrasing`);a.move(o+` `);let l=n.containerPhrasing(e,{before:`# `,after:`
`,...a.current()});return/^[\t ]/.test(l)&&(l=Bs(l.charCodeAt(0))+l.slice(1)),l=l?o+` `+l:o,n.options.closeAtx&&(l+=` `+o),c(),s(),l}Ks.peek=qs;function Ks(e){return e.value||``}function qs(){return`<`}Js.peek=Ys;function Js(e,t,n,r){let i=Ls(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.enter(`image`),s=n.enter(`label`),c=n.createTracker(r),l=c.move(`![`);return l+=c.move(n.safe(e.alt,{before:l,after:`]`,...c.current()})),l+=c.move(`](`),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter(`destinationLiteral`),l+=c.move(`<`),l+=c.move(n.safe(e.url,{before:l,after:`>`,...c.current()})),l+=c.move(`>`)):(s=n.enter(`destinationRaw`),l+=c.move(n.safe(e.url,{before:l,after:e.title?` `:`)`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),l+=c.move(` `+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),l+=c.move(`)`),o(),l}function Ys(){return`!`}Xs.peek=Zs;function Xs(e,t,n,r){let i=e.referenceType,a=n.enter(`imageReference`),o=n.enter(`label`),s=n.createTracker(r),c=s.move(`![`),l=n.safe(e.alt,{before:c,after:`]`,...s.current()});c+=s.move(l+`][`),o();let u=n.stack;n.stack=[],o=n.enter(`reference`);let d=n.safe(n.associationId(e),{before:c,after:`]`,...s.current()});return o(),n.stack=u,a(),i===`full`||!l||l!==d?c+=s.move(d+`]`):i===`shortcut`?c=c.slice(0,-1):c+=s.move(`]`),c}function Zs(){return`!`}Qs.peek=$s;function Qs(e,t,n){let r=e.value||``,i="`",a=-1;for(;RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=` `+r+` `);++a<n.unsafe.length;){let e=n.unsafe[a],t=n.compilePattern(e),i;if(e.atBreak)for(;i=t.exec(r);){let e=i.index;r.charCodeAt(e)===10&&r.charCodeAt(e-1)===13&&e--,r=r.slice(0,e)+` `+r.slice(i.index+1)}}return i+r+i}function $s(){return"`"}function ec(e,t){let n=ut(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type===`text`&&(n===e.url||`mailto:`+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}tc.peek=nc;function tc(e,t,n,r){let i=Ls(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.createTracker(r),s,c;if(ec(e,n)){let t=n.stack;n.stack=[],s=n.enter(`autolink`);let r=o.move(`<`);return r+=o.move(n.containerPhrasing(e,{before:r,after:`>`,...o.current()})),r+=o.move(`>`),s(),n.stack=t,r}s=n.enter(`link`),c=n.enter(`label`);let l=o.move(`[`);return l+=o.move(n.containerPhrasing(e,{before:l,after:`](`,...o.current()})),l+=o.move(`](`),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter(`destinationLiteral`),l+=o.move(`<`),l+=o.move(n.safe(e.url,{before:l,after:`>`,...o.current()})),l+=o.move(`>`)):(c=n.enter(`destinationRaw`),l+=o.move(n.safe(e.url,{before:l,after:e.title?` `:`)`,...o.current()}))),c(),e.title&&(c=n.enter(`title${a}`),l+=o.move(` `+i),l+=o.move(n.safe(e.title,{before:l,after:i,...o.current()})),l+=o.move(i),c()),l+=o.move(`)`),s(),l}function nc(e,t,n){return ec(e,n)?`<`:`[`}rc.peek=ic;function rc(e,t,n,r){let i=e.referenceType,a=n.enter(`linkReference`),o=n.enter(`label`),s=n.createTracker(r),c=s.move(`[`),l=n.containerPhrasing(e,{before:c,after:`]`,...s.current()});c+=s.move(l+`][`),o();let u=n.stack;n.stack=[],o=n.enter(`reference`);let d=n.safe(n.associationId(e),{before:c,after:`]`,...s.current()});return o(),n.stack=u,a(),i===`full`||!l||l!==d?c+=s.move(d+`]`):i===`shortcut`?c=c.slice(0,-1):c+=s.move(`]`),c}function ic(){return`[`}function ac(e){let t=e.options.bullet||`*`;if(t!==`*`&&t!==`+`&&t!==`-`)throw Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function oc(e){let t=ac(e),n=e.options.bulletOther;if(!n)return t===`*`?`-`:`*`;if(n!==`*`&&n!==`+`&&n!==`-`)throw Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function sc(e){let t=e.options.bulletOrdered||`.`;if(t!==`.`&&t!==`)`)throw Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function cc(e){let t=e.options.rule||`*`;if(t!==`*`&&t!==`-`&&t!==`_`)throw Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function lc(e,t,n,r){let i=n.enter(`list`),a=n.bulletCurrent,o=e.ordered?sc(n):ac(n),s=e.ordered?o===`.`?`)`:`.`:oc(n),c=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){let t=e.children?e.children[0]:void 0;if((o===`*`||o===`-`)&&t&&(!t.children||!t.children[0])&&n.stack[n.stack.length-1]===`list`&&n.stack[n.stack.length-2]===`listItem`&&n.stack[n.stack.length-3]===`list`&&n.stack[n.stack.length-4]===`listItem`&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),cc(n)===o&&t){let t=-1;for(;++t<e.children.length;){let n=e.children[t];if(n&&n.type===`listItem`&&n.children&&n.children[0]&&n.children[0].type===`thematicBreak`){c=!0;break}}}}c&&(o=s),n.bulletCurrent=o;let l=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),l}function uc(e){let t=e.options.listItemIndent||`one`;if(t!==`tab`&&t!==`one`&&t!==`mixed`)throw Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function dc(e,t,n,r){let i=uc(n),a=n.bulletCurrent||ac(n);t&&t.type===`list`&&t.ordered&&(a=(typeof t.start==`number`&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i===`tab`||i===`mixed`&&(t&&t.type===`list`&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);let s=n.createTracker(r);s.move(a+` `.repeat(o-a.length)),s.shift(o);let c=n.enter(`listItem`),l=n.indentLines(n.containerFlow(e,s.current()),u);return c(),l;function u(e,t,n){return t?(n?``:` `.repeat(o))+e:(n?a:a+` `.repeat(o-a.length))+e}}function fc(e,t,n,r){let i=n.enter(`paragraph`),a=n.enter(`phrasing`),o=n.containerPhrasing(e,r);return a(),i(),o}const pc=ua([`break`,`delete`,`emphasis`,`footnote`,`footnoteReference`,`image`,`imageReference`,`inlineCode`,`inlineMath`,`link`,`linkReference`,`mdxJsxTextElement`,`mdxTextExpression`,`strong`,`text`,`textDirective`]);function mc(e,t,n,r){let i=e.children.some(function(e){return pc(e)}),a=i?n.containerPhrasing:n.containerFlow;return a.call(n,e,r)}function hc(e){let t=e.options.strong||`*`;if(t!==`*`&&t!==`_`)throw Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}gc.peek=_c;function gc(e,t,n,r){let i=hc(n),a=n.enter(`strong`),o=n.createTracker(r),s=o.move(i+i),c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()})),l=c.charCodeAt(0),u=Vs(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=Bs(l)+c.slice(1));let d=c.charCodeAt(c.length-1),f=Vs(r.after.charCodeAt(0),d,i);f.inside&&(c=c.slice(0,-1)+Bs(d));let p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+c+p}function _c(e,t,n){return n.options.strong||`*`}function vc(e,t,n,r){return n.safe(e.value,r)}function yc(e){let t=e.options.ruleRepetition||3;if(t<3)throw Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function bc(e,t,n){let r=(cc(n)+(n.options.ruleSpaces?` `:``)).repeat(yc(n));return n.options.ruleSpaces?r.slice(0,-1):r}const xc={blockquote:Ds,break:js,code:Fs,definition:Rs,emphasis:Hs,hardBreak:js,heading:Gs,html:Ks,image:Js,imageReference:Xs,inlineCode:Qs,link:tc,linkReference:rc,list:lc,listItem:dc,paragraph:fc,root:mc,strong:gc,text:vc,thematicBreak:bc};function Sc(){return{enter:{table:Cc,tableData:Dc,tableHeader:Dc,tableRow:Tc},exit:{codeText:Oc,table:wc,tableData:Ec,tableHeader:Ec,tableRow:Ec}}}function Cc(e){let t=e._align;o(t,"expected `_align` on table"),this.enter({type:`table`,align:t.map(function(e){return e===`none`?null:e}),children:[]},e),this.data.inTable=!0}function wc(e){this.exit(e),this.data.inTable=void 0}function Tc(e){this.enter({type:`tableRow`,children:[]},e)}function Ec(e){this.exit(e)}function Dc(e){this.enter({type:`tableCell`,children:[]},e)}function Oc(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,kc));let n=this.stack[this.stack.length-1];o(n.type===`inlineCode`),n.value=t,this.exit(e)}function kc(e,t){return t===`|`?t:e}function Ac(e){let t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?` `:`|`;return{unsafe:[{character:`\r`,inConstruct:`tableCell`},{character:`
`,inConstruct:`tableCell`},{atBreak:!0,character:`|`,after:`[	 :-]`},{character:`|`,inConstruct:`tableCell`},{atBreak:!0,character:`:`,after:`-`},{atBreak:!0,character:`-`,after:`[:|-]`}],handlers:{inlineCode:f,table:o,tableCell:c,tableRow:s}};function o(e,t,n,r){return l(u(e,n,r),e.align)}function s(e,t,n,r){let i=d(e,n,r),a=l([i]);return a.slice(0,a.indexOf(`
`))}function c(e,t,n,r){let i=n.enter(`tableCell`),o=n.enter(`phrasing`),s=n.containerPhrasing(e,{...r,before:a,after:a});return o(),i(),s}function l(e,t){return ws(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function u(e,t,n){let r=e.children,i=-1,a=[],o=t.enter(`table`);for(;++i<r.length;)a[i]=d(r[i],t,n);return o(),a}function d(e,t,n){let r=e.children,i=-1,a=[],o=t.enter(`tableRow`);for(;++i<r.length;)a[i]=c(r[i],e,t,n);return o(),a}function f(e,t,n){let r=xc.inlineCode(e,t,n);return n.stack.includes(`tableCell`)&&(r=r.replace(/\|/g,`\\$&`)),r}}function jc(){return{exit:{taskListCheckValueChecked:Nc,taskListCheckValueUnchecked:Nc,paragraph:Pc}}}function Mc(){return{unsafe:[{atBreak:!0,character:`-`,after:`[:|-]`}],handlers:{listItem:Fc}}}function Nc(e){let t=this.stack[this.stack.length-2];o(t.type===`listItem`),t.checked=e.type===`taskListCheckValueChecked`}function Pc(e){let t=this.stack[this.stack.length-2];if(t&&t.type===`listItem`&&typeof t.checked==`boolean`){let e=this.stack[this.stack.length-1];o(e.type===`paragraph`);let n=e.children[0];if(n&&n.type===`text`){let r=t.children,i=-1,a;for(;++i<r.length;){let e=r[i];if(e.type===`paragraph`){a=e;break}}a===e&&(n.value=n.value.slice(1),n.value.length===0?e.children.shift():e.position&&n.position&&typeof n.position.start.offset==`number`&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Fc(e,t,n,r){let i=e.children[0],a=typeof e.checked==`boolean`&&i&&i.type===`paragraph`,o=`[`+(e.checked?`x`:` `)+`] `,s=n.createTracker(r);a&&s.move(o);let c=xc.listItem(e,t,n,{...r,...s.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),c;function l(e){return e+o}}function Ic(){return[Bo(),fs(),_s(),Sc(),jc()]}function Lc(e){return{extensions:[Vo(),ps(e),vs(),Ac(e),Mc()]}}const Rc={tokenize:Qc,partial:!0},zc={tokenize:$c,partial:!0},Bc={tokenize:el,partial:!0},Vc={tokenize:tl,partial:!0},Hc={tokenize:nl,partial:!0},Uc={name:`wwwAutolink`,tokenize:Xc,previous:rl},Wc={name:`protocolAutolink`,tokenize:Zc,previous:il},Gc={name:`emailAutolink`,tokenize:Yc,previous:al},Kc={};function qc(){return{text:Kc}}let Jc=48;for(;Jc<123;)Kc[Jc]=Gc,Jc++,Jc===58?Jc=65:Jc===91&&(Jc=97);Kc[43]=Gc,Kc[45]=Gc,Kc[46]=Gc,Kc[95]=Gc,Kc[72]=[Gc,Wc],Kc[104]=[Gc,Wc],Kc[87]=[Gc,Uc],Kc[119]=[Gc,Uc];function Yc(e,t,n){let r=this,i,a;return o;function o(t){return!ol(t)||!al.call(r,r.previous)||sl(r.events)?n(t):(e.enter(`literalAutolink`),e.enter(`literalAutolinkEmail`),s(t))}function s(t){return ol(t)?(e.consume(t),s):t===64?(e.consume(t),c):n(t)}function c(t){return t===46?e.check(Hc,u,l)(t):t===45||t===95||Tt(t)?(a=!0,e.consume(t),c):u(t)}function l(t){return e.consume(t),i=!0,c}function u(o){return a&&i&&wt(r.previous)?(e.exit(`literalAutolinkEmail`),e.exit(`literalAutolink`),t(o)):n(o)}}function Xc(e,t,n){let r=this;return i;function i(t){return t!==87&&t!==119||!rl.call(r,r.previous)||sl(r.events)?n(t):(e.enter(`literalAutolink`),e.enter(`literalAutolinkWww`),e.check(Rc,e.attempt(zc,e.attempt(Bc,a),n),n)(t))}function a(n){return e.exit(`literalAutolinkWww`),e.exit(`literalAutolink`),t(n)}}function Zc(e,t,n){let r=this,i=``,a=!1;return o;function o(t){return(t===72||t===104)&&il.call(r,r.previous)&&!sl(r.events)?(e.enter(`literalAutolink`),e.enter(`literalAutolinkHttp`),i+=String.fromCodePoint(t),e.consume(t),s):n(t)}function s(t){if(wt(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),s;if(t===58){let n=i.toLowerCase();if(n===`http`||n===`https`)return e.consume(t),c}return n(t)}function c(t){return t===47?(e.consume(t),a?l:(a=!0,c)):n(t)}function l(t){return t===null||Dt(t)||N(t)||Mt(t)||jt(t)?n(t):e.attempt(zc,e.attempt(Bc,u),n)(t)}function u(n){return e.exit(`literalAutolinkHttp`),e.exit(`literalAutolink`),t(n)}}function Qc(e,t,n){let r=0;return i;function i(t){return(t===87||t===119)&&r<3?(r++,e.consume(t),i):t===46&&r===3?(e.consume(t),a):n(t)}function a(e){return e===null?n(e):t(e)}}function $c(e,t,n){let r,i,a;return o;function o(t){return t===46||t===95?e.check(Vc,c,s)(t):t===null||N(t)||Mt(t)||t!==45&&jt(t)?c(t):(a=!0,e.consume(t),o)}function s(t){return t===95?r=!0:(i=r,r=void 0),e.consume(t),o}function c(e){return i||r||!a?n(e):t(e)}}function el(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Vc,t,a)(o):o===null||N(o)||Mt(o)?t(o):(e.consume(o),i)}function a(t){return t===41&&r++,e.consume(t),i}}function tl(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||N(o)||Mt(o)?t(o):n(o)}function i(e){return e===null||e===40||e===91||N(e)||Mt(e)?t(e):r(e)}function a(e){return wt(e)?o(e):n(e)}function o(t){return t===59?(e.consume(t),r):wt(t)?(e.consume(t),o):n(t)}}function nl(e,t,n){return r;function r(t){return e.consume(t),i}function i(e){return Tt(e)?n(e):t(e)}}function rl(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||N(e)}function il(e){return!wt(e)}function al(e){return!(e===47||ol(e))}function ol(e){return e===43||e===45||e===46||e===95||Tt(e)}function sl(e){let t=e.length,n=!1;for(;t--;){let r=e[t][1];if((r.type===`labelLink`||r.type===`labelImage`)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const cl={tokenize:gl,partial:!0};function ll(){return{document:{91:{name:`gfmFootnoteDefinition`,tokenize:pl,continuation:{tokenize:ml},exit:hl}},text:{91:{name:`gfmFootnoteCall`,tokenize:fl},93:{name:`gfmPotentialFootnoteCall`,add:`after`,tokenize:ul,resolveTo:dl}}}}function ul(e,t,n){let r=this,i=r.events.length,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),o;for(;i--;){let e=r.events[i][1];if(e.type===`labelImage`){o=e;break}if(e.type===`gfmFootnoteCall`||e.type===`labelLink`||e.type===`label`||e.type===`image`||e.type===`link`)break}return s;function s(i){if(!o||!o._balanced)return n(i);let s=Ct(r.sliceSerialize({start:o.end,end:r.now()}));return s.codePointAt(0)!==94||!a.includes(s.slice(1))?n(i):(e.enter(`gfmFootnoteCallLabelMarker`),e.consume(i),e.exit(`gfmFootnoteCallLabelMarker`),t(i))}}function dl(e,t){let n=e.length,r;for(;n--;)if(e[n][1].type===`labelImage`&&e[n][0]===`enter`){r=e[n][1];break}e[n+1][1].type=`data`,e[n+3][1].type=`gfmFootnoteCallLabelMarker`;let i={type:`gfmFootnoteCall`,start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:`gfmFootnoteCallMarker`,start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;let o={type:`gfmFootnoteCallString`,start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},s={type:`chunkString`,contentType:`string`,start:Object.assign({},o.start),end:Object.assign({},o.end)},c=[e[n+1],e[n+2],[`enter`,i,t],e[n+3],e[n+4],[`enter`,a,t],[`exit`,a,t],[`enter`,o,t],[`enter`,s,t],[`exit`,s,t],[`exit`,o,t],e[e.length-2],e[e.length-1],[`exit`,i,t]];return e.splice(n,e.length-n+1,...c),e}function fl(e,t,n){let r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),a=0,o;return s;function s(t){return e.enter(`gfmFootnoteCall`),e.enter(`gfmFootnoteCallLabelMarker`),e.consume(t),e.exit(`gfmFootnoteCallLabelMarker`),c}function c(t){return t===94?(e.enter(`gfmFootnoteCallMarker`),e.consume(t),e.exit(`gfmFootnoteCallMarker`),e.enter(`gfmFootnoteCallString`),e.enter(`chunkString`).contentType=`string`,l):n(t)}function l(s){if(a>999||s===93&&!o||s===null||s===91||N(s))return n(s);if(s===93){e.exit(`chunkString`);let a=e.exit(`gfmFootnoteCallString`);return i.includes(Ct(r.sliceSerialize(a)))?(e.enter(`gfmFootnoteCallLabelMarker`),e.consume(s),e.exit(`gfmFootnoteCallLabelMarker`),e.exit(`gfmFootnoteCall`),t):n(s)}return N(s)||(o=!0),a++,e.consume(s),s===92?u:l}function u(t){return t===91||t===92||t===93?(e.consume(t),a++,l):l(t)}}function pl(e,t,n){let r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),a,o=0,s;return c;function c(t){return e.enter(`gfmFootnoteDefinition`)._container=!0,e.enter(`gfmFootnoteDefinitionLabel`),e.enter(`gfmFootnoteDefinitionLabelMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionLabelMarker`),l}function l(t){return t===94?(e.enter(`gfmFootnoteDefinitionMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionMarker`),e.enter(`gfmFootnoteDefinitionLabelString`),e.enter(`chunkString`).contentType=`string`,u):n(t)}function u(t){if(o>999||t===93&&!s||t===null||t===91||N(t))return n(t);if(t===93){e.exit(`chunkString`);let n=e.exit(`gfmFootnoteDefinitionLabelString`);return a=Ct(r.sliceSerialize(n)),e.enter(`gfmFootnoteDefinitionLabelMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionLabelMarker`),e.exit(`gfmFootnoteDefinitionLabel`),f}return N(t)||(s=!0),o++,e.consume(t),t===92?d:u}function d(t){return t===91||t===92||t===93?(e.consume(t),o++,u):u(t)}function f(t){return t===58?(e.enter(`definitionMarker`),e.consume(t),e.exit(`definitionMarker`),i.includes(a)||i.push(a),F(e,p,`gfmFootnoteDefinitionWhitespace`)):n(t)}function p(e){return t(e)}}function ml(e,t,n){return e.check(Yt,t,e.attempt(cl,t,n))}function hl(e){e.exit(`gfmFootnoteDefinition`)}function gl(e,t,n){let r=this;return F(e,i,`gfmFootnoteDefinitionIndent`,5);function i(e){let i=r.events[r.events.length-1];return i&&i[1].type===`gfmFootnoteDefinitionIndent`&&i[2].sliceSerialize(i[1],!0).length===4?t(e):n(e)}}function _l(e){let t=e||{},n=t.singleTilde,r={name:`strikethrough`,tokenize:a,resolveAll:i};return n??=!0,{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(e,t){let n=-1;for(;++n<e.length;)if(e[n][0]===`enter`&&e[n][1].type===`strikethroughSequenceTemporary`&&e[n][1]._close){let r=n;for(;r--;)if(e[r][0]===`exit`&&e[r][1].type===`strikethroughSequenceTemporary`&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type=`strikethroughSequence`,e[r][1].type=`strikethroughSequence`;let i={type:`strikethrough`,start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},a={type:`strikethroughText`,start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},o=[[`enter`,i,t],[`enter`,e[r][1],t],[`exit`,e[r][1],t],[`enter`,a,t]],s=t.parser.constructs.insideSpan.null;s&&gt(o,o.length,0,Ht(s,e.slice(r+1,n),t)),gt(o,o.length,0,[[`exit`,a,t],[`enter`,e[n][1],t],[`exit`,e[n][1],t],[`exit`,i,t]]),gt(e,r-1,n-r+3,o),n=r+o.length-2;break}}for(n=-1;++n<e.length;)e[n][1].type===`strikethroughSequenceTemporary`&&(e[n][1].type=`data`);return e}function a(e,t,r){let i=this.previous,a=this.events,o=0;return s;function s(t){return i===126&&a[a.length-1][1].type!==`characterEscape`?r(t):(e.enter(`strikethroughSequenceTemporary`),c(t))}function c(a){let s=Vt(i);if(a===126)return o>1?r(a):(e.consume(a),o++,c);if(o<2&&!n)return r(a);let l=e.exit(`strikethroughSequenceTemporary`),u=Vt(a);return l._open=!u||u===2&&!!s,l._close=!s||s===2&&!!u,t(a)}}}var vl=class{constructor(){this.map=[]}add(e,t,n){yl(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),this.map.length===0)return;let t=this.map.length,n=[];for(;t>0;)--t,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(let t of r)e.push(t);r=n.pop()}this.map.length=0}};function yl(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function bl(e,t){let n=!1,r=[];for(;t<e.length;){let i=e[t];if(n){if(i[0]===`enter`)i[1].type===`tableContent`&&r.push(e[t+1][1].type===`tableDelimiterMarker`?`left`:`none`);else if(i[1].type===`tableContent`){if(e[t-1][1].type===`tableDelimiterMarker`){let e=r.length-1;r[e]=r[e]===`left`?`center`:`right`}}else if(i[1].type===`tableDelimiterRow`)break}else i[0]===`enter`&&i[1].type===`tableDelimiterRow`&&(n=!0);t+=1}return r}function xl(){return{flow:{null:{name:`table`,tokenize:Sl,resolveAll:Cl}}}}function Sl(e,t,n){let r=this,i=0,a=0,o;return s;function s(e){let t=r.events.length-1;for(;t>-1;){let e=r.events[t][1].type;if(e===`lineEnding`||e===`linePrefix`)t--;else break}let i=t>-1?r.events[t][1].type:null,a=i===`tableHead`||i===`tableRow`?S:c;return a===S&&r.parser.lazy[r.now().line]?n(e):a(e)}function c(t){return e.enter(`tableHead`),e.enter(`tableRow`),l(t)}function l(e){return e===124?u(e):(o=!0,a+=1,u(e))}function u(t){return t===null?n(t):M(t)?a>1?(a=0,r.interrupt=!0,e.exit(`tableRow`),e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),p):n(t):P(t)?F(e,u,`whitespace`)(t):(a+=1,o&&(o=!1,i+=1),t===124?(e.enter(`tableCellDivider`),e.consume(t),e.exit(`tableCellDivider`),o=!0,u):(e.enter(`data`),d(t)))}function d(t){return t===null||t===124||N(t)?(e.exit(`data`),u(t)):(e.consume(t),t===92?f:d)}function f(t){return t===92||t===124?(e.consume(t),d):d(t)}function p(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter(`tableDelimiterRow`),o=!1,P(t)?F(e,m,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(t):m(t))}function m(t){return t===45||t===58?g(t):t===124?(o=!0,e.enter(`tableCellDivider`),e.consume(t),e.exit(`tableCellDivider`),h):x(t)}function h(t){return P(t)?F(e,g,`whitespace`)(t):g(t)}function g(t){return t===58?(a+=1,o=!0,e.enter(`tableDelimiterMarker`),e.consume(t),e.exit(`tableDelimiterMarker`),_):t===45?(a+=1,_(t)):t===null||M(t)?b(t):x(t)}function _(t){return t===45?(e.enter(`tableDelimiterFiller`),v(t)):x(t)}function v(t){return t===45?(e.consume(t),v):t===58?(o=!0,e.exit(`tableDelimiterFiller`),e.enter(`tableDelimiterMarker`),e.consume(t),e.exit(`tableDelimiterMarker`),y):(e.exit(`tableDelimiterFiller`),y(t))}function y(t){return P(t)?F(e,b,`whitespace`)(t):b(t)}function b(n){return n===124?m(n):n===null||M(n)?!o||i!==a?x(n):(e.exit(`tableDelimiterRow`),e.exit(`tableHead`),t(n)):x(n)}function x(e){return n(e)}function S(t){return e.enter(`tableRow`),C(t)}function C(n){return n===124?(e.enter(`tableCellDivider`),e.consume(n),e.exit(`tableCellDivider`),C):n===null||M(n)?(e.exit(`tableRow`),t(n)):P(n)?F(e,C,`whitespace`)(n):(e.enter(`data`),w(n))}function w(t){return t===null||t===124||N(t)?(e.exit(`data`),C(t)):(e.consume(t),t===92?T:w)}function T(t){return t===92||t===124?(e.consume(t),w):w(t)}}function Cl(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,c=0,l,u,d,f=new vl;for(;++n<e.length;){let p=e[n],m=p[1];p[0]===`enter`?m.type===`tableHead`?(s=!1,c!==0&&(Tl(f,t,c,l,u),u=void 0,c=0),l={type:`table`,start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[[`enter`,l,t]])):m.type===`tableRow`||m.type===`tableDelimiterRow`?(r=!0,d=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,u={type:`tableBody`,start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[[`enter`,u,t]])),i=m.type===`tableDelimiterRow`?2:u?3:1):i&&(m.type===`data`||m.type===`tableDelimiterMarker`||m.type===`tableDelimiterFiller`)?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=wl(f,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=n)):m.type===`tableCellDivider`&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],d=wl(f,t,a,i,void 0,d)),a=o,o=[a[1],n,0,0])):m.type===`tableHead`?(s=!0,c=n):m.type===`tableRow`||m.type===`tableDelimiterRow`?(c=n,a[1]===0?o[1]!==0&&(d=wl(f,t,o,i,n,d)):(o[0]=o[1],d=wl(f,t,a,i,n,d)),i=0):i&&(m.type===`data`||m.type===`tableDelimiterMarker`||m.type===`tableDelimiterFiller`)&&(o[3]=n)}for(c!==0&&Tl(f,t,c,l,u),f.consume(t.events),n=-1;++n<t.events.length;){let e=t.events[n];e[0]===`enter`&&e[1].type===`table`&&(e[1]._align=bl(t.events,n))}return e}function wl(e,t,n,r,i,a){let o=r===1?`tableHeader`:r===2?`tableDelimiter`:`tableData`,s=`tableContent`;n[0]!==0&&(a.end=Object.assign({},El(t.events,n[0])),e.add(n[0],0,[[`exit`,a,t]]));let c=El(t.events,n[1]);if(a={type:o,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[[`enter`,a,t]]),n[2]!==0){let i=El(t.events,n[2]),a=El(t.events,n[3]),o={type:s,start:Object.assign({},i),end:Object.assign({},a)};if(e.add(n[2],0,[[`enter`,o,t]]),r!==2){let r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type=`chunkText`,r[1].contentType=`text`,n[3]>n[2]+1){let t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[[`exit`,o,t]])}return i!==void 0&&(a.end=Object.assign({},El(t.events,i)),e.add(i,0,[[`exit`,a,t]]),a=void 0),a}function Tl(e,t,n,r,i){let a=[],o=El(t.events,n);i&&(i.end=Object.assign({},o),a.push([`exit`,i,t])),r.end=Object.assign({},o),a.push([`exit`,r,t]),e.add(n+1,0,a)}function El(e,t){let n=e[t],r=n[0]===`enter`?`start`:`end`;return n[1][r]}const Dl={name:`tasklistCheck`,tokenize:kl};function Ol(){return{text:{91:Dl}}}function kl(e,t,n){let r=this;return i;function i(t){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(t):(e.enter(`taskListCheck`),e.enter(`taskListCheckMarker`),e.consume(t),e.exit(`taskListCheckMarker`),a)}function a(t){return N(t)?(e.enter(`taskListCheckValueUnchecked`),e.consume(t),e.exit(`taskListCheckValueUnchecked`),o):t===88||t===120?(e.enter(`taskListCheckValueChecked`),e.consume(t),e.exit(`taskListCheckValueChecked`),o):n(t)}function o(t){return t===93?(e.enter(`taskListCheckMarker`),e.consume(t),e.exit(`taskListCheckMarker`),e.exit(`taskListCheck`),s):n(t)}function s(r){return M(r)?t(r):P(r)?e.check({tokenize:Al},t,n)(r):n(r)}}function Al(e,t,n){return F(e,r,`whitespace`);function r(e){return e===null?n(e):t(e)}}function jl(e){return yt([qc(),ll(),_l(e),xl(),Ol()])}const Ml={};function Nl(e){let t=this,n=e||Ml,r=t.data(),i=r.micromarkExtensions||=[],a=r.fromMarkdownExtensions||=[],o=r.toMarkdownExtensions||=[];i.push(jl(n)),a.push(Ic()),o.push(Lc(n))}const Pl=[Nl],Fl=({children:e})=>r(`div`,{className:`markdown-body`,children:r(Do,{remarkPlugins:Pl,children:e})});var Il=`vercel.ai.error`,Ll=Symbol.for(Il),Rl,zl=class e extends Error{constructor({name:e,message:t,cause:n}){super(t),this[Rl]=!0,this.name=e,this.cause=n}static isInstance(t){return e.hasMarker(t,Il)}static hasMarker(e,t){let n=Symbol.for(t);return typeof e==`object`&&!!e&&n in e&&typeof e[n]==`boolean`&&e[n]===!0}};Rl=Ll;var I=zl,Bl=`AI_APICallError`,Vl=`vercel.ai.error.${Bl}`,Hl=Symbol.for(Vl),Ul,Wl=class extends I{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:i,responseBody:a,cause:o,isRetryable:s=r!=null&&(r===408||r===409||r===429||r>=500),data:c}){super({name:Bl,message:e,cause:o}),this[Ul]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=i,this.responseBody=a,this.isRetryable=s,this.data=c}static isInstance(e){return I.hasMarker(e,Vl)}};Ul=Hl;var Gl=`AI_EmptyResponseBodyError`,Kl=`vercel.ai.error.${Gl}`,ql=Symbol.for(Kl),Jl,Yl=class extends I{constructor({message:e=`Empty response body`}={}){super({name:Gl,message:e}),this[Jl]=!0}static isInstance(e){return I.hasMarker(e,Kl)}};Jl=ql;function Xl(e){return e==null?`unknown error`:typeof e==`string`?e:e instanceof Error?e.message:JSON.stringify(e)}var Zl=`AI_InvalidArgumentError`,Ql=`vercel.ai.error.${Zl}`,$l=Symbol.for(Ql),eu,tu=class extends I{constructor({message:e,cause:t,argument:n}){super({name:Zl,message:e,cause:t}),this[eu]=!0,this.argument=n}static isInstance(e){return I.hasMarker(e,Ql)}};eu=$l;var nu=`AI_InvalidPromptError`,ru=`vercel.ai.error.${nu}`,iu=Symbol.for(ru),au,ou=class extends I{constructor({prompt:e,message:t,cause:n}){super({name:nu,message:`Invalid prompt: ${t}`,cause:n}),this[au]=!0,this.prompt=e}static isInstance(e){return I.hasMarker(e,ru)}};au=iu;var su=`AI_InvalidResponseDataError`,cu=`vercel.ai.error.${su}`,lu=Symbol.for(cu),uu,du=class extends I{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:su,message:t}),this[uu]=!0,this.data=e}static isInstance(e){return I.hasMarker(e,cu)}};uu=lu;var fu=`AI_JSONParseError`,pu=`vercel.ai.error.${fu}`,mu=Symbol.for(pu),hu,gu=class extends I{constructor({text:e,cause:t}){super({name:fu,message:`JSON parsing failed: Text: ${e}.
Error message: ${Xl(t)}`,cause:t}),this[hu]=!0,this.text=e}static isInstance(e){return I.hasMarker(e,pu)}};hu=mu;var _u=`AI_LoadAPIKeyError`,vu=`vercel.ai.error.${_u}`,yu=Symbol.for(vu),bu,xu=class extends I{constructor({message:e}){super({name:_u,message:e}),this[bu]=!0}static isInstance(e){return I.hasMarker(e,vu)}};bu=yu;var Su=`AI_LoadSettingError`,Cu=`vercel.ai.error.${Su}`,wu=Symbol.for(Cu),Tu;Tu=wu;var Eu=`AI_NoContentGeneratedError`,Du=`vercel.ai.error.${Eu}`,Ou=Symbol.for(Du),ku;ku=Ou;var Au=`AI_NoSuchModelError`,ju=`vercel.ai.error.${Au}`,Mu=Symbol.for(ju),Nu;Nu=Mu;var Pu=`AI_TooManyEmbeddingValuesForCallError`,Fu=`vercel.ai.error.${Pu}`,Iu=Symbol.for(Fu),Lu,Ru=class extends I{constructor(e){super({name:Pu,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[Lu]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return I.hasMarker(e,Fu)}};Lu=Iu;var zu=`AI_TypeValidationError`,Bu=`vercel.ai.error.${zu}`,Vu=Symbol.for(Bu),Hu,Uu=class e extends I{constructor({value:e,cause:t}){super({name:zu,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${Xl(t)}`,cause:t}),this[Hu]=!0,this.value=e}static isInstance(e){return I.hasMarker(e,Bu)}static wrap({value:t,cause:n}){return e.isInstance(n)&&n.value===t?n:new e({value:t,cause:n})}};Hu=Vu;var Wu=Uu,Gu=`AI_UnsupportedFunctionalityError`,Ku=`vercel.ai.error.${Gu}`,qu=Symbol.for(Ku),Ju,Yu=class extends I{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:Gu,message:t}),this[Ju]=!0,this.functionality=e}static isInstance(e){return I.hasMarker(e,Ku)}};Ju=qu;let Xu=(e,t=21)=>(n=t)=>{let r=``,i=n|0;for(;i--;)r+=e[Math.random()*e.length|0];return r};var Zu=e((exports,t)=>{let n=typeof Buffer<`u`,r=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,i=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function a(e,t,a){a==null&&typeof t==`object`&&t&&(a=t,t=void 0),n&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let s=JSON.parse(e,t);if(typeof s!=`object`||!s)return s;let c=a&&a.protoAction||`error`,l=a&&a.constructorAction||`error`;if(c===`ignore`&&l===`ignore`)return s;if(c!==`ignore`&&l!==`ignore`){if(r.test(e)===!1&&i.test(e)===!1)return s}else if(c!==`ignore`&&l===`ignore`){if(r.test(e)===!1)return s}else if(i.test(e)===!1)return s;return o(s,{protoAction:c,constructorAction:l,safe:a&&a.safe})}function o(e,{protoAction:t=`error`,constructorAction:n=`error`,safe:r}={}){let i=[e];for(;i.length;){let e=i;i=[];for(let a of e){if(t!==`ignore`&&Object.prototype.hasOwnProperty.call(a,`__proto__`)){if(r===!0)return null;if(t===`error`)throw SyntaxError(`Object contains forbidden prototype property`);delete a.__proto__}if(n!==`ignore`&&Object.prototype.hasOwnProperty.call(a,`constructor`)&&Object.prototype.hasOwnProperty.call(a.constructor,`prototype`)){if(r===!0)return null;if(n===`error`)throw SyntaxError(`Object contains forbidden prototype property`);delete a.constructor}for(let e in a){let t=a[e];t&&typeof t==`object`&&i.push(t)}}}return e}function s(e,t,n){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a(e,t,n)}finally{Error.stackTraceLimit=r}}function c(e,t){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=n}}t.exports=s,t.exports.default=s,t.exports.parse=s,t.exports.safeParse=c,t.exports.scan=o}),Qu=n(Zu(),1);function $u(...e){return e.reduce((e,t)=>({...e,...t??{}}),{})}function ed(e){return new ReadableStream({async pull(t){try{let{value:n,done:r}=await e.next();r?t.close():t.enqueue(n)}catch(e){t.error(e)}},cancel(){}})}async function td(e){return e==null?Promise.resolve():new Promise(t=>setTimeout(t,e))}function nd(){let e=``,t,n=[],r,i;function a(e,t){if(e===``){o(t);return}if(e.startsWith(`:`))return;let n=e.indexOf(`:`);if(n===-1){s(e,``);return}let r=e.slice(0,n),i=n+1,a=i<e.length&&e[i]===` `?e.slice(i+1):e.slice(i);s(r,a)}function o(e){n.length>0&&(e.enqueue({event:t,data:n.join(`
`),id:r,retry:i}),n=[],t=void 0,i=void 0)}function s(e,a){switch(e){case`event`:t=a;break;case`data`:n.push(a);break;case`id`:r=a;break;case`retry`:let e=parseInt(a,10);isNaN(e)||(i=e);break}}return new TransformStream({transform(t,n){let{lines:r,incompleteLine:i}=rd(e,t);e=i;for(let e=0;e<r.length;e++)a(r[e],n)},flush(t){a(e,t),o(t)}})}function rd(e,t){let n=[],r=e;for(let e=0;e<t.length;){let i=t[e++];i===`
`?(n.push(r),r=``):i===`\r`?(n.push(r),r=``,t[e]===`
`&&e++):r+=i}return{lines:n,incompleteLine:r}}function id(e){let t={};return e.headers.forEach((e,n)=>{t[n]=e}),t}var ad=({prefix:e,size:t=16,alphabet:n=`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`,separator:r=`-`}={})=>{let i=Xu(n,t);if(e==null)return i;if(n.includes(r))throw new tu({argument:`separator`,message:`The separator "${r}" must not be part of the alphabet "${n}".`});return t=>`${e}${r}${i(t)}`},od=ad();function sd(e){return e==null?`unknown error`:typeof e==`string`?e:e instanceof Error?e.message:JSON.stringify(e)}function cd(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>t!=null))}function ld(e){return e instanceof Error&&(e.name===`AbortError`||e.name===`TimeoutError`)}function ud({apiKey:e,environmentVariableName:t,apiKeyParameterName:n=`apiKey`,description:r}){if(typeof e==`string`)return e;if(e!=null)throw new xu({message:`${r} API key must be a string.`});if(typeof process>`u`)throw new xu({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e={}[t],e==null)throw new xu({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!=`string`)throw new xu({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var dd=Symbol.for(`vercel.ai.validator`);function fd(e){return{[dd]:!0,validate:e}}function pd(e){return typeof e==`object`&&!!e&&dd in e&&e[dd]===!0&&`validate`in e}function md(e){return pd(e)?e:hd(e)}function hd(e){return fd(t=>{let n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function gd({value:e,schema:t}){let n=_d({value:e,schema:t});if(!n.success)throw Wu.wrap({value:e,cause:n.error});return n.value}function _d({value:e,schema:t}){let n=md(t);try{if(n.validate==null)return{success:!0,value:e};let t=n.validate(e);return t.success?t:{success:!1,error:Wu.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:Wu.wrap({value:e,cause:t})}}}function vd({text:e,schema:t}){try{let n=Qu.default.parse(e);return t==null?n:gd({value:n,schema:t})}catch(t){throw gu.isInstance(t)||Wu.isInstance(t)?t:new gu({text:e,cause:t})}}function yd({text:e,schema:t}){try{let n=Qu.default.parse(e);if(t==null)return{success:!0,value:n,rawValue:n};let r=_d({value:n,schema:t});return r.success?{...r,rawValue:n}:r}catch(t){return{success:!1,error:gu.isInstance(t)?t:new gu({text:e,cause:t})}}}function bd(e){try{return Qu.default.parse(e),!0}catch{return!1}}var xd=()=>globalThis.fetch,Sd=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:a,fetch:o})=>Cd({url:e,headers:{"Content-Type":`application/json`,...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:a,fetch:o}),Cd=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:i,abortSignal:a,fetch:o=xd()})=>{try{let s=await o(e,{method:`POST`,headers:cd(t),body:n.content,signal:a}),c=id(s);if(!s.ok){let t;try{t=await i({response:s,url:e,requestBodyValues:n.values})}catch(t){throw ld(t)||Wl.isInstance(t)?t:new Wl({message:`Failed to process error response`,cause:t,statusCode:s.status,url:e,responseHeaders:c,requestBodyValues:n.values})}throw t.value}try{return await r({response:s,url:e,requestBodyValues:n.values})}catch(t){throw t instanceof Error&&(ld(t)||Wl.isInstance(t))?t:new Wl({message:`Failed to process successful response`,cause:t,statusCode:s.status,url:e,responseHeaders:c,requestBodyValues:n.values})}}catch(t){if(ld(t))throw t;if(t instanceof TypeError&&t.message===`fetch failed`){let r=t.cause;if(r!=null)throw new Wl({message:`Cannot connect to API: ${r.message}`,cause:r,url:e,requestBodyValues:n.values,isRetryable:!0})}throw t}},wd=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:i,requestBodyValues:a})=>{let o=await r.text(),s=id(r);if(o.trim()===``)return{responseHeaders:s,value:new Wl({message:r.statusText,url:i,requestBodyValues:a,statusCode:r.status,responseHeaders:s,responseBody:o,isRetryable:n?.(r)})};try{let c=vd({text:o,schema:e});return{responseHeaders:s,value:new Wl({message:t(c),url:i,requestBodyValues:a,statusCode:r.status,responseHeaders:s,responseBody:o,data:c,isRetryable:n?.(r,c)})}}catch{return{responseHeaders:s,value:new Wl({message:r.statusText,url:i,requestBodyValues:a,statusCode:r.status,responseHeaders:s,responseBody:o,isRetryable:n?.(r)})}}},Td=e=>async({response:t})=>{let n=id(t);if(t.body==null)throw new Yl({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(nd()).pipeThrough(new TransformStream({transform({data:t},n){t!==`[DONE]`&&n.enqueue(yd({text:t,schema:e}))}}))}},Ed=e=>async({response:t,url:n,requestBodyValues:r})=>{let i=await t.text(),a=yd({text:i,schema:e}),o=id(t);if(!a.success)throw new Wl({message:`Invalid JSON response`,cause:a.error,statusCode:t.status,responseHeaders:o,responseBody:i,url:n,requestBodyValues:r});return{responseHeaders:o,value:a.value,rawValue:a.rawValue}},Dd=()=>async({response:e,url:t,requestBodyValues:n})=>{let r=id(e);if(!e.body)throw new Wl({message:`Response body is empty`,url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0});try{let t=await e.arrayBuffer();return{responseHeaders:r,value:new Uint8Array(t)}}catch(i){throw new Wl({message:`Failed to read response as array buffer`,url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0,cause:i})}},Od=()=>async({response:e,url:t,requestBodyValues:n})=>{let r=id(e),i=await e.text();return{responseHeaders:r,value:new Wl({message:e.statusText,url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:i})}},{btoa:kd,atob:Ad}=globalThis;function jd(e){let t=e.replace(/-/g,`+`).replace(/_/g,`/`),n=Ad(t);return Uint8Array.from(n,e=>e.codePointAt(0))}function Md(e){let t=``;for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return kd(t)}function Nd(e){return e?.replace(/\/$/,``)}const Pd=Symbol(`Let zodToJsonSchema decide on which parser to use`),Fd={name:void 0,$refStrategy:`root`,basePath:[`#`],effectStrategy:`input`,pipeStrategy:`all`,dateStrategy:`format:date-time`,mapStrategy:`entries`,removeAdditionalStrategy:`passthrough`,allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:`definitions`,target:`jsonSchema7`,strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:`escape`,applyRegexFlags:!1,emailStrategy:`format:email`,base64Strategy:`contentEncoding:base64`,nameStrategy:`ref`,openAiAnyTypeName:`OpenAiAnyType`},Id=e=>typeof e==`string`?{...Fd,name:e}:{...Fd,...e},Ld=e=>{let t=Id(e),n=t.name===void 0?t.basePath:[...t.basePath,t.definitionPath,t.name];return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}};function Rd(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function L(e,t,n,r,i){e[t]=n,Rd(e,t,r,i)}const zd=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join(`/`)};var R;(function(e){e.assertEqual=e=>{};function t(e){}e.assertIs=t;function n(e){throw Error()}e.assertNever=n,e.arrayToEnum=e=>{let t={};for(let n of e)t[n]=n;return t},e.getValidEnumValues=t=>{let n=e.objectKeys(t).filter(e=>typeof t[t[e]]!=`number`),r={};for(let e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys=typeof Object.keys==`function`?e=>Object.keys(e):e=>{let t=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(let n of e)if(t(n))return n},e.isInteger=typeof Number.isInteger==`function`?e=>Number.isInteger(e):e=>typeof e==`number`&&Number.isFinite(e)&&Math.floor(e)===e;function r(e,t=` | `){return e.map(e=>typeof e==`string`?`'${e}'`:e).join(t)}e.joinValues=r,e.jsonStringifyReplacer=(e,t)=>typeof t==`bigint`?t.toString():t})(R||={});var Bd;(function(e){e.mergeShapes=(e,t)=>({...e,...t})})(Bd||={});const z=R.arrayToEnum([`string`,`nan`,`number`,`integer`,`float`,`boolean`,`date`,`bigint`,`symbol`,`function`,`undefined`,`null`,`array`,`object`,`unknown`,`promise`,`void`,`never`,`map`,`set`]),Vd=e=>{let t=typeof e;switch(t){case`undefined`:return z.undefined;case`string`:return z.string;case`number`:return Number.isNaN(e)?z.nan:z.number;case`boolean`:return z.boolean;case`function`:return z.function;case`bigint`:return z.bigint;case`symbol`:return z.symbol;case`object`:return Array.isArray(e)?z.array:e===null?z.null:e.then&&typeof e.then==`function`&&e.catch&&typeof e.catch==`function`?z.promise:typeof Map<`u`&&e instanceof Map?z.map:typeof Set<`u`&&e instanceof Set?z.set:typeof Date<`u`&&e instanceof Date?z.date:z.object;default:return z.unknown}},B=R.arrayToEnum([`invalid_type`,`invalid_literal`,`custom`,`invalid_union`,`invalid_union_discriminator`,`invalid_enum_value`,`unrecognized_keys`,`invalid_arguments`,`invalid_return_type`,`invalid_date`,`invalid_string`,`too_small`,`too_big`,`invalid_intersection_types`,`not_multiple_of`,`not_finite`]);var Hd=class e extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name=`ZodError`,this.issues=e}format(e){let t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(let i of e.issues)if(i.code===`invalid_union`)i.unionErrors.map(r);else if(i.code===`invalid_return_type`)r(i.returnTypeError);else if(i.code===`invalid_arguments`)r(i.argumentsError);else if(i.path.length===0)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){let n=i.path[r],a=r===i.path.length-1;a?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(t){if(!(t instanceof e))throw Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,R.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=e=>e.message){let t={},n=[];for(let r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};Hd.create=e=>{let t=new Hd(e);return t};const Ud=(e,t)=>{let n;switch(e.code){case B.invalid_type:n=e.received===z.undefined?`Required`:`Expected ${e.expected}, received ${e.received}`;break;case B.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,R.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:n=`Unrecognized key(s) in object: ${R.joinValues(e.keys,`, `)}`;break;case B.invalid_union:n=`Invalid input`;break;case B.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${R.joinValues(e.options)}`;break;case B.invalid_enum_value:n=`Invalid enum value. Expected ${R.joinValues(e.options)}, received '${e.received}'`;break;case B.invalid_arguments:n=`Invalid function arguments`;break;case B.invalid_return_type:n=`Invalid function return type`;break;case B.invalid_date:n=`Invalid date`;break;case B.invalid_string:typeof e.validation==`object`?`includes`in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position==`number`&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):`startsWith`in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:`endsWith`in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:R.assertNever(e.validation):n=e.validation===`regex`?`Invalid`:`Invalid ${e.validation}`;break;case B.too_small:n=e.type===`array`?`Array must contain ${e.exact?`exactly`:e.inclusive?`at least`:`more than`} ${e.minimum} element(s)`:e.type===`string`?`String must contain ${e.exact?`exactly`:e.inclusive?`at least`:`over`} ${e.minimum} character(s)`:e.type===`number`?`Number must be ${e.exact?`exactly equal to `:e.inclusive?`greater than or equal to `:`greater than `}${e.minimum}`:e.type===`date`?`Date must be ${e.exact?`exactly equal to `:e.inclusive?`greater than or equal to `:`greater than `}${new Date(Number(e.minimum))}`:`Invalid input`;break;case B.too_big:n=e.type===`array`?`Array must contain ${e.exact?`exactly`:e.inclusive?`at most`:`less than`} ${e.maximum} element(s)`:e.type===`string`?`String must contain ${e.exact?`exactly`:e.inclusive?`at most`:`under`} ${e.maximum} character(s)`:e.type===`number`?`Number must be ${e.exact?`exactly`:e.inclusive?`less than or equal to`:`less than`} ${e.maximum}`:e.type===`bigint`?`BigInt must be ${e.exact?`exactly`:e.inclusive?`less than or equal to`:`less than`} ${e.maximum}`:e.type===`date`?`Date must be ${e.exact?`exactly`:e.inclusive?`smaller than or equal to`:`smaller than`} ${new Date(Number(e.maximum))}`:`Invalid input`;break;case B.custom:n=`Invalid input`;break;case B.invalid_intersection_types:n=`Intersection results could not be merged`;break;case B.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case B.not_finite:n=`Number must be finite`;break;default:n=t.defaultError,R.assertNever(e)}return{message:n}};var Wd=Ud;let Gd=Wd;function Kd(){return Gd}const qd=e=>{let{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let s=``,c=r.filter(e=>!!e).slice().reverse();for(let e of c)s=e(o,{data:t,defaultError:s}).message;return{...i,path:a,message:s}};function V(e,t){let n=Kd(),r=qd({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Wd?void 0:Wd].filter(e=>!!e)});e.common.issues.push(r)}var Jd=class e{constructor(){this.value=`valid`}dirty(){this.value===`valid`&&(this.value=`dirty`)}abort(){this.value!==`aborted`&&(this.value=`aborted`)}static mergeArray(e,t){let n=[];for(let r of t){if(r.status===`aborted`)return H;r.status===`dirty`&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(t,n){let r=[];for(let e of n){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return e.mergeObjectSync(t,r)}static mergeObjectSync(e,t){let n={};for(let r of t){let{key:t,value:i}=r;if(t.status===`aborted`||i.status===`aborted`)return H;t.status===`dirty`&&e.dirty(),i.status===`dirty`&&e.dirty(),t.value!==`__proto__`&&(i.value!==void 0||r.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}};const H=Object.freeze({status:`aborted`}),Yd=e=>({status:`dirty`,value:e}),Xd=e=>({status:`valid`,value:e}),Zd=e=>e.status===`aborted`,Qd=e=>e.status===`dirty`,$d=e=>e.status===`valid`,ef=e=>typeof Promise<`u`&&e instanceof Promise;var U;(function(e){e.errToObj=e=>typeof e==`string`?{message:e}:e||{},e.toString=e=>typeof e==`string`?e:e?.message})(U||={});var tf=class{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const nf=(e,t)=>{if($d(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error(`Validation failed but no issues detected.`);return{success:!1,get error(){if(this._error)return this._error;let t=new Hd(e.common.issues);return this._error=t,this._error}}};function W(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(t)return{errorMap:t,description:i};let a=(t,i)=>{let{message:a}=e;return t.code===`invalid_enum_value`?{message:a??i.defaultError}:i.data===void 0?{message:a??r??i.defaultError}:t.code===`invalid_type`?{message:a??n??i.defaultError}:{message:i.defaultError}};return{errorMap:a,description:i}}var G=class{get description(){return this._def.description}_getType(e){return Vd(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Vd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Jd,ctx:{common:e.parent.common,data:e.data,parsedType:Vd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ef(t))throw Error(`Synchronous parse encountered promise.`);return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){let n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vd(e)},r=this._parseSync({data:e,path:n.path,parent:n});return nf(n,r)}"~validate"(e){let t={common:{issues:[],async:!!this[`~standard`].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vd(e)};if(!this[`~standard`].async)try{let n=this._parseSync({data:e,path:[],parent:t});return $d(n)?{value:n.value}:{issues:t.common.issues}}catch(e){var n;!(e==null||(n=e.message)==null||(n=n.toLowerCase())==null)&&n.includes(`encountered`)&&(this[`~standard`].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>$d(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vd(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(ef(r)?r:Promise.resolve(r));return nf(n,i)}refine(e,t){let n=e=>typeof t==`string`||t===void 0?{message:t}:typeof t==`function`?t(e):t;return this._refinement((t,r)=>{let i=e(t),a=()=>r.addIssue({code:B.custom,...n(t)});return typeof Promise<`u`&&i instanceof Promise?i.then(e=>e?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(e,t){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof t==`function`?t(n,r):t),!1))}_refinement(e){return new sp({schema:this,typeName:K.ZodEffects,effect:{type:`refinement`,refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this[`~standard`]={version:1,vendor:`zod`,validate:e=>this[`~validate`](e)}}optional(){return cp.create(this,this._def)}nullable(){return lp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hf.create(this)}promise(){return op.create(this,this._def)}or(e){return Gf.create([this,e],this._def)}and(e){return Yf.create(this,e,this._def)}transform(e){return new sp({...W(this._def),schema:this,typeName:K.ZodEffects,effect:{type:`transform`,transform:e}})}default(e){let t=typeof e==`function`?e:()=>e;return new up({...W(this._def),innerType:this,defaultValue:t,typeName:K.ZodDefault})}brand(){return new mp({typeName:K.ZodBranded,type:this,...W(this._def)})}catch(e){let t=typeof e==`function`?e:()=>e;return new dp({...W(this._def),innerType:this,catchValue:t,typeName:K.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return hp.create(this,e)}readonly(){return gp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const rf=/^c[^\s-]{8,}$/i,af=/^[0-9a-z]+$/,sf=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cf=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lf=/^[a-z0-9_-]{21}$/i,uf=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,df=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ff=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pf=`^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;let mf;const hf=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gf=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_f=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vf=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yf=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bf=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xf=`((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))`,Sf=RegExp(`^${xf}$`);function Cf(e){let t=`[0-5]\\d`;e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision??(t=`${t}(\\.\\d+)?`);let n=e.precision?`+`:`?`;return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function wf(e){return RegExp(`^${Cf(e)}$`)}function Tf(e){let t=`${xf}T${Cf(e)}`,n=[];return n.push(e.local?`Z?`:`Z`),e.offset&&n.push(`([+-]\\d{2}:?\\d{2})`),t=`${t}(${n.join(`|`)})`,RegExp(`^${t}$`)}function Ef(e,t){return!!((t===`v4`||!t)&&hf.test(e)||(t===`v6`||!t)&&_f.test(e))}function Df(e,t){if(!uf.test(e))return!1;try{let[n]=e.split(`.`),r=n.replace(/-/g,`+`).replace(/_/g,`/`).padEnd(n.length+(4-n.length%4)%4,`=`),i=JSON.parse(atob(r));return!(typeof i!=`object`||!i||`typ`in i&&i?.typ!==`JWT`||!i.alg||t&&i.alg!==t)}catch{return!1}}function Of(e,t){return!!((t===`v4`||!t)&&gf.test(e)||(t===`v6`||!t)&&vf.test(e))}var kf=class e extends G{_parse(e){this._def.coerce&&(e.data=String(e.data));let t=this._getType(e);if(t!==z.string){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.string,received:t.parsedType}),H}let n=new Jd,r;for(let t of this._def.checks)if(t.kind===`min`)e.data.length<t.value&&(r=this._getOrReturnCtx(e,r),V(r,{code:B.too_small,minimum:t.value,type:`string`,inclusive:!0,exact:!1,message:t.message}),n.dirty());else if(t.kind===`max`)e.data.length>t.value&&(r=this._getOrReturnCtx(e,r),V(r,{code:B.too_big,maximum:t.value,type:`string`,inclusive:!0,exact:!1,message:t.message}),n.dirty());else if(t.kind===`length`){let i=e.data.length>t.value,a=e.data.length<t.value;(i||a)&&(r=this._getOrReturnCtx(e,r),i?V(r,{code:B.too_big,maximum:t.value,type:`string`,inclusive:!0,exact:!0,message:t.message}):a&&V(r,{code:B.too_small,minimum:t.value,type:`string`,inclusive:!0,exact:!0,message:t.message}),n.dirty())}else if(t.kind===`email`)ff.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`email`,code:B.invalid_string,message:t.message}),n.dirty());else if(t.kind===`emoji`)mf||=new RegExp(pf,`u`),mf.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`emoji`,code:B.invalid_string,message:t.message}),n.dirty());else if(t.kind===`uuid`)cf.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`uuid`,code:B.invalid_string,message:t.message}),n.dirty());else if(t.kind===`nanoid`)lf.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`nanoid`,code:B.invalid_string,message:t.message}),n.dirty());else if(t.kind===`cuid`)rf.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`cuid`,code:B.invalid_string,message:t.message}),n.dirty());else if(t.kind===`cuid2`)af.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`cuid2`,code:B.invalid_string,message:t.message}),n.dirty());else if(t.kind===`ulid`)sf.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`ulid`,code:B.invalid_string,message:t.message}),n.dirty());else if(t.kind===`url`)try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),V(r,{validation:`url`,code:B.invalid_string,message:t.message}),n.dirty()}else if(t.kind===`regex`){t.regex.lastIndex=0;let i=t.regex.test(e.data);i||(r=this._getOrReturnCtx(e,r),V(r,{validation:`regex`,code:B.invalid_string,message:t.message}),n.dirty())}else if(t.kind===`trim`)e.data=e.data.trim();else if(t.kind===`includes`)e.data.includes(t.value,t.position)||(r=this._getOrReturnCtx(e,r),V(r,{code:B.invalid_string,validation:{includes:t.value,position:t.position},message:t.message}),n.dirty());else if(t.kind===`toLowerCase`)e.data=e.data.toLowerCase();else if(t.kind===`toUpperCase`)e.data=e.data.toUpperCase();else if(t.kind===`startsWith`)e.data.startsWith(t.value)||(r=this._getOrReturnCtx(e,r),V(r,{code:B.invalid_string,validation:{startsWith:t.value},message:t.message}),n.dirty());else if(t.kind===`endsWith`)e.data.endsWith(t.value)||(r=this._getOrReturnCtx(e,r),V(r,{code:B.invalid_string,validation:{endsWith:t.value},message:t.message}),n.dirty());else if(t.kind===`datetime`){let i=Tf(t);i.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{code:B.invalid_string,validation:`datetime`,message:t.message}),n.dirty())}else if(t.kind===`date`){let i=Sf;i.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{code:B.invalid_string,validation:`date`,message:t.message}),n.dirty())}else if(t.kind===`time`){let i=wf(t);i.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{code:B.invalid_string,validation:`time`,message:t.message}),n.dirty())}else t.kind===`duration`?df.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`duration`,code:B.invalid_string,message:t.message}),n.dirty()):t.kind===`ip`?Ef(e.data,t.version)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`ip`,code:B.invalid_string,message:t.message}),n.dirty()):t.kind===`jwt`?Df(e.data,t.alg)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`jwt`,code:B.invalid_string,message:t.message}),n.dirty()):t.kind===`cidr`?Of(e.data,t.version)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`cidr`,code:B.invalid_string,message:t.message}),n.dirty()):t.kind===`base64`?yf.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`base64`,code:B.invalid_string,message:t.message}),n.dirty()):t.kind===`base64url`?bf.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:`base64url`,code:B.invalid_string,message:t.message}),n.dirty()):R.assertNever(t);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:B.invalid_string,...U.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(e){return this._addCheck({kind:`email`,...U.errToObj(e)})}url(e){return this._addCheck({kind:`url`,...U.errToObj(e)})}emoji(e){return this._addCheck({kind:`emoji`,...U.errToObj(e)})}uuid(e){return this._addCheck({kind:`uuid`,...U.errToObj(e)})}nanoid(e){return this._addCheck({kind:`nanoid`,...U.errToObj(e)})}cuid(e){return this._addCheck({kind:`cuid`,...U.errToObj(e)})}cuid2(e){return this._addCheck({kind:`cuid2`,...U.errToObj(e)})}ulid(e){return this._addCheck({kind:`ulid`,...U.errToObj(e)})}base64(e){return this._addCheck({kind:`base64`,...U.errToObj(e)})}base64url(e){return this._addCheck({kind:`base64url`,...U.errToObj(e)})}jwt(e){return this._addCheck({kind:`jwt`,...U.errToObj(e)})}ip(e){return this._addCheck({kind:`ip`,...U.errToObj(e)})}cidr(e){return this._addCheck({kind:`cidr`,...U.errToObj(e)})}datetime(e){return typeof e==`string`?this._addCheck({kind:`datetime`,precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:`datetime`,precision:e?.precision===void 0?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...U.errToObj(e?.message)})}date(e){return this._addCheck({kind:`date`,message:e})}time(e){return typeof e==`string`?this._addCheck({kind:`time`,precision:null,message:e}):this._addCheck({kind:`time`,precision:e?.precision===void 0?null:e?.precision,...U.errToObj(e?.message)})}duration(e){return this._addCheck({kind:`duration`,...U.errToObj(e)})}regex(e,t){return this._addCheck({kind:`regex`,regex:e,...U.errToObj(t)})}includes(e,t){return this._addCheck({kind:`includes`,value:e,position:t?.position,...U.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:`startsWith`,value:e,...U.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:`endsWith`,value:e,...U.errToObj(t)})}min(e,t){return this._addCheck({kind:`min`,value:e,...U.errToObj(t)})}max(e,t){return this._addCheck({kind:`max`,value:e,...U.errToObj(t)})}length(e,t){return this._addCheck({kind:`length`,value:e,...U.errToObj(t)})}nonempty(e){return this.min(1,U.errToObj(e))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:`trim`}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:`toLowerCase`}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:`toUpperCase`}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind===`datetime`)}get isDate(){return!!this._def.checks.find(e=>e.kind===`date`)}get isTime(){return!!this._def.checks.find(e=>e.kind===`time`)}get isDuration(){return!!this._def.checks.find(e=>e.kind===`duration`)}get isEmail(){return!!this._def.checks.find(e=>e.kind===`email`)}get isURL(){return!!this._def.checks.find(e=>e.kind===`url`)}get isEmoji(){return!!this._def.checks.find(e=>e.kind===`emoji`)}get isUUID(){return!!this._def.checks.find(e=>e.kind===`uuid`)}get isNANOID(){return!!this._def.checks.find(e=>e.kind===`nanoid`)}get isCUID(){return!!this._def.checks.find(e=>e.kind===`cuid`)}get isCUID2(){return!!this._def.checks.find(e=>e.kind===`cuid2`)}get isULID(){return!!this._def.checks.find(e=>e.kind===`ulid`)}get isIP(){return!!this._def.checks.find(e=>e.kind===`ip`)}get isCIDR(){return!!this._def.checks.find(e=>e.kind===`cidr`)}get isBase64(){return!!this._def.checks.find(e=>e.kind===`base64`)}get isBase64url(){return!!this._def.checks.find(e=>e.kind===`base64url`)}get minLength(){let e=null;for(let t of this._def.checks)t.kind===`min`&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind===`max`&&(e===null||t.value<e)&&(e=t.value);return e}};kf.create=e=>new kf({checks:[],typeName:K.ZodString,coerce:e?.coerce??!1,...W(e)});function Af(e,t){let n=(e.toString().split(`.`)[1]||``).length,r=(t.toString().split(`.`)[1]||``).length,i=n>r?n:r,a=Number.parseInt(e.toFixed(i).replace(`.`,``)),o=Number.parseInt(t.toFixed(i).replace(`.`,``));return a%o/10**i}var jf=class e extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));let t=this._getType(e);if(t!==z.number){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.number,received:t.parsedType}),H}let n,r=new Jd;for(let t of this._def.checks)if(t.kind===`int`)R.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{code:B.invalid_type,expected:`integer`,received:`float`,message:t.message}),r.dirty());else if(t.kind===`min`){let i=t.inclusive?e.data<t.value:e.data<=t.value;i&&(n=this._getOrReturnCtx(e,n),V(n,{code:B.too_small,minimum:t.value,type:`number`,inclusive:t.inclusive,exact:!1,message:t.message}),r.dirty())}else if(t.kind===`max`){let i=t.inclusive?e.data>t.value:e.data>=t.value;i&&(n=this._getOrReturnCtx(e,n),V(n,{code:B.too_big,maximum:t.value,type:`number`,inclusive:t.inclusive,exact:!1,message:t.message}),r.dirty())}else t.kind===`multipleOf`?Af(e.data,t.value)!==0&&(n=this._getOrReturnCtx(e,n),V(n,{code:B.not_multiple_of,multipleOf:t.value,message:t.message}),r.dirty()):t.kind===`finite`?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),V(n,{code:B.not_finite,message:t.message}),r.dirty()):R.assertNever(t);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit(`min`,e,!0,U.toString(t))}gt(e,t){return this.setLimit(`min`,e,!1,U.toString(t))}lte(e,t){return this.setLimit(`max`,e,!0,U.toString(t))}lt(e,t){return this.setLimit(`max`,e,!1,U.toString(t))}setLimit(t,n,r,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:U.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(e){return this._addCheck({kind:`int`,message:U.toString(e)})}positive(e){return this._addCheck({kind:`min`,value:0,inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:`max`,value:0,inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:`max`,value:0,inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:`min`,value:0,inclusive:!0,message:U.toString(e)})}multipleOf(e,t){return this._addCheck({kind:`multipleOf`,value:e,message:U.toString(t)})}finite(e){return this._addCheck({kind:`finite`,message:U.toString(e)})}safe(e){return this._addCheck({kind:`min`,inclusive:!0,value:-(2**53-1),message:U.toString(e)})._addCheck({kind:`max`,inclusive:!0,value:2**53-1,message:U.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind===`min`&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind===`max`&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind===`int`||e.kind===`multipleOf`&&R.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks)if(n.kind===`finite`||n.kind===`int`||n.kind===`multipleOf`)return!0;else n.kind===`min`?(t===null||n.value>t)&&(t=n.value):n.kind===`max`&&(e===null||n.value<e)&&(e=n.value);return Number.isFinite(t)&&Number.isFinite(e)}};jf.create=e=>new jf({checks:[],typeName:K.ZodNumber,coerce:e?.coerce||!1,...W(e)});var Mf=class e extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}let t=this._getType(e);if(t!==z.bigint)return this._getInvalidInput(e);let n,r=new Jd;for(let t of this._def.checks)if(t.kind===`min`){let i=t.inclusive?e.data<t.value:e.data<=t.value;i&&(n=this._getOrReturnCtx(e,n),V(n,{code:B.too_small,type:`bigint`,minimum:t.value,inclusive:t.inclusive,message:t.message}),r.dirty())}else if(t.kind===`max`){let i=t.inclusive?e.data>t.value:e.data>=t.value;i&&(n=this._getOrReturnCtx(e,n),V(n,{code:B.too_big,type:`bigint`,maximum:t.value,inclusive:t.inclusive,message:t.message}),r.dirty())}else t.kind===`multipleOf`?e.data%t.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),V(n,{code:B.not_multiple_of,multipleOf:t.value,message:t.message}),r.dirty()):R.assertNever(t);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.bigint,received:t.parsedType}),H}gte(e,t){return this.setLimit(`min`,e,!0,U.toString(t))}gt(e,t){return this.setLimit(`min`,e,!1,U.toString(t))}lte(e,t){return this.setLimit(`max`,e,!0,U.toString(t))}lt(e,t){return this.setLimit(`max`,e,!1,U.toString(t))}setLimit(t,n,r,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:U.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(e){return this._addCheck({kind:`min`,value:BigInt(0),inclusive:!1,message:U.toString(e)})}negative(e){return this._addCheck({kind:`max`,value:BigInt(0),inclusive:!1,message:U.toString(e)})}nonpositive(e){return this._addCheck({kind:`max`,value:BigInt(0),inclusive:!0,message:U.toString(e)})}nonnegative(e){return this._addCheck({kind:`min`,value:BigInt(0),inclusive:!0,message:U.toString(e)})}multipleOf(e,t){return this._addCheck({kind:`multipleOf`,value:e,message:U.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind===`min`&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind===`max`&&(e===null||t.value<e)&&(e=t.value);return e}};Mf.create=e=>new Mf({checks:[],typeName:K.ZodBigInt,coerce:e?.coerce??!1,...W(e)});var Nf=class extends G{_parse(e){this._def.coerce&&(e.data=!!e.data);let t=this._getType(e);if(t!==z.boolean){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.boolean,received:t.parsedType}),H}return Xd(e.data)}};Nf.create=e=>new Nf({typeName:K.ZodBoolean,coerce:e?.coerce||!1,...W(e)});var Pf=class e extends G{_parse(e){this._def.coerce&&(e.data=new Date(e.data));let t=this._getType(e);if(t!==z.date){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.date,received:t.parsedType}),H}if(Number.isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_date}),H}let n=new Jd,r;for(let t of this._def.checks)t.kind===`min`?e.data.getTime()<t.value&&(r=this._getOrReturnCtx(e,r),V(r,{code:B.too_small,message:t.message,inclusive:!0,exact:!1,minimum:t.value,type:`date`}),n.dirty()):t.kind===`max`?e.data.getTime()>t.value&&(r=this._getOrReturnCtx(e,r),V(r,{code:B.too_big,message:t.message,inclusive:!0,exact:!1,maximum:t.value,type:`date`}),n.dirty()):R.assertNever(t);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(e,t){return this._addCheck({kind:`min`,value:e.getTime(),message:U.toString(t)})}max(e,t){return this._addCheck({kind:`max`,value:e.getTime(),message:U.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind===`min`&&(e===null||t.value>e)&&(e=t.value);return e==null?null:new Date(e)}get maxDate(){let e=null;for(let t of this._def.checks)t.kind===`max`&&(e===null||t.value<e)&&(e=t.value);return e==null?null:new Date(e)}};Pf.create=e=>new Pf({checks:[],coerce:e?.coerce||!1,typeName:K.ZodDate,...W(e)});var Ff=class extends G{_parse(e){let t=this._getType(e);if(t!==z.symbol){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.symbol,received:t.parsedType}),H}return Xd(e.data)}};Ff.create=e=>new Ff({typeName:K.ZodSymbol,...W(e)});var If=class extends G{_parse(e){let t=this._getType(e);if(t!==z.undefined){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.undefined,received:t.parsedType}),H}return Xd(e.data)}};If.create=e=>new If({typeName:K.ZodUndefined,...W(e)});var Lf=class extends G{_parse(e){let t=this._getType(e);if(t!==z.null){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.null,received:t.parsedType}),H}return Xd(e.data)}};Lf.create=e=>new Lf({typeName:K.ZodNull,...W(e)});var Rf=class extends G{constructor(){super(...arguments),this._any=!0}_parse(e){return Xd(e.data)}};Rf.create=e=>new Rf({typeName:K.ZodAny,...W(e)});var zf=class extends G{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Xd(e.data)}};zf.create=e=>new zf({typeName:K.ZodUnknown,...W(e)});var Bf=class extends G{_parse(e){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.never,received:t.parsedType}),H}};Bf.create=e=>new Bf({typeName:K.ZodNever,...W(e)});var Vf=class extends G{_parse(e){let t=this._getType(e);if(t!==z.undefined){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.void,received:t.parsedType}),H}return Xd(e.data)}};Vf.create=e=>new Vf({typeName:K.ZodVoid,...W(e)});var Hf=class e extends G{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==z.array)return V(t,{code:B.invalid_type,expected:z.array,received:t.parsedType}),H;if(r.exactLength!==null){let e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(V(t,{code:e?B.too_big:B.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:`array`,inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(V(t,{code:B.too_small,minimum:r.minLength.value,type:`array`,inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(V(t,{code:B.too_big,maximum:r.maxLength.value,type:`array`,inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new tf(t,e,t.path,n)))).then(e=>Jd.mergeArray(n,e));let i=[...t.data].map((e,n)=>r.type._parseSync(new tf(t,e,t.path,n)));return Jd.mergeArray(n,i)}get element(){return this._def.type}min(t,n){return new e({...this._def,minLength:{value:t,message:U.toString(n)}})}max(t,n){return new e({...this._def,maxLength:{value:t,message:U.toString(n)}})}length(t,n){return new e({...this._def,exactLength:{value:t,message:U.toString(n)}})}nonempty(e){return this.min(1,e)}};Hf.create=(e,t)=>new Hf({type:e,minLength:null,maxLength:null,exactLength:null,typeName:K.ZodArray,...W(t)});function Uf(e){if(e instanceof Wf){let t={};for(let n in e.shape){let r=e.shape[n];t[n]=cp.create(Uf(r))}return new Wf({...e._def,shape:()=>t})}else if(e instanceof Hf)return new Hf({...e._def,type:Uf(e.element)});else if(e instanceof cp)return cp.create(Uf(e.unwrap()));else if(e instanceof lp)return lp.create(Uf(e.unwrap()));else if(e instanceof Xf)return Xf.create(e.items.map(e=>Uf(e)));else return e}var Wf=class e extends G{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=R.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){let t=this._getType(e);if(t!==z.object){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.object,received:t.parsedType}),H}let{status:n,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Bf&&this._def.unknownKeys===`strip`))for(let e in r.data)a.includes(e)||o.push(e);let s=[];for(let e of a){let t=i[e],n=r.data[e];s.push({key:{status:`valid`,value:e},value:t._parse(new tf(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof Bf){let e=this._def.unknownKeys;if(e===`passthrough`)for(let e of o)s.push({key:{status:`valid`,value:e},value:{status:`valid`,value:r.data[e]}});else if(e===`strict`)o.length>0&&(V(r,{code:B.unrecognized_keys,keys:o}),n.dirty());else if(e!==`strip`)throw Error(`Internal ZodObject error: invalid unknownKeys value.`)}else{let e=this._def.catchall;for(let t of o){let n=r.data[t];s.push({key:{status:`valid`,value:t},value:e._parse(new tf(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>Jd.mergeObjectSync(n,e)):Jd.mergeObjectSync(n,s)}get shape(){return this._def.shape()}strict(t){return U.errToObj,new e({...this._def,unknownKeys:`strict`,...t===void 0?{}:{errorMap:(e,n)=>{var r,i;let a=(r=(i=this._def).errorMap)?.call(i,e,n).message??n.defaultError;return e.code===`unrecognized_keys`?{message:U.errToObj(t).message??a}:{message:a}}}})}strip(){return new e({...this._def,unknownKeys:`strip`})}passthrough(){return new e({...this._def,unknownKeys:`passthrough`})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){let n=new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:K.ZodObject});return n}setKey(e,t){return this.augment({[e]:t})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let n={};for(let e of R.objectKeys(t))t[e]&&this.shape[e]&&(n[e]=this.shape[e]);return new e({...this._def,shape:()=>n})}omit(t){let n={};for(let e of R.objectKeys(this.shape))t[e]||(n[e]=this.shape[e]);return new e({...this._def,shape:()=>n})}deepPartial(){return Uf(this)}partial(t){let n={};for(let e of R.objectKeys(this.shape)){let r=this.shape[e];t&&!t[e]?n[e]=r:n[e]=r.optional()}return new e({...this._def,shape:()=>n})}required(t){let n={};for(let e of R.objectKeys(this.shape))if(t&&!t[e])n[e]=this.shape[e];else{let t=this.shape[e],r=t;for(;r instanceof cp;)r=r._def.innerType;n[e]=r}return new e({...this._def,shape:()=>n})}keyof(){return rp(R.objectKeys(this.shape))}};Wf.create=(e,t)=>new Wf({shape:()=>e,unknownKeys:`strip`,catchall:Bf.create(),typeName:K.ZodObject,...W(t)}),Wf.strictCreate=(e,t)=>new Wf({shape:()=>e,unknownKeys:`strict`,catchall:Bf.create(),typeName:K.ZodObject,...W(t)}),Wf.lazycreate=(e,t)=>new Wf({shape:e,unknownKeys:`strip`,catchall:Bf.create(),typeName:K.ZodObject,...W(t)});var Gf=class extends G{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function r(e){for(let t of e)if(t.result.status===`valid`)return t.result;for(let n of e)if(n.result.status===`dirty`)return t.common.issues.push(...n.ctx.common.issues),n.result;let n=e.map(e=>new Hd(e.ctx.common.issues));return V(t,{code:B.invalid_union,unionErrors:n}),H}if(t.common.async)return Promise.all(n.map(async e=>{let n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(r);{let e,r=[];for(let i of n){let n={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:n});if(a.status===`valid`)return a;a.status===`dirty`&&!e&&(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=r.map(e=>new Hd(e));return V(t,{code:B.invalid_union,unionErrors:i}),H}}get options(){return this._def.options}};Gf.create=(e,t)=>new Gf({options:e,typeName:K.ZodUnion,...W(t)});const Kf=e=>e instanceof tp?Kf(e.schema):e instanceof sp?Kf(e.innerType()):e instanceof np?[e.value]:e instanceof ip?e.options:e instanceof ap?R.objectValues(e.enum):e instanceof up?Kf(e._def.innerType):e instanceof If?[void 0]:e instanceof Lf?[null]:e instanceof cp?[void 0,...Kf(e.unwrap())]:e instanceof lp?[null,...Kf(e.unwrap())]:e instanceof mp||e instanceof gp?Kf(e.unwrap()):e instanceof dp?Kf(e._def.innerType):[];var qf=class e extends G{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==z.object)return V(t,{code:B.invalid_type,expected:z.object,received:t.parsedType}),H;let n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(V(t,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),H)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){let i=new Map;for(let e of n){let n=Kf(e.shape[t]);if(!n.length)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let r of n){if(i.has(r))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(r)}`);i.set(r,e)}}return new e({typeName:K.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...W(r)})}};function Jf(e,t){let n=Vd(e),r=Vd(t);if(e===t)return{valid:!0,data:e};if(n===z.object&&r===z.object){let n=R.objectKeys(t),r=R.objectKeys(e).filter(e=>n.indexOf(e)!==-1),i={...e,...t};for(let n of r){let r=Jf(e[n],t[n]);if(!r.valid)return{valid:!1};i[n]=r.data}return{valid:!0,data:i}}else if(n===z.array&&r===z.array){if(e.length!==t.length)return{valid:!1};let n=[];for(let r=0;r<e.length;r++){let i=e[r],a=t[r],o=Jf(i,a);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}else if(n===z.date&&r===z.date&&+e==+t)return{valid:!0,data:e};else return{valid:!1}}var Yf=class extends G{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Zd(e)||Zd(r))return H;let i=Jf(e.value,r.value);return i.valid?((Qd(e)||Qd(r))&&t.dirty(),{status:t.value,value:i.data}):(V(n,{code:B.invalid_intersection_types}),H)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Yf.create=(e,t,n)=>new Yf({left:e,right:t,typeName:K.ZodIntersection,...W(n)});var Xf=class e extends G{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==z.array)return V(n,{code:B.invalid_type,expected:z.array,received:n.parsedType}),H;if(n.data.length<this._def.items.length)return V(n,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:`array`}),H;let r=this._def.rest;!r&&n.data.length>this._def.items.length&&(V(n,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:`array`}),t.dirty());let i=[...n.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new tf(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(i).then(e=>Jd.mergeArray(t,e)):Jd.mergeArray(t,i)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Xf.create=(e,t)=>{if(!Array.isArray(e))throw Error(`You must pass an array of schemas to z.tuple([ ... ])`);return new Xf({items:e,typeName:K.ZodTuple,rest:null,...W(t)})};var Zf=class e extends G{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==z.object)return V(n,{code:B.invalid_type,expected:z.object,received:n.parsedType}),H;let r=[],i=this._def.keyType,a=this._def.valueType;for(let e in n.data)r.push({key:i._parse(new tf(n,e,n.path,e)),value:a._parse(new tf(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?Jd.mergeObjectAsync(t,r):Jd.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof G?new e({keyType:t,valueType:n,typeName:K.ZodRecord,...W(r)}):new e({keyType:kf.create(),valueType:t,typeName:K.ZodRecord,...W(n)})}},Qf=class extends G{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==z.map)return V(n,{code:B.invalid_type,expected:z.map,received:n.parsedType}),H;let r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([e,t],a)=>({key:r._parse(new tf(n,e,n.path,[a,`key`])),value:i._parse(new tf(n,t,n.path,[a,`value`]))}));if(n.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let n of a){let r=await n.key,i=await n.value;if(r.status===`aborted`||i.status===`aborted`)return H;(r.status===`dirty`||i.status===`dirty`)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}else{let e=new Map;for(let n of a){let r=n.key,i=n.value;if(r.status===`aborted`||i.status===`aborted`)return H;(r.status===`dirty`||i.status===`dirty`)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}};Qf.create=(e,t,n)=>new Qf({valueType:t,keyType:e,typeName:K.ZodMap,...W(n)});var $f=class e extends G{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==z.set)return V(n,{code:B.invalid_type,expected:z.set,received:n.parsedType}),H;let r=this._def;r.minSize!==null&&n.data.size<r.minSize.value&&(V(n,{code:B.too_small,minimum:r.minSize.value,type:`set`,inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&n.data.size>r.maxSize.value&&(V(n,{code:B.too_big,maximum:r.maxSize.value,type:`set`,inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let n=new Set;for(let r of e){if(r.status===`aborted`)return H;r.status===`dirty`&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}let o=[...n.data.values()].map((e,t)=>i._parse(new tf(n,e,n.path,t)));return n.common.async?Promise.all(o).then(e=>a(e)):a(o)}min(t,n){return new e({...this._def,minSize:{value:t,message:U.toString(n)}})}max(t,n){return new e({...this._def,maxSize:{value:t,message:U.toString(n)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};$f.create=(e,t)=>new $f({valueType:e,minSize:null,maxSize:null,typeName:K.ZodSet,...W(t)});var ep=class e extends G{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==z.function)return V(t,{code:B.invalid_type,expected:z.function,received:t.parsedType}),H;function n(e,n){return qd({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Kd(),Wd].filter(e=>!!e),issueData:{code:B.invalid_arguments,argumentsError:n}})}function r(e,n){return qd({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Kd(),Wd].filter(e=>!!e),issueData:{code:B.invalid_return_type,returnTypeError:n}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof op){let e=this;return Xd(async function(...t){let o=new Hd([]),s=await e._def.args.parseAsync(t,i).catch(e=>{throw o.addIssue(n(t,e)),o}),c=await Reflect.apply(a,this,s),l=await e._def.returns._def.type.parseAsync(c,i).catch(e=>{throw o.addIssue(r(c,e)),o});return l})}else{let e=this;return Xd(function(...t){let o=e._def.args.safeParse(t,i);if(!o.success)throw new Hd([n(t,o.error)]);let s=Reflect.apply(a,this,o.data),c=e._def.returns.safeParse(s,i);if(!c.success)throw new Hd([r(s,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Xf.create(t).rest(zf.create())})}returns(t){return new e({...this._def,returns:t})}implement(e){let t=this.parse(e);return t}strictImplement(e){let t=this.parse(e);return t}static create(t,n,r){return new e({args:t||Xf.create([]).rest(zf.create()),returns:n||zf.create(),typeName:K.ZodFunction,...W(r)})}},tp=class extends G{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.getter();return n._parse({data:t.data,path:t.path,parent:t})}};tp.create=(e,t)=>new tp({getter:e,typeName:K.ZodLazy,...W(t)});var np=class extends G{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return V(t,{received:t.data,code:B.invalid_literal,expected:this._def.value}),H}return{status:`valid`,value:e.data}}get value(){return this._def.value}};np.create=(e,t)=>new np({value:e,typeName:K.ZodLiteral,...W(t)});function rp(e,t){return new ip({values:e,typeName:K.ZodEnum,...W(t)})}var ip=class e extends G{_parse(e){if(typeof e.data!=`string`){let t=this._getOrReturnCtx(e),n=this._def.values;return V(t,{expected:R.joinValues(n),received:t.parsedType,code:B.invalid_type}),H}if(this._cache||=new Set(this._def.values),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return V(t,{received:t.data,code:B.invalid_enum_value,options:n}),H}return Xd(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(t,n=this._def){return e.create(t,{...this._def,...n})}exclude(t,n=this._def){return e.create(this.options.filter(e=>!t.includes(e)),{...this._def,...n})}};ip.create=rp;var ap=class extends G{_parse(e){let t=R.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==z.string&&n.parsedType!==z.number){let e=R.objectValues(t);return V(n,{expected:R.joinValues(e),received:n.parsedType,code:B.invalid_type}),H}if(this._cache||=new Set(R.getValidEnumValues(this._def.values)),!this._cache.has(e.data)){let e=R.objectValues(t);return V(n,{received:n.data,code:B.invalid_enum_value,options:e}),H}return Xd(e.data)}get enum(){return this._def.values}};ap.create=(e,t)=>new ap({values:e,typeName:K.ZodNativeEnum,...W(t)});var op=class extends G{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==z.promise&&t.common.async===!1)return V(t,{code:B.invalid_type,expected:z.promise,received:t.parsedType}),H;let n=t.parsedType===z.promise?t.data:Promise.resolve(t.data);return Xd(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}};op.create=(e,t)=>new op({type:e,typeName:K.ZodPromise,...W(t)});var sp=class extends G{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{V(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),r.type===`preprocess`){let e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then(async e=>{if(t.value===`aborted`)return H;let r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return r.status===`aborted`?H:r.status===`dirty`||t.value===`dirty`?Yd(r.value):r});{if(t.value===`aborted`)return H;let r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return r.status===`aborted`?H:r.status===`dirty`||t.value===`dirty`?Yd(r.value):r}}if(r.type===`refinement`){let e=e=>{let t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error(`Async refinement encountered during synchronous parse operation. Use .parseAsync instead.`);return e};if(n.common.async===!1){let r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return r.status===`aborted`?H:(r.status===`dirty`&&t.dirty(),e(r.value),{status:t.value,value:r.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>n.status===`aborted`?H:(n.status===`dirty`&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if(r.type===`transform`)if(n.common.async===!1){let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!$d(e))return H;let a=r.transform(e.value,i);if(a instanceof Promise)throw Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>$d(e)?Promise.resolve(r.transform(e.value,i)).then(e=>({status:t.value,value:e})):H);R.assertNever(r)}};sp.create=(e,t,n)=>new sp({schema:e,typeName:K.ZodEffects,effect:t,...W(n)}),sp.createWithPreprocess=(e,t,n)=>new sp({schema:t,effect:{type:`preprocess`,transform:e},typeName:K.ZodEffects,...W(n)});var cp=class extends G{_parse(e){let t=this._getType(e);return t===z.undefined?Xd(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};cp.create=(e,t)=>new cp({innerType:e,typeName:K.ZodOptional,...W(t)});var lp=class extends G{_parse(e){let t=this._getType(e);return t===z.null?Xd(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};lp.create=(e,t)=>new lp({innerType:e,typeName:K.ZodNullable,...W(t)});var up=class extends G{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===z.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};up.create=(e,t)=>new up({innerType:e,typeName:K.ZodDefault,defaultValue:typeof t.default==`function`?t.default:()=>t.default,...W(t)});var dp=class extends G{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ef(r)?r.then(e=>({status:`valid`,value:e.status===`valid`?e.value:this._def.catchValue({get error(){return new Hd(n.common.issues)},input:n.data})})):{status:`valid`,value:r.status===`valid`?r.value:this._def.catchValue({get error(){return new Hd(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};dp.create=(e,t)=>new dp({innerType:e,typeName:K.ZodCatch,catchValue:typeof t.catch==`function`?t.catch:()=>t.catch,...W(t)});var fp=class extends G{_parse(e){let t=this._getType(e);if(t!==z.nan){let t=this._getOrReturnCtx(e);return V(t,{code:B.invalid_type,expected:z.nan,received:t.parsedType}),H}return{status:`valid`,value:e.data}}};fp.create=e=>new fp({typeName:K.ZodNaN,...W(e)});const pp=Symbol(`zod_brand`);var mp=class extends G{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},hp=class e extends G{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){let e=async()=>{let e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return e.status===`aborted`?H:e.status===`dirty`?(t.dirty(),Yd(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})};return e()}else{let e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return e.status===`aborted`?H:e.status===`dirty`?(t.dirty(),{status:`dirty`,value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(t,n){return new e({in:t,out:n,typeName:K.ZodPipeline})}},gp=class extends G{_parse(e){let t=this._def.innerType._parse(e),n=e=>($d(e)&&(e.value=Object.freeze(e.value)),e);return ef(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}};gp.create=(e,t)=>new gp({innerType:e,typeName:K.ZodReadonly,...W(t)});function _p(e,t){let n=typeof e==`function`?e(t):typeof e==`string`?{message:e}:e,r=typeof n==`string`?{message:n}:n;return r}function vp(e,t={},n){return e?Rf.create().superRefine((r,i)=>{let a=e(r);if(a instanceof Promise)return a.then(e=>{if(!e){let e=_p(t,r),a=e.fatal??n??!0;i.addIssue({code:`custom`,...e,fatal:a})}});if(!a){let e=_p(t,r),a=e.fatal??n??!0;i.addIssue({code:`custom`,...e,fatal:a})}}):Rf.create()}const yp={object:Wf.lazycreate};var K;(function(e){e.ZodString=`ZodString`,e.ZodNumber=`ZodNumber`,e.ZodNaN=`ZodNaN`,e.ZodBigInt=`ZodBigInt`,e.ZodBoolean=`ZodBoolean`,e.ZodDate=`ZodDate`,e.ZodSymbol=`ZodSymbol`,e.ZodUndefined=`ZodUndefined`,e.ZodNull=`ZodNull`,e.ZodAny=`ZodAny`,e.ZodUnknown=`ZodUnknown`,e.ZodNever=`ZodNever`,e.ZodVoid=`ZodVoid`,e.ZodArray=`ZodArray`,e.ZodObject=`ZodObject`,e.ZodUnion=`ZodUnion`,e.ZodDiscriminatedUnion=`ZodDiscriminatedUnion`,e.ZodIntersection=`ZodIntersection`,e.ZodTuple=`ZodTuple`,e.ZodRecord=`ZodRecord`,e.ZodMap=`ZodMap`,e.ZodSet=`ZodSet`,e.ZodFunction=`ZodFunction`,e.ZodLazy=`ZodLazy`,e.ZodLiteral=`ZodLiteral`,e.ZodEnum=`ZodEnum`,e.ZodEffects=`ZodEffects`,e.ZodNativeEnum=`ZodNativeEnum`,e.ZodOptional=`ZodOptional`,e.ZodNullable=`ZodNullable`,e.ZodDefault=`ZodDefault`,e.ZodCatch=`ZodCatch`,e.ZodPromise=`ZodPromise`,e.ZodBranded=`ZodBranded`,e.ZodPipeline=`ZodPipeline`,e.ZodReadonly=`ZodReadonly`})(K||={});const bp=(e,t={message:`Input not instance of ${e.name}`})=>vp(t=>t instanceof e,t),q=kf.create,J=jf.create,xp=fp.create,Sp=Mf.create,Cp=Nf.create,wp=Pf.create,Tp=Ff.create,Ep=If.create,Dp=Lf.create,Op=Rf.create,kp=zf.create,Ap=Bf.create,jp=Vf.create,Mp=Hf.create,Y=Wf.create,Np=Wf.strictCreate,X=Gf.create,Pp=qf.create,Fp=Yf.create,Ip=Xf.create,Lp=Zf.create,Rp=Qf.create,zp=$f.create,Bp=ep.create,Vp=tp.create,Z=np.create,Hp=ip.create,Up=ap.create,Wp=op.create,Gp=sp.create,Kp=cp.create,qp=lp.create,Jp=sp.createWithPreprocess,Yp=hp.create;function Xp(e){if(e.target!==`openAi`)return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy===`relative`?zd(t,e.currentPath):t.join(`/`)}}function Zp(e,t){var n,r;let i={type:`array`};return(n=e.type)?._def&&((r=e.type)==null||(r=r._def)==null?void 0:r.typeName)!==K.ZodAny&&(i.items=Q(e.type._def,{...t,currentPath:[...t.currentPath,`items`]})),e.minLength&&L(i,`minItems`,e.minLength.value,e.minLength.message,t),e.maxLength&&L(i,`maxItems`,e.maxLength.value,e.maxLength.message,t),e.exactLength&&(L(i,`minItems`,e.exactLength.value,e.exactLength.message,t),L(i,`maxItems`,e.exactLength.value,e.exactLength.message,t)),i}function Qp(e,t){let n={type:`integer`,format:`int64`};if(!e.checks)return n;for(let r of e.checks)switch(r.kind){case`min`:t.target===`jsonSchema7`?r.inclusive?L(n,`minimum`,r.value,r.message,t):L(n,`exclusiveMinimum`,r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),L(n,`minimum`,r.value,r.message,t));break;case`max`:t.target===`jsonSchema7`?r.inclusive?L(n,`maximum`,r.value,r.message,t):L(n,`exclusiveMaximum`,r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),L(n,`maximum`,r.value,r.message,t));break;case`multipleOf`:L(n,`multipleOf`,r.value,r.message,t);break}return n}function $p(){return{type:`boolean`}}function em(e,t){return Q(e.type._def,t)}const tm=(e,t)=>Q(e.innerType._def,t);function nm(e,t,n){let r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((n,r)=>nm(e,t,n))};switch(r){case`string`:case`format:date-time`:return{type:`string`,format:`date-time`};case`format:date`:return{type:`string`,format:`date`};case`integer`:return rm(e,t)}}const rm=(e,t)=>{let n={type:`integer`,format:`unix-time`};if(t.target===`openApi3`)return n;for(let r of e.checks)switch(r.kind){case`min`:L(n,`minimum`,r.value,r.message,t);break;case`max`:L(n,`maximum`,r.value,r.message,t);break}return n};function im(e,t){return{...Q(e.innerType._def,t),default:e.defaultValue()}}function am(e,t){return t.effectStrategy===`input`?Q(e.schema._def,t):Xp(t)}function om(e){return{type:`string`,enum:Array.from(e.values)}}const sm=e=>`type`in e&&e.type===`string`?!1:`allOf`in e;function cm(e,t){let n=[Q(e.left._def,{...t,currentPath:[...t.currentPath,`allOf`,`0`]}),Q(e.right._def,{...t,currentPath:[...t.currentPath,`allOf`,`1`]})].filter(e=>!!e),r=t.target===`jsonSchema2019-09`?{unevaluatedProperties:!1}:void 0,i=[];return n.forEach(e=>{if(sm(e))i.push(...e.allOf),e.unevaluatedProperties===void 0&&(r=void 0);else{let t=e;if(`additionalProperties`in e&&e.additionalProperties===!1){let{additionalProperties:n,...r}=e;t=r}else r=void 0;i.push(t)}}),i.length?{allOf:i,...r}:void 0}function lm(e,t){let n=typeof e.value;return n!==`bigint`&&n!==`number`&&n!==`boolean`&&n!==`string`?{type:Array.isArray(e.value)?`array`:`object`}:t.target===`openApi3`?{type:n===`bigint`?`integer`:n,enum:[e.value]}:{type:n===`bigint`?`integer`:n,const:e.value}}let um;const dm={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(um===void 0&&(um=RegExp(`^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`,`u`)),um),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function fm(e,t){let n={type:`string`};if(e.checks)for(let r of e.checks)switch(r.kind){case`min`:L(n,`minLength`,typeof n.minLength==`number`?Math.max(n.minLength,r.value):r.value,r.message,t);break;case`max`:L(n,`maxLength`,typeof n.maxLength==`number`?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case`email`:switch(t.emailStrategy){case`format:email`:gm(n,`email`,r.message,t);break;case`format:idn-email`:gm(n,`idn-email`,r.message,t);break;case`pattern:zod`:_m(n,dm.email,r.message,t);break}break;case`url`:gm(n,`uri`,r.message,t);break;case`uuid`:gm(n,`uuid`,r.message,t);break;case`regex`:_m(n,r.regex,r.message,t);break;case`cuid`:_m(n,dm.cuid,r.message,t);break;case`cuid2`:_m(n,dm.cuid2,r.message,t);break;case`startsWith`:_m(n,RegExp(`^${pm(r.value,t)}`),r.message,t);break;case`endsWith`:_m(n,RegExp(`${pm(r.value,t)}$`),r.message,t);break;case`datetime`:gm(n,`date-time`,r.message,t);break;case`date`:gm(n,`date`,r.message,t);break;case`time`:gm(n,`time`,r.message,t);break;case`duration`:gm(n,`duration`,r.message,t);break;case`length`:L(n,`minLength`,typeof n.minLength==`number`?Math.max(n.minLength,r.value):r.value,r.message,t),L(n,`maxLength`,typeof n.maxLength==`number`?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case`includes`:_m(n,RegExp(pm(r.value,t)),r.message,t);break;case`ip`:r.version!==`v6`&&gm(n,`ipv4`,r.message,t),r.version!==`v4`&&gm(n,`ipv6`,r.message,t);break;case`base64url`:_m(n,dm.base64url,r.message,t);break;case`jwt`:_m(n,dm.jwt,r.message,t);break;case`cidr`:r.version!==`v6`&&_m(n,dm.ipv4Cidr,r.message,t),r.version!==`v4`&&_m(n,dm.ipv6Cidr,r.message,t);break;case`emoji`:_m(n,dm.emoji(),r.message,t);break;case`ulid`:_m(n,dm.ulid,r.message,t);break;case`base64`:switch(t.base64Strategy){case`format:binary`:gm(n,`binary`,r.message,t);break;case`contentEncoding:base64`:L(n,`contentEncoding`,`base64`,r.message,t);break;case`pattern:zod`:_m(n,dm.base64,r.message,t);break}break;case`nanoid`:_m(n,dm.nanoid,r.message,t);case`toLowerCase`:case`toUpperCase`:case`trim`:break;default:(e=>{})(r)}return n}function pm(e,t){return t.patternStrategy===`escape`?hm(e):e}const mm=new Set(`ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789`);function hm(e){let t=``;for(let n=0;n<e.length;n++)mm.has(e[n])||(t+=`\\`),t+=e[n];return t}function gm(e,t,n,r){var i;e.format||(i=e.anyOf)?.some(e=>e.format)?(e.anyOf||=[],e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):L(e,`format`,t,n,r)}function _m(e,t,n,r){var i;e.pattern||(i=e.allOf)?.some(e=>e.pattern)?(e.allOf||=[],e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:vm(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):L(e,`pattern`,vm(t,r),n,r)}function vm(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes(`i`),m:e.flags.includes(`m`),s:e.flags.includes(`s`)},r=n.i?e.source.toLowerCase():e.source,i=``,a=!1,o=!1,s=!1;for(let e=0;e<r.length;e++){if(a){i+=r[e],a=!1;continue}if(n.i){if(o){if(r[e].match(/[a-z]/)){var c;s?(i+=r[e],i+=`${r[e-2]}-${r[e]}`.toUpperCase(),s=!1):r[e+1]===`-`&&(c=r[e+2])?.match(/[a-z]/)?(i+=r[e],s=!0):i+=`${r[e]}${r[e].toUpperCase()}`;continue}}else if(r[e].match(/[a-z]/)){i+=`[${r[e]}${r[e].toUpperCase()}]`;continue}}if(n.m){if(r[e]===`^`){i+=`(^|(?<=[\r
]))`;continue}else if(r[e]===`$`){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[e]===`.`){i+=o?`${r[e]}\r\n`:`[${r[e]}\r\n]`;continue}i+=r[e],r[e]===`\\`?a=!0:o&&r[e]===`]`?o=!1:!o&&r[e]===`[`&&(o=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join(`/`)} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function ym(e,t){var n,r,i,a,o,s;if(t.target===`openAi`&&console.warn(`Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead.`),t.target===`openApi3`&&(n=e.keyType)?._def.typeName===K.ZodEnum)return{type:`object`,required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,r)=>({...n,[r]:Q(e.valueType._def,{...t,currentPath:[...t.currentPath,`properties`,r]})??Xp(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let c={type:`object`,additionalProperties:Q(e.valueType._def,{...t,currentPath:[...t.currentPath,`additionalProperties`]})??t.allowedAdditionalProperties};if(t.target===`openApi3`)return c;if((r=e.keyType)?._def.typeName===K.ZodString&&(i=e.keyType._def.checks)?.length){let{type:n,...r}=fm(e.keyType._def,t);return{...c,propertyNames:r}}else if((a=e.keyType)?._def.typeName===K.ZodEnum)return{...c,propertyNames:{enum:e.keyType._def.values}};else if((o=e.keyType)?._def.typeName===K.ZodBranded&&e.keyType._def.type._def.typeName===K.ZodString&&(s=e.keyType._def.type._def.checks)?.length){let{type:n,...r}=em(e.keyType._def,t);return{...c,propertyNames:r}}return c}function bm(e,t){if(t.mapStrategy===`record`)return ym(e,t);let n=Q(e.keyType._def,{...t,currentPath:[...t.currentPath,`items`,`items`,`0`]})||Xp(t),r=Q(e.valueType._def,{...t,currentPath:[...t.currentPath,`items`,`items`,`1`]})||Xp(t);return{type:`array`,maxItems:125,items:{type:`array`,items:[n,r],minItems:2,maxItems:2}}}function xm(e){let t=e.values,n=Object.keys(e.values).filter(e=>typeof t[t[e]]!=`number`),r=n.map(e=>t[e]),i=Array.from(new Set(r.map(e=>typeof e)));return{type:i.length===1?i[0]===`string`?`string`:`number`:[`string`,`number`],enum:r}}function Sm(e){return e.target===`openAi`?void 0:{not:Xp({...e,currentPath:[...e.currentPath,`not`]})}}function Cm(e){return e.target===`openApi3`?{enum:[`null`],nullable:!0}:{type:`null`}}const wm={ZodString:`string`,ZodNumber:`number`,ZodBigInt:`integer`,ZodBoolean:`boolean`,ZodNull:`null`};function Tm(e,t){if(t.target===`openApi3`)return Em(e,t);let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in wm&&(!e._def.checks||!e._def.checks.length))){let e=n.reduce((e,t)=>{let n=wm[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}else if(n.every(e=>e._def.typeName===`ZodLiteral`&&!e.description)){let e=n.reduce((e,t)=>{let n=typeof t._def.value;switch(n){case`string`:case`number`:case`boolean`:return[...e,n];case`bigint`:return[...e,`integer`];case`object`:if(t._def.value===null)return[...e,`null`];case`symbol`:case`undefined`:case`function`:default:return e}},[]);if(e.length===n.length){let t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>e._def.typeName===`ZodEnum`))return{type:`string`,enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return Em(e,t)}const Em=(e,t)=>{let n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,n)=>Q(e._def,{...t,currentPath:[...t.currentPath,`anyOf`,`${n}`]})).filter(e=>!!e&&(!t.strictUnions||typeof e==`object`&&Object.keys(e).length>0));return n.length?{anyOf:n}:void 0};function Dm(e,t){if([`ZodString`,`ZodNumber`,`ZodBigInt`,`ZodBoolean`,`ZodNull`].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target===`openApi3`?{type:wm[e.innerType._def.typeName],nullable:!0}:{type:[wm[e.innerType._def.typeName],`null`]};if(t.target===`openApi3`){let n=Q(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&`$ref`in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let n=Q(e.innerType._def,{...t,currentPath:[...t.currentPath,`anyOf`,`0`]});return n&&{anyOf:[n,{type:`null`}]}}function Om(e,t){let n={type:`number`};if(!e.checks)return n;for(let r of e.checks)switch(r.kind){case`int`:n.type=`integer`,Rd(n,`type`,r.message,t);break;case`min`:t.target===`jsonSchema7`?r.inclusive?L(n,`minimum`,r.value,r.message,t):L(n,`exclusiveMinimum`,r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),L(n,`minimum`,r.value,r.message,t));break;case`max`:t.target===`jsonSchema7`?r.inclusive?L(n,`maximum`,r.value,r.message,t):L(n,`exclusiveMaximum`,r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),L(n,`maximum`,r.value,r.message,t));break;case`multipleOf`:L(n,`multipleOf`,r.value,r.message,t);break}return n}function km(e,t){let n=t.target===`openAi`,r={type:`object`,properties:{}},i=[],a=e.shape();for(let e in a){let o=a[e];if(o===void 0||o._def===void 0)continue;let s=jm(o);s&&n&&(o._def.typeName===`ZodOptional`&&(o=o._def.innerType),o.isNullable()||(o=o.nullable()),s=!1);let c=Q(o._def,{...t,currentPath:[...t.currentPath,`properties`,e],propertyPath:[...t.currentPath,`properties`,e]});if(c===void 0)continue;r.properties[e]=c,s||i.push(e)}i.length&&(r.required=i);let o=Am(e,t);return o!==void 0&&(r.additionalProperties=o),r}function Am(e,t){if(e.catchall._def.typeName!==`ZodNever`)return Q(e.catchall._def,{...t,currentPath:[...t.currentPath,`additionalProperties`]});switch(e.unknownKeys){case`passthrough`:return t.allowedAdditionalProperties;case`strict`:return t.rejectedAdditionalProperties;case`strip`:return t.removeAdditionalStrategy===`strict`?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function jm(e){try{return e.isOptional()}catch{return!0}}const Mm=(e,t)=>{var n;if(t.currentPath.toString()===(n=t.propertyPath)?.toString())return Q(e.innerType._def,t);let r=Q(e.innerType._def,{...t,currentPath:[...t.currentPath,`anyOf`,`1`]});return r?{anyOf:[{not:Xp(t)},r]}:Xp(t)},Nm=(e,t)=>{if(t.pipeStrategy===`input`)return Q(e.in._def,t);if(t.pipeStrategy===`output`)return Q(e.out._def,t);let n=Q(e.in._def,{...t,currentPath:[...t.currentPath,`allOf`,`0`]}),r=Q(e.out._def,{...t,currentPath:[...t.currentPath,`allOf`,n?`1`:`0`]});return{allOf:[n,r].filter(e=>e!==void 0)}};function Pm(e,t){return Q(e.type._def,t)}function Fm(e,t){let n=Q(e.valueType._def,{...t,currentPath:[...t.currentPath,`items`]}),r={type:`array`,uniqueItems:!0,items:n};return e.minSize&&L(r,`minItems`,e.minSize.value,e.minSize.message,t),e.maxSize&&L(r,`maxItems`,e.maxSize.value,e.maxSize.message,t),r}function Im(e,t){return e.rest?{type:`array`,minItems:e.items.length,items:e.items.map((e,n)=>Q(e._def,{...t,currentPath:[...t.currentPath,`items`,`${n}`]})).reduce((e,t)=>t===void 0?e:[...e,t],[]),additionalItems:Q(e.rest._def,{...t,currentPath:[...t.currentPath,`additionalItems`]})}:{type:`array`,minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,n)=>Q(e._def,{...t,currentPath:[...t.currentPath,`items`,`${n}`]})).reduce((e,t)=>t===void 0?e:[...e,t],[])}}function Lm(e){return{not:Xp(e)}}function Rm(e){return Xp(e)}const zm=(e,t)=>Q(e.innerType._def,t),Bm=(e,t,n)=>{switch(t){case K.ZodString:return fm(e,n);case K.ZodNumber:return Om(e,n);case K.ZodObject:return km(e,n);case K.ZodBigInt:return Qp(e,n);case K.ZodBoolean:return $p();case K.ZodDate:return nm(e,n);case K.ZodUndefined:return Lm(n);case K.ZodNull:return Cm(n);case K.ZodArray:return Zp(e,n);case K.ZodUnion:case K.ZodDiscriminatedUnion:return Tm(e,n);case K.ZodIntersection:return cm(e,n);case K.ZodTuple:return Im(e,n);case K.ZodRecord:return ym(e,n);case K.ZodLiteral:return lm(e,n);case K.ZodEnum:return om(e);case K.ZodNativeEnum:return xm(e);case K.ZodNullable:return Dm(e,n);case K.ZodOptional:return Mm(e,n);case K.ZodMap:return bm(e,n);case K.ZodSet:return Fm(e,n);case K.ZodLazy:return()=>e.getter()._def;case K.ZodPromise:return Pm(e,n);case K.ZodNaN:case K.ZodNever:return Sm(n);case K.ZodEffects:return am(e,n);case K.ZodAny:return Xp(n);case K.ZodUnknown:return Rm(n);case K.ZodDefault:return im(e,n);case K.ZodBranded:return em(e,n);case K.ZodReadonly:return zm(e,n);case K.ZodCatch:return tm(e,n);case K.ZodPipeline:return Nm(e,n);case K.ZodFunction:case K.ZodVoid:case K.ZodSymbol:return;default:return(e=>void 0)(t)}};function Q(e,t,n=!1){let r=t.seen.get(e);if(t.override){var i;let a=(i=t.override)?.call(t,e,t,r,n);if(a!==Pd)return a}if(r&&!n){let e=Vm(r,t);if(e!==void 0)return e}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let o=Bm(e,e.typeName,t),s=typeof o==`function`?Q(o(),t):o;if(s&&Hm(e,t,s),t.postProcess){let n=t.postProcess(s,e,t);return a.jsonSchema=s,n}return a.jsonSchema=s,s}const Vm=(e,t)=>{switch(t.$refStrategy){case`root`:return{$ref:e.path.join(`/`)};case`relative`:return{$ref:zd(t.currentPath,e.path)};case`none`:case`seen`:return e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e)?(console.warn(`Recursive reference detected at ${t.currentPath.join(`/`)}! Defaulting to any`),Xp(t)):t.$refStrategy===`seen`?Xp(t):void 0}},Hm=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),Um=(e,t)=>{let n=Ld(t),r=typeof t==`object`&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>({...e,[t]:Q(r._def,{...n,currentPath:[...n.basePath,n.definitionPath,t]},!0)??Xp(n)}),{}):void 0,i=typeof t==`string`?t:t?.nameStrategy===`title`?void 0:t?.name,a=Q(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1)??Xp(n),o=typeof t==`object`&&t.name!==void 0&&t.nameStrategy===`title`?t.name:void 0;o!==void 0&&(a.title=o),n.flags.hasReferencedOpenAiAnyType&&(r||={},r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:[`string`,`number`,`integer`,`boolean`,`array`,`null`],items:{$ref:n.$refStrategy===`relative`?`1`:[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join(`/`)}}));let s=i===void 0?r?{...a,[n.definitionPath]:r}:a:{$ref:[...n.$refStrategy===`relative`?[]:n.basePath,n.definitionPath,i].join(`/`),[n.definitionPath]:{...r,[i]:a}};return n.target===`jsonSchema7`?s.$schema=`http://json-schema.org/draft-07/schema#`:(n.target===`jsonSchema2019-09`||n.target===`openAi`)&&(s.$schema=`https://json-schema.org/draft/2019-09/schema#`),n.target===`openAi`&&(`anyOf`in s||`oneOf`in s||`allOf`in s||`type`in s&&Array.isArray(s.type))&&console.warn(`Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property.`),s};var Wm=Um,Gm={code:`0`,name:`text`,parse:e=>{if(typeof e!=`string`)throw Error(`"text" parts expect a string value.`);return{type:`text`,value:e}}},Km={code:`3`,name:`error`,parse:e=>{if(typeof e!=`string`)throw Error(`"error" parts expect a string value.`);return{type:`error`,value:e}}},qm={code:`4`,name:`assistant_message`,parse:e=>{if(typeof e!=`object`||!e||!(`id`in e)||!(`role`in e)||!(`content`in e)||typeof e.id!=`string`||typeof e.role!=`string`||e.role!==`assistant`||!Array.isArray(e.content)||!e.content.every(e=>typeof e==`object`&&!!e&&`type`in e&&e.type===`text`&&`text`in e&&e.text!=null&&typeof e.text==`object`&&`value`in e.text&&typeof e.text.value==`string`))throw Error(`"assistant_message" parts expect an object with an "id", "role", and "content" property.`);return{type:`assistant_message`,value:e}}},Jm={code:`5`,name:`assistant_control_data`,parse:e=>{if(typeof e!=`object`||!e||!(`threadId`in e)||!(`messageId`in e)||typeof e.threadId!=`string`||typeof e.messageId!=`string`)throw Error(`"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.`);return{type:`assistant_control_data`,value:{threadId:e.threadId,messageId:e.messageId}}}},Ym={code:`6`,name:`data_message`,parse:e=>{if(typeof e!=`object`||!e||!(`role`in e)||!(`data`in e)||typeof e.role!=`string`||e.role!==`data`)throw Error(`"data_message" parts expect an object with a "role" and "data" property.`);return{type:`data_message`,value:e}}},Xm=[Gm,Km,qm,Jm,Ym],Zm={[Gm.code]:Gm,[Km.code]:Km,[qm.code]:qm,[Jm.code]:Jm,[Ym.code]:Ym},Qm={[Gm.name]:Gm.code,[Km.name]:Km.code,[qm.name]:qm.code,[Jm.name]:Jm.code,[Ym.name]:Ym.code},$m=Xm.map(e=>e.code);function eh(e){let t=[`ROOT`],n=-1,r=null;function i(e,i,a){switch(e){case`"`:n=i,t.pop(),t.push(a),t.push(`INSIDE_STRING`);break;case`f`:case`t`:case`n`:n=i,r=i,t.pop(),t.push(a),t.push(`INSIDE_LITERAL`);break;case`-`:t.pop(),t.push(a),t.push(`INSIDE_NUMBER`);break;case`0`:case`1`:case`2`:case`3`:case`4`:case`5`:case`6`:case`7`:case`8`:case`9`:n=i,t.pop(),t.push(a),t.push(`INSIDE_NUMBER`);break;case`{`:n=i,t.pop(),t.push(a),t.push(`INSIDE_OBJECT_START`);break;case`[`:n=i,t.pop(),t.push(a),t.push(`INSIDE_ARRAY_START`);break}}function a(e,r){switch(e){case`,`:t.pop(),t.push(`INSIDE_OBJECT_AFTER_COMMA`);break;case`}`:n=r,t.pop();break}}function o(e,r){switch(e){case`,`:t.pop(),t.push(`INSIDE_ARRAY_AFTER_COMMA`);break;case`]`:n=r,t.pop();break}}for(let s=0;s<e.length;s++){let c=e[s],l=t[t.length-1];switch(l){case`ROOT`:i(c,s,`FINISH`);break;case`INSIDE_OBJECT_START`:switch(c){case`"`:t.pop(),t.push(`INSIDE_OBJECT_KEY`);break;case`}`:n=s,t.pop();break}break;case`INSIDE_OBJECT_AFTER_COMMA`:switch(c){case`"`:t.pop(),t.push(`INSIDE_OBJECT_KEY`);break}break;case`INSIDE_OBJECT_KEY`:switch(c){case`"`:t.pop(),t.push(`INSIDE_OBJECT_AFTER_KEY`);break}break;case`INSIDE_OBJECT_AFTER_KEY`:switch(c){case`:`:t.pop(),t.push(`INSIDE_OBJECT_BEFORE_VALUE`);break}break;case`INSIDE_OBJECT_BEFORE_VALUE`:i(c,s,`INSIDE_OBJECT_AFTER_VALUE`);break;case`INSIDE_OBJECT_AFTER_VALUE`:a(c,s);break;case`INSIDE_STRING`:switch(c){case`"`:t.pop(),n=s;break;case`\\`:t.push(`INSIDE_STRING_ESCAPE`);break;default:n=s}break;case`INSIDE_ARRAY_START`:switch(c){case`]`:n=s,t.pop();break;default:n=s,i(c,s,`INSIDE_ARRAY_AFTER_VALUE`);break}break;case`INSIDE_ARRAY_AFTER_VALUE`:switch(c){case`,`:t.pop(),t.push(`INSIDE_ARRAY_AFTER_COMMA`);break;case`]`:n=s,t.pop();break;default:n=s;break}break;case`INSIDE_ARRAY_AFTER_COMMA`:i(c,s,`INSIDE_ARRAY_AFTER_VALUE`);break;case`INSIDE_STRING_ESCAPE`:t.pop(),n=s;break;case`INSIDE_NUMBER`:switch(c){case`0`:case`1`:case`2`:case`3`:case`4`:case`5`:case`6`:case`7`:case`8`:case`9`:n=s;break;case`e`:case`E`:case`-`:case`.`:break;case`,`:t.pop(),t[t.length-1]===`INSIDE_ARRAY_AFTER_VALUE`&&o(c,s),t[t.length-1]===`INSIDE_OBJECT_AFTER_VALUE`&&a(c,s);break;case`}`:t.pop(),t[t.length-1]===`INSIDE_OBJECT_AFTER_VALUE`&&a(c,s);break;case`]`:t.pop(),t[t.length-1]===`INSIDE_ARRAY_AFTER_VALUE`&&o(c,s);break;default:t.pop();break}break;case`INSIDE_LITERAL`:{let i=e.substring(r,s+1);!`false`.startsWith(i)&&!`true`.startsWith(i)&&!`null`.startsWith(i)?(t.pop(),t[t.length-1]===`INSIDE_OBJECT_AFTER_VALUE`?a(c,s):t[t.length-1]===`INSIDE_ARRAY_AFTER_VALUE`&&o(c,s)):n=s;break}}}let s=e.slice(0,n+1);for(let n=t.length-1;n>=0;n--){let i=t[n];switch(i){case`INSIDE_STRING`:s+=`"`;break;case`INSIDE_OBJECT_KEY`:case`INSIDE_OBJECT_AFTER_KEY`:case`INSIDE_OBJECT_AFTER_COMMA`:case`INSIDE_OBJECT_START`:case`INSIDE_OBJECT_BEFORE_VALUE`:case`INSIDE_OBJECT_AFTER_VALUE`:s+=`}`;break;case`INSIDE_ARRAY_START`:case`INSIDE_ARRAY_AFTER_COMMA`:case`INSIDE_ARRAY_AFTER_VALUE`:s+=`]`;break;case`INSIDE_LITERAL`:{let t=e.substring(r,e.length);`true`.startsWith(t)?s+=`true`.slice(t.length):`false`.startsWith(t)?s+=`false`.slice(t.length):`null`.startsWith(t)&&(s+=`null`.slice(t.length))}}}return s}function th(e){if(e===void 0)return{value:void 0,state:`undefined-input`};let t=yd({text:e});return t.success?{value:t.value,state:`successful-parse`}:(t=yd({text:eh(e)}),t.success?{value:t.value,state:`repaired-parse`}:{value:void 0,state:`failed-parse`})}var nh={code:`0`,name:`text`,parse:e=>{if(typeof e!=`string`)throw Error(`"text" parts expect a string value.`);return{type:`text`,value:e}}},rh={code:`2`,name:`data`,parse:e=>{if(!Array.isArray(e))throw Error(`"data" parts expect an array value.`);return{type:`data`,value:e}}},ih={code:`3`,name:`error`,parse:e=>{if(typeof e!=`string`)throw Error(`"error" parts expect a string value.`);return{type:`error`,value:e}}},ah={code:`8`,name:`message_annotations`,parse:e=>{if(!Array.isArray(e))throw Error(`"message_annotations" parts expect an array value.`);return{type:`message_annotations`,value:e}}},oh={code:`9`,name:`tool_call`,parse:e=>{if(typeof e!=`object`||!e||!(`toolCallId`in e)||typeof e.toolCallId!=`string`||!(`toolName`in e)||typeof e.toolName!=`string`||!(`args`in e)||typeof e.args!=`object`)throw Error(`"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.`);return{type:`tool_call`,value:e}}},sh={code:`a`,name:`tool_result`,parse:e=>{if(typeof e!=`object`||!e||!(`toolCallId`in e)||typeof e.toolCallId!=`string`||!(`result`in e))throw Error(`"tool_result" parts expect an object with a "toolCallId" and a "result" property.`);return{type:`tool_result`,value:e}}},ch={code:`b`,name:`tool_call_streaming_start`,parse:e=>{if(typeof e!=`object`||!e||!(`toolCallId`in e)||typeof e.toolCallId!=`string`||!(`toolName`in e)||typeof e.toolName!=`string`)throw Error(`"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.`);return{type:`tool_call_streaming_start`,value:e}}},lh={code:`c`,name:`tool_call_delta`,parse:e=>{if(typeof e!=`object`||!e||!(`toolCallId`in e)||typeof e.toolCallId!=`string`||!(`argsTextDelta`in e)||typeof e.argsTextDelta!=`string`)throw Error(`"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.`);return{type:`tool_call_delta`,value:e}}},uh={code:`d`,name:`finish_message`,parse:e=>{if(typeof e!=`object`||!e||!(`finishReason`in e)||typeof e.finishReason!=`string`)throw Error(`"finish_message" parts expect an object with a "finishReason" property.`);let t={finishReason:e.finishReason};return`usage`in e&&e.usage!=null&&typeof e.usage==`object`&&`promptTokens`in e.usage&&`completionTokens`in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens==`number`?e.usage.promptTokens:NaN,completionTokens:typeof e.usage.completionTokens==`number`?e.usage.completionTokens:NaN}),{type:`finish_message`,value:t}}},dh={code:`e`,name:`finish_step`,parse:e=>{if(typeof e!=`object`||!e||!(`finishReason`in e)||typeof e.finishReason!=`string`)throw Error(`"finish_step" parts expect an object with a "finishReason" property.`);let t={finishReason:e.finishReason,isContinued:!1};return`usage`in e&&e.usage!=null&&typeof e.usage==`object`&&`promptTokens`in e.usage&&`completionTokens`in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens==`number`?e.usage.promptTokens:NaN,completionTokens:typeof e.usage.completionTokens==`number`?e.usage.completionTokens:NaN}),`isContinued`in e&&typeof e.isContinued==`boolean`&&(t.isContinued=e.isContinued),{type:`finish_step`,value:t}}},fh={code:`f`,name:`start_step`,parse:e=>{if(typeof e!=`object`||!e||!(`messageId`in e)||typeof e.messageId!=`string`)throw Error(`"start_step" parts expect an object with an "id" property.`);return{type:`start_step`,value:{messageId:e.messageId}}}},ph={code:`g`,name:`reasoning`,parse:e=>{if(typeof e!=`string`)throw Error(`"reasoning" parts expect a string value.`);return{type:`reasoning`,value:e}}},mh={code:`h`,name:`source`,parse:e=>{if(typeof e!=`object`||!e)throw Error(`"source" parts expect a Source object.`);return{type:`source`,value:e}}},hh={code:`i`,name:`redacted_reasoning`,parse:e=>{if(typeof e!=`object`||!e||!(`data`in e)||typeof e.data!=`string`)throw Error(`"redacted_reasoning" parts expect an object with a "data" property.`);return{type:`redacted_reasoning`,value:{data:e.data}}}},gh={code:`j`,name:`reasoning_signature`,parse:e=>{if(typeof e!=`object`||!e||!(`signature`in e)||typeof e.signature!=`string`)throw Error(`"reasoning_signature" parts expect an object with a "signature" property.`);return{type:`reasoning_signature`,value:{signature:e.signature}}}},_h={code:`k`,name:`file`,parse:e=>{if(typeof e!=`object`||!e||!(`data`in e)||typeof e.data!=`string`||!(`mimeType`in e)||typeof e.mimeType!=`string`)throw Error(`"file" parts expect an object with a "data" and "mimeType" property.`);return{type:`file`,value:e}}},vh=[nh,rh,ih,ah,oh,sh,ch,lh,uh,dh,fh,ph,mh,hh,gh,_h],yh=Object.fromEntries(vh.map(e=>[e.code,e])),bh=Object.fromEntries(vh.map(e=>[e.name,e.code])),xh=vh.map(e=>e.code);function Sh(e,t){let n=vh.find(t=>t.name===e);if(!n)throw Error(`Invalid stream part type: ${e}`);return`${n.code}:${JSON.stringify(t)}
`}var Ch=10,wh=10;function Th(e,t){var n;let r=(n=t?.useReferences)??!1;return Dh(Wm(e,{$refStrategy:r?`root`:`none`,target:`jsonSchema7`}),{validate:t=>{let n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}var Eh=Symbol.for(`vercel.ai.schema`);function Dh(e,{validate:t}={}){return{[Eh]:!0,_type:void 0,[dd]:!0,jsonSchema:e,validate:t}}function Oh(e){return typeof e==`object`&&!!e&&Eh in e&&e[Eh]===!0&&`jsonSchema`in e&&`validate`in e}function kh(e){return Oh(e)?e:Th(e)}var Ah=typeof globalThis==`object`?globalThis:typeof self==`object`?self:typeof window==`object`?window:typeof global==`object`?global:{},jh=`1.9.0`,Mh=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Nh(e){var t=new Set([e]),n=new Set,r=e.match(Mh);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(t){return t===e};function a(e){return n.add(e),!1}function o(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(Mh);if(!r)return a(e);var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};return s.prerelease!=null||i.major!==s.major?a(e):i.major===0?i.minor===s.minor&&i.patch<=s.patch?o(e):a(e):i.minor<=s.minor?o(e):a(e)}}var Ph=Nh(jh),Fh=jh.split(`.`)[0],Ih=Symbol.for(`opentelemetry.js.api.`+Fh),Lh=Ah;function Rh(e,t,n,r){var i;r===void 0&&(r=!1);var a=Lh[Ih]=(i=Lh[Ih])??{version:jh};if(!r&&a[e]){var o=Error(`@opentelemetry/api: Attempted duplicate registration of API: `+e);return n.error(o.stack||o.message),!1}if(a.version!==jh){var o=Error(`@opentelemetry/api: Registration of version v`+a.version+` for `+e+` does not match previously registered API v`+jh);return n.error(o.stack||o.message),!1}return a[e]=t,n.debug(`@opentelemetry/api: Registered a global for `+e+` v`+jh+`.`),!0}function zh(e){var t,n,r=(t=Lh[Ih])?.version;if(!(!r||!Ph(r)))return(n=Lh[Ih])?.[e]}function Bh(e,t){t.debug(`@opentelemetry/api: Unregistering a global for `+e+` v`+jh+`.`);var n=Lh[Ih];n&&delete n[e]}var Vh=function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Hh=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Uh=function(){function e(e){this._namespace=e.namespace||`DiagComponentLogger`}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wh(`debug`,this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wh(`error`,this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wh(`info`,this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wh(`warn`,this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wh(`verbose`,this._namespace,e)},e}();function Wh(e,t,n){var r=zh(`diag`);if(r)return n.unshift(t),r[e].apply(r,Hh([],Vh(n),!1))}var Gh;(function(e){e[e.NONE=0]=`NONE`,e[e.ERROR=30]=`ERROR`,e[e.WARN=50]=`WARN`,e[e.INFO=60]=`INFO`,e[e.DEBUG=70]=`DEBUG`,e[e.VERBOSE=80]=`VERBOSE`,e[e.ALL=9999]=`ALL`})(Gh||={});function Kh(e,t){e<Gh.NONE?e=Gh.NONE:e>Gh.ALL&&(e=Gh.ALL),t||={};function n(n,r){var i=t[n];return typeof i==`function`&&e>=r?i.bind(t):function(){}}return{error:n(`error`,Gh.ERROR),warn:n(`warn`,Gh.WARN),info:n(`info`,Gh.INFO),debug:n(`debug`,Gh.DEBUG),verbose:n(`verbose`,Gh.VERBOSE)}}var qh=function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Jh=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Yh=`diag`,Xh=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=zh(`diag`);if(r)return r[e].apply(r,Jh([],qh(t),!1))}}var t=this,n=function(e,n){var r,i,a;if(n===void 0&&(n={logLevel:Gh.INFO}),e===t){var o=Error(`Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation`);return t.error((r=o.stack)??o.message),!1}typeof n==`number`&&(n={logLevel:n});var s=zh(`diag`),c=Kh((i=n.logLevel)??Gh.INFO,e);if(s&&!n.suppressOverrideMessage){var l=(a=Error().stack)??`<failed to generate stacktrace>`;s.warn(`Current logger will be overwritten from `+l),c.warn(`Current logger will overwrite one already registered from `+l)}return Rh(`diag`,c,t,!0)};t.setLogger=n,t.disable=function(){Bh(Yh,t)},t.createComponentLogger=function(e){return new Uh(e)},t.verbose=e(`verbose`),t.debug=e(`debug`),t.info=e(`info`),t.warn=e(`warn`),t.error=e(`error`)}return e.instance=function(){return this._instance||=new e,this._instance},e}();function Zh(e){return Symbol.for(e)}var Qh=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}return e}(),$h=new Qh,eg=function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},tg=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},ng=function(){function e(){}return e.prototype.active=function(){return $h},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t.call.apply(t,tg([n],eg(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),rg=function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},ig=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},ag=`context`,og=new ng,sg=function(){function e(){}return e.getInstance=function(){return this._instance||=new e,this._instance},e.prototype.setGlobalContextManager=function(e){return Rh(ag,e,Xh.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return(r=this._getContextManager()).with.apply(r,ig([e,t,n],rg(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return zh(ag)||og},e.prototype.disable=function(){this._getContextManager().disable(),Bh(ag,Xh.instance())},e}(),cg;(function(e){e[e.NONE=0]=`NONE`,e[e.SAMPLED=1]=`SAMPLED`})(cg||={});var lg=`0000000000000000`,ug=`00000000000000000000000000000000`,dg={traceId:ug,spanId:lg,traceFlags:cg.NONE},fg=function(){function e(e){e===void 0&&(e=dg),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),pg=Zh(`OpenTelemetry Context Key SPAN`);function mg(e){return e.getValue(pg)||void 0}function hg(){return mg(sg.getInstance().active())}function gg(e,t){return e.setValue(pg,t)}function _g(e){return e.deleteValue(pg)}function vg(e,t){return gg(e,new fg(t))}function yg(e){var t;return(t=mg(e))?.spanContext()}var bg=/^([0-9a-f]{32})$/i,xg=/^[0-9a-f]{16}$/i;function Sg(e){return bg.test(e)&&e!==ug}function Cg(e){return xg.test(e)&&e!==lg}function wg(e){return Sg(e.traceId)&&Cg(e.spanId)}function Tg(e){return new fg(e)}var Eg=sg.getInstance(),Dg=function(){function e(){}return e.prototype.startSpan=function(e,t,n){n===void 0&&(n=Eg.active());var r=!!t?.root;if(r)return new fg;var i=n&&yg(n);return Og(i)&&wg(i)?new fg(i):new fg},e.prototype.startActiveSpan=function(e,t,n,r){var i,a,o;if(!(arguments.length<2)){arguments.length===2?o=t:arguments.length===3?(i=t,o=n):(i=t,a=n,o=r);var s=a??Eg.active(),c=this.startSpan(e,i,s),l=gg(s,c);return Eg.with(l,o,void 0,c)}},e}();function Og(e){return typeof e==`object`&&typeof e.spanId==`string`&&typeof e.traceId==`string`&&typeof e.traceFlags==`number`}var kg=new Dg,Ag=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):kg},e}(),jg=function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new Dg},e}(),Mg=new jg,Ng=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return(r=this.getDelegateTracer(e,t,n))??new Ag(this,e,t,n)},e.prototype.getDelegate=function(){var e;return(e=this._delegate)??Mg},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return(r=this._delegate)?.getTracer(e,t,n)},e}(),Pg;(function(e){e[e.UNSET=0]=`UNSET`,e[e.OK=1]=`OK`,e[e.ERROR=2]=`ERROR`})(Pg||={});var Fg=`trace`,Ig=function(){function e(){this._proxyTracerProvider=new Ng,this.wrapSpanContext=Tg,this.isSpanContextValid=wg,this.deleteSpan=_g,this.getSpan=mg,this.getActiveSpan=hg,this.getSpanContext=yg,this.setSpan=gg,this.setSpanContext=vg}return e.getInstance=function(){return this._instance||=new e,this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=Rh(Fg,this._proxyTracerProvider,Xh.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return zh(Fg)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){Bh(Fg,Xh.instance()),this._proxyTracerProvider=new Ng},e}(),Lg=Ig.getInstance(),Rg=Object.defineProperty,zg=(e,t)=>{for(var n in t)Rg(e,n,{get:t[n],enumerable:!0})};function Bg(e,{contentType:t,dataStreamVersion:n}){let r=new Headers(e??{});return r.has(`Content-Type`)||r.set(`Content-Type`,t),n!==void 0&&r.set(`X-Vercel-AI-Data-Stream`,n),r}function Vg(e,{contentType:t,dataStreamVersion:n}){let r={};if(e!=null)for(let[t,n]of Object.entries(e))r[t]=n;return r[`Content-Type`]??=t,n!==void 0&&(r[`X-Vercel-AI-Data-Stream`]=n),r}function Hg({response:e,status:t,statusText:n,headers:r,stream:i}){e.writeHead(t??200,n,r);let a=i.getReader(),o=async()=>{try{for(;;){let{done:t,value:n}=await a.read();if(t)break;e.write(n)}}catch(e){throw e}finally{e.end()}};o()}var Ug=`AI_InvalidArgumentError`,Wg=`vercel.ai.error.${Ug}`,Gg=Symbol.for(Wg),Kg,qg=class extends I{constructor({parameter:e,value:t,message:n}){super({name:Ug,message:`Invalid argument for parameter ${e}: ${n}`}),this[Kg]=!0,this.parameter=e,this.value=t}static isInstance(e){return I.hasMarker(e,Wg)}};Kg=Gg;var Jg=`AI_RetryError`,Yg=`vercel.ai.error.${Jg}`,Xg=Symbol.for(Yg),Zg,Qg=class extends I{constructor({message:e,reason:t,errors:n}){super({name:Jg,message:e}),this[Zg]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return I.hasMarker(e,Yg)}};Zg=Xg;var $g=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async r=>e_(r,{maxRetries:e,delayInMs:t,backoffFactor:n});async function e_(e,{maxRetries:t,delayInMs:n,backoffFactor:r},i=[]){try{return await e()}catch(a){if(ld(a)||t===0)throw a;let o=sd(a),s=[...i,a],c=s.length;if(c>t)throw new Qg({message:`Failed after ${c} attempts. Last error: ${o}`,reason:`maxRetriesExceeded`,errors:s});if(a instanceof Error&&Wl.isInstance(a)&&a.isRetryable===!0&&c<=t)return await td(n),e_(e,{maxRetries:t,delayInMs:r*n,backoffFactor:r},s);throw c===1?a:new Qg({message:`Failed after ${c} attempts with non-retryable error: '${o}'`,reason:`errorNotRetryable`,errors:s})}}function t_({maxRetries:e}){if(e!=null){if(!Number.isInteger(e))throw new qg({parameter:`maxRetries`,value:e,message:`maxRetries must be an integer`});if(e<0)throw new qg({parameter:`maxRetries`,value:e,message:`maxRetries must be >= 0`})}let t=e??2;return{maxRetries:t,retry:$g({maxRetries:t})}}function n_({operationId:e,telemetry:t}){return{"operation.name":`${e}${t?.functionId==null?``:` ${t.functionId}`}`,"resource.name":t?.functionId,"ai.operationId":e,"ai.telemetry.functionId":t?.functionId}}function r_({model:e,settings:t,telemetry:n,headers:r}){var i;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((e,[t,n])=>(e[`ai.settings.${t}`]=n,e),{}),...Object.entries((i=n?.metadata)??{}).reduce((e,[t,n])=>(e[`ai.telemetry.metadata.${t}`]=n,e),{}),...Object.entries(r??{}).reduce((e,[t,n])=>(n!==void 0&&(e[`ai.request.headers.${t}`]=n),e),{})}}var i_={startSpan(){return a_},startActiveSpan(e,t,n,r){if(typeof t==`function`)return t(a_);if(typeof n==`function`)return n(a_);if(typeof r==`function`)return r(a_)}},a_={spanContext(){return o_},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},o_={traceId:``,spanId:``,traceFlags:0};function s_({isEnabled:e=!1,tracer:t}={}){return e?t||Lg.getTracer(`ai`):i_}function c_({name:e,tracer:t,attributes:n,fn:r,endWhenDone:i=!0}){return t.startActiveSpan(e,{attributes:n},async e=>{try{let t=await r(e);return i&&e.end(),t}catch(t){try{t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:Pg.ERROR,message:t.message})):e.setStatus({code:Pg.ERROR})}finally{e.end()}throw t}})}function l_({telemetry:e,attributes:t}){return e?.isEnabled===!0?Object.entries(t).reduce((t,[n,r])=>{if(r===void 0)return t;if(typeof r==`object`&&`input`in r&&typeof r.input==`function`){if(e?.recordInputs===!1)return t;let i=r.input();return i===void 0?t:{...t,[n]:i}}if(typeof r==`object`&&`output`in r&&typeof r.output==`function`){if(e?.recordOutputs===!1)return t;let i=r.output();return i===void 0?t:{...t,[n]:i}}return{...t,[n]:r}},{}):{}}var u_=`AI_NoImageGeneratedError`,d_=`vercel.ai.error.${u_}`,f_=Symbol.for(d_),p_;p_=f_;var m_=class{constructor({data:e,mimeType:t}){let n=e instanceof Uint8Array;this.base64Data=n?void 0:e,this.uint8ArrayData=n?e:void 0,this.mimeType=t}get base64(){return this.base64Data??=Md(this.uint8ArrayData),this.base64Data}get uint8Array(){return this.uint8ArrayData??=jd(this.base64Data),this.uint8ArrayData}},h_=class extends m_{constructor(e){super(e),this.type=`file`}},g_=[{mimeType:`image/gif`,bytesPrefix:[71,73,70],base64Prefix:`R0lG`},{mimeType:`image/png`,bytesPrefix:[137,80,78,71],base64Prefix:`iVBORw`},{mimeType:`image/jpeg`,bytesPrefix:[255,216],base64Prefix:`/9j/`},{mimeType:`image/webp`,bytesPrefix:[82,73,70,70],base64Prefix:`UklGRg`},{mimeType:`image/bmp`,bytesPrefix:[66,77],base64Prefix:`Qk`},{mimeType:`image/tiff`,bytesPrefix:[73,73,42,0],base64Prefix:`SUkqAA`},{mimeType:`image/tiff`,bytesPrefix:[77,77,0,42],base64Prefix:`TU0AKg`},{mimeType:`image/avif`,bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102],base64Prefix:`AAAAIGZ0eXBhdmlm`},{mimeType:`image/heic`,bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99],base64Prefix:`AAAAIGZ0eXBoZWlj`}],__=e=>{let t=typeof e==`string`?jd(e):e,n=(t[6]&127)<<21|(t[7]&127)<<14|(t[8]&127)<<7|t[9]&127;return t.slice(n+10)};function v_(e){let t=typeof e==`string`&&e.startsWith(`SUQz`)||typeof e!=`string`&&e.length>10&&e[0]===73&&e[1]===68&&e[2]===51;return t?__(e):e}function y_({data:e,signatures:t}){let n=v_(e);for(let e of t)if(typeof n==`string`?n.startsWith(e.base64Prefix):n.length>=e.bytesPrefix.length&&e.bytesPrefix.every((e,t)=>n[t]===e))return e.mimeType}var b_=`AI_NoObjectGeneratedError`,x_=`vercel.ai.error.${b_}`,S_=Symbol.for(x_),C_,w_=class extends I{constructor({message:e=`No object generated.`,cause:t,text:n,response:r,usage:i,finishReason:a}){super({name:b_,message:e,cause:t}),this[C_]=!0,this.text=n,this.response=r,this.usage=i,this.finishReason=a}static isInstance(e){return I.hasMarker(e,x_)}};C_=S_;var T_=`AI_DownloadError`,E_=`vercel.ai.error.${T_}`,D_=Symbol.for(E_),O_,k_=class extends I{constructor({url:e,statusCode:t,statusText:n,cause:r,message:i=r==null?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${r}`}){super({name:T_,message:i,cause:r}),this[O_]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return I.hasMarker(e,E_)}};O_=D_;async function A_({url:e}){var t;let n=e.toString();try{let e=await fetch(n);if(!e.ok)throw new k_({url:n,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mimeType:(t=e.headers.get(`content-type`))??void 0}}catch(e){throw k_.isInstance(e)?e:new k_({url:n,cause:e})}}var j_=`AI_InvalidDataContentError`,M_=`vercel.ai.error.${j_}`,N_=Symbol.for(M_),P_,F_=class extends I{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:j_,message:n,cause:t}),this[P_]=!0,this.content=e}static isInstance(e){return I.hasMarker(e,M_)}};P_=N_;var I_=X([q(),bp(Uint8Array),bp(ArrayBuffer),vp(e=>{var t,n;return(n=(t=globalThis.Buffer)?.isBuffer(e))??!1},{message:`Must be a Buffer`})]);function L_(e){return typeof e==`string`?e:e instanceof ArrayBuffer?Md(new Uint8Array(e)):Md(e)}function R_(e){if(e instanceof Uint8Array)return e;if(typeof e==`string`)try{return jd(e)}catch(t){throw new F_({message:`Invalid data content. Content string is not a base64-encoded media.`,content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new F_({content:e})}function z_(e){try{return new TextDecoder().decode(e)}catch{throw Error(`Error decoding Uint8Array to text`)}}var B_=`AI_InvalidMessageRoleError`,V_=`vercel.ai.error.${B_}`,H_=Symbol.for(V_),U_,W_=class extends I{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:B_,message:t}),this[U_]=!0,this.role=e}static isInstance(e){return I.hasMarker(e,V_)}};U_=H_;function G_(e){try{let[t,n]=e.split(`,`);return{mimeType:t.split(`;`)[0].split(`:`)[1],base64Content:n}}catch{return{mimeType:void 0,base64Content:void 0}}}async function K_({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:r=A_}){let i=await J_(e.messages,r,t,n);return[...e.system==null?[]:[{role:`system`,content:e.system}],...e.messages.map(e=>q_(e,i))]}function q_(e,t){var n,r,i,a,o,s;let c=e.role;switch(c){case`system`:return{role:`system`,content:e.content,providerMetadata:(n=e.providerOptions)??e.experimental_providerMetadata};case`user`:return typeof e.content==`string`?{role:`user`,content:[{type:`text`,text:e.content}],providerMetadata:(r=e.providerOptions)??e.experimental_providerMetadata}:{role:`user`,content:e.content.map(e=>Y_(e,t)).filter(e=>e.type!==`text`||e.text!==``),providerMetadata:(i=e.providerOptions)??e.experimental_providerMetadata};case`assistant`:return typeof e.content==`string`?{role:`assistant`,content:[{type:`text`,text:e.content}],providerMetadata:(a=e.providerOptions)??e.experimental_providerMetadata}:{role:`assistant`,content:e.content.filter(e=>e.type!==`text`||e.text!==``).map(e=>{var t;let n=(t=e.providerOptions)??e.experimental_providerMetadata;switch(e.type){case`file`:return{type:`file`,data:e.data instanceof URL?e.data:L_(e.data),filename:e.filename,mimeType:e.mimeType,providerMetadata:n};case`reasoning`:return{type:`reasoning`,text:e.text,signature:e.signature,providerMetadata:n};case`redacted-reasoning`:return{type:`redacted-reasoning`,data:e.data,providerMetadata:n};case`text`:return{type:`text`,text:e.text,providerMetadata:n};case`tool-call`:return{type:`tool-call`,toolCallId:e.toolCallId,toolName:e.toolName,args:e.args,providerMetadata:n}}}),providerMetadata:(o=e.providerOptions)??e.experimental_providerMetadata};case`tool`:return{role:`tool`,content:e.content.map(e=>{var t;return{type:`tool-result`,toolCallId:e.toolCallId,toolName:e.toolName,result:e.result,content:e.experimental_content,isError:e.isError,providerMetadata:(t=e.providerOptions)??e.experimental_providerMetadata}}),providerMetadata:(s=e.providerOptions)??e.experimental_providerMetadata};default:{let e=c;throw new W_({role:e})}}}async function J_(e,t,n,r){let i=e.filter(e=>e.role===`user`).map(e=>e.content).filter(e=>Array.isArray(e)).flat().filter(e=>e.type===`image`||e.type===`file`).filter(e=>!(e.type===`image`&&n===!0)).map(e=>e.type===`image`?e.image:e.data).map(e=>typeof e==`string`&&(e.startsWith(`http:`)||e.startsWith(`https:`))?new URL(e):e).filter(e=>e instanceof URL).filter(e=>!r(e)),a=await Promise.all(i.map(async e=>({url:e,data:await t({url:e})})));return Object.fromEntries(a.map(({url:e,data:t})=>[e.toString(),t]))}function Y_(e,t){var n,r,i,a;if(e.type===`text`)return{type:`text`,text:e.text,providerMetadata:(n=e.providerOptions)??e.experimental_providerMetadata};let o=e.mimeType,s,c,l,u=e.type;switch(u){case`image`:s=e.image;break;case`file`:s=e.data;break;default:throw Error(`Unsupported part type: ${u}`)}try{c=typeof s==`string`?new URL(s):s}catch{c=s}if(c instanceof URL)if(c.protocol===`data:`){let{mimeType:e,base64Content:t}=G_(c.toString());if(e==null||t==null)throw Error(`Invalid data URL format in part ${u}`);o=e,l=R_(t)}else{let e=t[c.toString()];e?(l=e.data,o??=e.mimeType):l=c}else l=R_(c);switch(u){case`image`:return l instanceof Uint8Array&&(o=(r=y_({data:l,signatures:g_}))??o),{type:`image`,image:l,mimeType:o,providerMetadata:(i=e.providerOptions)??e.experimental_providerMetadata};case`file`:if(o==null)throw Error(`Mime type is missing for file part`);return{type:`file`,data:l instanceof Uint8Array?L_(l):l,filename:e.filename,mimeType:o,providerMetadata:(a=e.providerOptions)??e.experimental_providerMetadata}}}function X_({maxTokens:e,temperature:t,topP:n,topK:r,presencePenalty:i,frequencyPenalty:a,stopSequences:o,seed:s}){if(e!=null){if(!Number.isInteger(e))throw new qg({parameter:`maxTokens`,value:e,message:`maxTokens must be an integer`});if(e<1)throw new qg({parameter:`maxTokens`,value:e,message:`maxTokens must be >= 1`})}if(t!=null&&typeof t!=`number`)throw new qg({parameter:`temperature`,value:t,message:`temperature must be a number`});if(n!=null&&typeof n!=`number`)throw new qg({parameter:`topP`,value:n,message:`topP must be a number`});if(r!=null&&typeof r!=`number`)throw new qg({parameter:`topK`,value:r,message:`topK must be a number`});if(i!=null&&typeof i!=`number`)throw new qg({parameter:`presencePenalty`,value:i,message:`presencePenalty must be a number`});if(a!=null&&typeof a!=`number`)throw new qg({parameter:`frequencyPenalty`,value:a,message:`frequencyPenalty must be a number`});if(s!=null&&!Number.isInteger(s))throw new qg({parameter:`seed`,value:s,message:`seed must be an integer`});return{maxTokens:e,temperature:t??0,topP:n,topK:r,presencePenalty:i,frequencyPenalty:a,stopSequences:o!=null&&o.length>0?o:void 0,seed:s}}function Z_(e){var t,n,r;let i=[];for(let a of e){let e;try{e=new URL(a.url)}catch{throw Error(`Invalid URL: ${a.url}`)}switch(e.protocol){case`http:`:case`https:`:if((t=a.contentType)?.startsWith(`image/`))i.push({type:`image`,image:e});else{if(!a.contentType)throw Error(`If the attachment is not an image, it must specify a content type`);i.push({type:`file`,data:e,mimeType:a.contentType})}break;case`data:`:{let e,t,o;try{[e,t]=a.url.split(`,`),o=e.split(`;`)[0].split(`:`)[1]}catch{throw Error(`Error processing data URL: ${a.url}`)}if(o==null||t==null)throw Error(`Invalid data URL format: ${a.url}`);if((n=a.contentType)?.startsWith(`image/`))i.push({type:`image`,image:R_(t)});else if((r=a.contentType)?.startsWith(`text/`))i.push({type:`text`,text:z_(R_(t))});else{if(!a.contentType)throw Error(`If the attachment is not an image or text, it must specify a content type`);i.push({type:`file`,data:t,mimeType:a.contentType})}break}default:throw Error(`Unsupported URL protocol: ${e.protocol}`)}}return i}var Q_=`AI_MessageConversionError`,$_=`vercel.ai.error.${Q_}`,ev=Symbol.for($_),tv,nv=class extends I{constructor({originalMessage:e,message:t}){super({name:Q_,message:t}),this[tv]=!0,this.originalMessage=e}static isInstance(e){return I.hasMarker(e,$_)}};tv=ev;function rv(e,t){var n,r;let i=(n=t?.tools)??{},a=[];for(let t=0;t<e.length;t++){let n=e[t],s=t===e.length-1,{role:c,content:l,experimental_attachments:u}=n;switch(c){case`system`:a.push({role:`system`,content:l});break;case`user`:if(n.parts==null)a.push({role:`user`,content:u?[{type:`text`,text:l},...Z_(u)]:l});else{let e=n.parts.filter(e=>e.type===`text`).map(e=>({type:`text`,text:e.text}));a.push({role:`user`,content:u?[...e,...Z_(u)]:e})}break;case`assistant`:{if(n.parts!=null){let e=function(){let e=[];for(let t of c)switch(t.type){case`file`:case`text`:e.push(t);break;case`reasoning`:for(let n of t.details)switch(n.type){case`text`:e.push({type:`reasoning`,text:n.text,signature:n.signature});break;case`redacted`:e.push({type:`redacted-reasoning`,data:n.data});break}break;case`tool-invocation`:e.push({type:`tool-call`,toolCallId:t.toolInvocation.toolCallId,toolName:t.toolInvocation.toolName,args:t.toolInvocation.args});break;default:{let e=t;throw Error(`Unsupported part: ${e}`)}}a.push({role:`assistant`,content:e});let r=c.filter(e=>e.type===`tool-invocation`).map(e=>e.toolInvocation);r.length>0&&a.push({role:`tool`,content:r.map(e=>{if(!(`result`in e))throw new nv({originalMessage:n,message:`ToolInvocation must have a result: `+JSON.stringify(e)});let{toolCallId:t,toolName:r,result:a}=e,o=i[r];return o?.experimental_toToolResultContent==null?{type:`tool-result`,toolCallId:t,toolName:r,result:a}:{type:`tool-result`,toolCallId:t,toolName:r,result:o.experimental_toToolResultContent(a),experimental_content:o.experimental_toToolResultContent(a)}})}),c=[],s=!1,t++};var o=e;let t=0,s=!1,c=[];for(let i of n.parts)switch(i.type){case`text`:s&&e(),c.push(i);break;case`file`:case`reasoning`:c.push(i);break;case`tool-invocation`:((r=i.toolInvocation.step)??0)!==t&&e(),c.push(i),s=!0;break}e();break}let e=n.toolInvocations;if(e==null||e.length===0){a.push({role:`assistant`,content:l});break}let t=e.reduce((e,t)=>{var n;return Math.max(e,(n=t.step)??0)},0);for(let r=0;r<=t;r++){let t=e.filter(e=>{var t;return((t=e.step)??0)===r});t.length!==0&&(a.push({role:`assistant`,content:[...s&&l&&r===0?[{type:`text`,text:l}]:[],...t.map(({toolCallId:e,toolName:t,args:n})=>({type:`tool-call`,toolCallId:e,toolName:t,args:n}))]}),a.push({role:`tool`,content:t.map(e=>{if(!(`result`in e))throw new nv({originalMessage:n,message:`ToolInvocation must have a result: `+JSON.stringify(e)});let{toolCallId:t,toolName:r,result:a}=e,o=i[r];return o?.experimental_toToolResultContent==null?{type:`tool-result`,toolCallId:t,toolName:r,result:a}:{type:`tool-result`,toolCallId:t,toolName:r,result:o.experimental_toToolResultContent(a),experimental_content:o.experimental_toToolResultContent(a)}})}))}l&&!s&&a.push({role:`assistant`,content:l});break}case`data`:break;default:{let e=c;throw new nv({originalMessage:n,message:`Unsupported role: ${e}`})}}}return a}var iv=Vp(()=>X([Dp(),q(),J(),Cp(),Lp(q(),iv),Mp(iv)])),$=Lp(q(),Lp(q(),iv)),av=Mp(X([Y({type:Z(`text`),text:q()}),Y({type:Z(`image`),data:q(),mimeType:q().optional()})])),ov=Y({type:Z(`text`),text:q(),providerOptions:$.optional(),experimental_providerMetadata:$.optional()}),sv=Y({type:Z(`image`),image:X([I_,bp(URL)]),mimeType:q().optional(),providerOptions:$.optional(),experimental_providerMetadata:$.optional()}),cv=Y({type:Z(`file`),data:X([I_,bp(URL)]),filename:q().optional(),mimeType:q(),providerOptions:$.optional(),experimental_providerMetadata:$.optional()}),lv=Y({type:Z(`reasoning`),text:q(),providerOptions:$.optional(),experimental_providerMetadata:$.optional()}),uv=Y({type:Z(`redacted-reasoning`),data:q(),providerOptions:$.optional(),experimental_providerMetadata:$.optional()}),dv=Y({type:Z(`tool-call`),toolCallId:q(),toolName:q(),args:kp(),providerOptions:$.optional(),experimental_providerMetadata:$.optional()}),fv=Y({type:Z(`tool-result`),toolCallId:q(),toolName:q(),result:kp(),content:av.optional(),isError:Cp().optional(),providerOptions:$.optional(),experimental_providerMetadata:$.optional()}),pv=Y({role:Z(`system`),content:q(),providerOptions:$.optional(),experimental_providerMetadata:$.optional()}),mv=Y({role:Z(`user`),content:X([q(),Mp(X([ov,sv,cv]))]),providerOptions:$.optional(),experimental_providerMetadata:$.optional()}),hv=Y({role:Z(`assistant`),content:X([q(),Mp(X([ov,cv,lv,uv,dv]))]),providerOptions:$.optional(),experimental_providerMetadata:$.optional()}),gv=Y({role:Z(`tool`),content:Mp(fv),providerOptions:$.optional(),experimental_providerMetadata:$.optional()}),_v=X([pv,mv,hv,gv]);function vv({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new ou({prompt:e,message:`prompt or messages must be defined`});if(e.prompt!=null&&e.messages!=null)throw new ou({prompt:e,message:`prompt and messages cannot be defined at the same time`});if(e.system!=null&&typeof e.system!=`string`)throw new ou({prompt:e,message:`system must be a string`});if(e.prompt!=null){if(typeof e.prompt!=`string`)throw new ou({prompt:e,message:`prompt must be a string`});return{type:`prompt`,system:e.system,messages:[{role:`user`,content:e.prompt}]}}if(e.messages!=null){let n=yv(e.messages),r=n===`ui-messages`?rv(e.messages,{tools:t}):e.messages;if(r.length===0)throw new ou({prompt:e,message:`messages must not be empty`});let i=_d({value:r,schema:Mp(_v)});if(!i.success)throw new ou({prompt:e,message:[`message must be a CoreMessage or a UI message`,`Validation error: ${i.error.message}`].join(`
`),cause:i.error});return{type:`messages`,messages:r,system:e.system}}throw Error(`unreachable`)}function yv(e){if(!Array.isArray(e))throw new ou({prompt:e,message:[`messages must be an array of CoreMessage or UIMessage`,`Received non-array value: ${JSON.stringify(e)}`].join(`
`),cause:e});if(e.length===0)return`messages`;let t=e.map(bv);if(t.some(e=>e===`has-ui-specific-parts`))return`ui-messages`;let n=t.findIndex(e=>e!==`has-core-specific-parts`&&e!==`message`);if(n===-1)return`messages`;throw new ou({prompt:e,message:[`messages must be an array of CoreMessage or UIMessage`,`Received message of type: "${t[n]}" at index ${n}`,`messages[${n}]: ${JSON.stringify(e[n])}`].join(`
`),cause:e})}function bv(e){return typeof e==`object`&&e&&(e.role===`function`||e.role===`data`||`toolInvocations`in e||`parts`in e||`experimental_attachments`in e)?`has-ui-specific-parts`:typeof e==`object`&&e&&`content`in e&&(Array.isArray(e.content)||`experimental_providerMetadata`in e||`providerOptions`in e)?`has-core-specific-parts`:typeof e==`object`&&e&&`role`in e&&`content`in e&&typeof e.content==`string`&&[`system`,`user`,`assistant`,`tool`].includes(e.role)?`message`:`other`}function xv({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function Sv(e,t){return{promptTokens:e.promptTokens+t.promptTokens,completionTokens:e.completionTokens+t.completionTokens,totalTokens:e.totalTokens+t.totalTokens}}var Cv=`JSON schema:`,wv=`You MUST answer with a JSON object that matches the JSON schema above.`,Tv=`You MUST answer with JSON.`;function Ev({prompt:e,schema:t,schemaPrefix:n=t==null?void 0:Cv,schemaSuffix:r=t==null?Tv:wv}){return[e!=null&&e.length>0?e:void 0,e!=null&&e.length>0?``:void 0,n,t==null?void 0:JSON.stringify(t),r].filter(e=>e!=null).join(`
`)}function Dv(e){let t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{let e=t.getReader();return{async next(){let{done:t,value:n}=await e.read();return t?{done:!0,value:void 0}:{done:!1,value:n}}}},t}function Ov(e){let t=e.map(e=>({...e,content:typeof e.content==`string`?e.content:e.content.map(kv)}));return JSON.stringify(t)}function kv(e){return e.type===`image`?{...e,image:e.image instanceof Uint8Array?L_(e.image):e.image}:e}var Av=ad({prefix:`aiobj`,size:24}),jv=class{constructor(){this.status={type:`pending`},this._resolve=void 0,this._reject=void 0}get value(){return this.promise||=new Promise((e,t)=>{this.status.type===`resolved`?e(this.status.value):this.status.type===`rejected`&&t(this.status.error),this._resolve=e,this._reject=t}),this.promise}resolve(e){var t;this.status={type:`resolved`,value:e},this.promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:`rejected`,error:e},this.promise&&((t=this._reject)==null||t.call(this,e))}};function Mv(){let e,t,n=new Promise((n,r)=>{e=n,t=r});return{promise:n,resolve:e,reject:t}}function Nv(){let e=[],t=null,n=!1,r=Mv(),i=async()=>{if(n&&e.length===0){t?.close();return}if(e.length===0)return r=Mv(),await r.promise,i();try{let{value:r,done:a}=await e[0].read();a?(e.shift(),e.length>0?await i():n&&t?.close()):t?.enqueue(r)}catch(r){t?.error(r),e.shift(),n&&e.length===0&&t?.close()}};return{stream:new ReadableStream({start(e){t=e},pull:i,async cancel(){for(let t of e)await t.cancel();e=[],n=!0}}),addStream:t=>{if(n)throw Error(`Cannot add inner stream: outer stream is closed`);e.push(t.getReader()),r.resolve()},close:()=>{n=!0,r.resolve(),e.length===0&&t?.close()},terminate:()=>{n=!0,r.resolve(),e.forEach(e=>e.cancel()),e=[],t?.close()}}}function Pv(){var e,t;return(t=(e=globalThis==null?void 0:globalThis.performance)?.now())??Date.now()}var Fv=ad({prefix:`aiobj`,size:24}),Iv=`AI_NoOutputSpecifiedError`,Lv=`vercel.ai.error.${Iv}`,Rv=Symbol.for(Lv),zv,Bv=class extends I{constructor({message:e=`No output specified.`}={}){super({name:Iv,message:e}),this[zv]=!0}static isInstance(e){return I.hasMarker(e,Lv)}};zv=Rv;var Vv=`AI_ToolExecutionError`,Hv=`vercel.ai.error.${Vv}`,Uv=Symbol.for(Hv),Wv,Gv=class extends I{constructor({toolArgs:e,toolName:t,toolCallId:n,cause:r,message:i=`Error executing tool ${t}: ${Xl(r)}`}){super({name:Vv,message:i,cause:r}),this[Wv]=!0,this.toolArgs=e,this.toolName=t,this.toolCallId=n}static isInstance(e){return I.hasMarker(e,Hv)}};Wv=Uv;function Kv(e){return e!=null&&Object.keys(e).length>0}function qv({tools:e,toolChoice:t,activeTools:n}){if(!Kv(e))return{tools:void 0,toolChoice:void 0};let r=n==null?Object.entries(e):Object.entries(e).filter(([e])=>n.includes(e));return{tools:r.map(([e,t])=>{let n=t.type;switch(n){case void 0:case`function`:return{type:`function`,name:e,description:t.description,parameters:kh(t.parameters).jsonSchema};case`provider-defined`:return{type:`provider-defined`,name:e,id:t.id,args:t.args};default:{let e=n;throw Error(`Unsupported tool type: ${e}`)}}}),toolChoice:t==null?{type:`auto`}:typeof t==`string`?{type:t}:{type:`tool`,toolName:t.toolName}}}var Jv=/^([\s\S]*?)(\s+)(\S*)$/;function Yv(e){let t=e.match(Jv);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}var Xv=`AI_InvalidToolArgumentsError`,Zv=`vercel.ai.error.${Xv}`,Qv=Symbol.for(Zv),$v,ey=class extends I{constructor({toolArgs:e,toolName:t,cause:n,message:r=`Invalid arguments for tool ${t}: ${Xl(n)}`}){super({name:Xv,message:r,cause:n}),this[$v]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return I.hasMarker(e,Zv)}};$v=Qv;var ty=`AI_NoSuchToolError`,ny=`vercel.ai.error.${ty}`,ry=Symbol.for(ny),iy,ay=class extends I{constructor({toolName:e,availableTools:t=void 0,message:n=`Model tried to call unavailable tool '${e}'. ${t===void 0?`No tools are available.`:`Available tools: ${t.join(`, `)}.`}`}){super({name:ty,message:n}),this[iy]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return I.hasMarker(e,ny)}};iy=ry;var oy=`AI_ToolCallRepairError`,sy=`vercel.ai.error.${oy}`,cy=Symbol.for(sy),ly,uy=class extends I{constructor({cause:e,originalError:t,message:n=`Error repairing tool call: ${Xl(e)}`}){super({name:oy,message:n,cause:e}),this[ly]=!0,this.originalError=t}static isInstance(e){return I.hasMarker(e,sy)}};ly=cy;async function dy({toolCall:e,tools:t,repairToolCall:n,system:r,messages:i}){if(t==null)throw new ay({toolName:e.toolName});try{return await fy({toolCall:e,tools:t})}catch(a){if(n==null||!(ay.isInstance(a)||ey.isInstance(a)))throw a;let o=null;try{o=await n({toolCall:e,tools:t,parameterSchema:({toolName:e})=>kh(t[e].parameters).jsonSchema,system:r,messages:i,error:a})}catch(e){throw new uy({cause:e,originalError:a})}if(o==null)throw a;return await fy({toolCall:o,tools:t})}}async function fy({toolCall:e,tools:t}){let n=e.toolName,r=t[n];if(r==null)throw new ay({toolName:e.toolName,availableTools:Object.keys(t)});let i=kh(r.parameters),a=e.args.trim()===``?_d({value:{},schema:i}):yd({text:e.args,schema:i});if(a.success===!1)throw new ey({toolName:n,toolArgs:e.args,cause:a.error});return{type:`tool-call`,toolCallId:e.toolCallId,toolName:n,args:a.value}}function py(e){let t=e.filter(e=>e.type===`text`).map(e=>e.text).join(``);return t.length>0?t:void 0}function my({text:e=``,files:t,reasoning:n,tools:r,toolCalls:i,toolResults:a,messageId:o,generateMessageId:s}){let c=[],l=[];return n.length>0&&l.push(...n.map(e=>e.type===`text`?{...e,type:`reasoning`}:{...e,type:`redacted-reasoning`})),t.length>0&&l.push(...t.map(e=>({type:`file`,data:e.base64,mimeType:e.mimeType}))),e.length>0&&l.push({type:`text`,text:e}),i.length>0&&l.push(...i),l.length>0&&c.push({role:`assistant`,content:l,id:o}),a.length>0&&c.push({role:`tool`,id:s(),content:a.map(e=>{let t=r[e.toolName];return t?.experimental_toToolResultContent==null?{type:`tool-result`,toolCallId:e.toolCallId,toolName:e.toolName,result:e.result}:{type:`tool-result`,toolCallId:e.toolCallId,toolName:e.toolName,result:t.experimental_toToolResultContent(e.result),experimental_content:t.experimental_toToolResultContent(e.result)}})}),c}var hy=ad({prefix:`aitxt`,size:24}),gy=ad({prefix:`msg`,size:24}),_y={};zg(_y,{object:()=>Oy,text:()=>Dy});var vy=`AI_InvalidStreamPartError`,yy=`vercel.ai.error.${vy}`,by=Symbol.for(yy),xy,Sy=class extends I{constructor({chunk:e,message:t}){super({name:vy,message:t}),this[xy]=!0,this.chunk=e}static isInstance(e){return I.hasMarker(e,yy)}};xy=by;var Cy=`AI_MCPClientError`,wy=`vercel.ai.error.${Cy}`,Ty=Symbol.for(wy),Ey;Ey=Ty;var Dy=()=>({type:`text`,responseFormat:()=>({type:`text`}),injectIntoSystemPrompt({system:e}){return e},parsePartial({text:e}){return{partial:e}},parseOutput({text:e}){return e}}),Oy=({schema:e})=>{let t=kh(e);return{type:`object`,responseFormat:({model:e})=>({type:`json`,schema:e.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt({system:e,model:n}){return n.supportsStructuredOutputs?e:Ev({prompt:e,schema:t.jsonSchema})},parsePartial({text:e}){let t=th(e);switch(t.state){case`failed-parse`:case`undefined-input`:return;case`repaired-parse`:case`successful-parse`:return{partial:t.value};default:{let e=t.state;throw Error(`Unsupported parse state: ${e}`)}}},parseOutput({text:e},n){let r=yd({text:e});if(!r.success)throw new w_({message:`No object generated: could not parse the response.`,cause:r.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});let i=_d({value:r.value,schema:t});if(!i.success)throw new w_({message:`No object generated: response did not match schema.`,cause:i.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});return i.value}}};function ky(e){return e===void 0?[]:Array.isArray(e)?e:[e]}async function Ay({stream:e,onError:t}){let n=e.getReader();try{for(;;){let{done:e}=await n.read();if(e)break}}catch(e){t?.(e)}finally{n.releaseLock()}}function jy(e,t){let n=e.getReader(),r=t.getReader(),i,a,o=!1,s=!1;async function c(e){try{i??=n.read();let t=await i;i=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}async function l(e){try{a??=r.read();let t=await a;a=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}return new ReadableStream({async pull(e){try{if(o){await l(e);return}if(s){await c(e);return}i??=n.read(),a??=r.read();let{result:t,reader:u}=await Promise.race([i.then(e=>({result:e,reader:n})),a.then(e=>({result:e,reader:r}))]);t.done||e.enqueue(t.value),u===n?(i=void 0,t.done&&(await l(e),o=!0)):(a=void 0,t.done&&(s=!0,await c(e)))}catch(t){e.error(t)}},cancel(){n.cancel(),r.cancel()}})}function My({tools:e,generatorStream:t,toolCallStreaming:n,tracer:r,telemetry:i,system:a,messages:o,abortSignal:s,repairToolCall:c}){let l=null,u=new ReadableStream({start(e){l=e}}),d={},f=new Set,p=!1,m;function h(){p&&f.size===0&&(m!=null&&l.enqueue(m),l.close())}let g=new TransformStream({async transform(t,u){let p=t.type;switch(p){case`text-delta`:case`reasoning`:case`reasoning-signature`:case`redacted-reasoning`:case`source`:case`response-metadata`:case`error`:u.enqueue(t);break;case`file`:u.enqueue(new h_({data:t.data,mimeType:t.mimeType}));break;case`tool-call-delta`:n&&(d[t.toolCallId]||(u.enqueue({type:`tool-call-streaming-start`,toolCallId:t.toolCallId,toolName:t.toolName}),d[t.toolCallId]=!0),u.enqueue({type:`tool-call-delta`,toolCallId:t.toolCallId,toolName:t.toolName,argsTextDelta:t.argsTextDelta}));break;case`tool-call`:try{let n=await dy({toolCall:t,tools:e,repairToolCall:c,system:a,messages:o});u.enqueue(n);let d=e[n.toolName];if(d.execute!=null){let e=od();f.add(e),c_({name:`ai.toolCall`,attributes:l_({telemetry:i,attributes:{...n_({operationId:`ai.toolCall`,telemetry:i}),"ai.toolCall.name":n.toolName,"ai.toolCall.id":n.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(n.args)}}}),tracer:r,fn:async t=>d.execute(n.args,{toolCallId:n.toolCallId,messages:o,abortSignal:s}).then(r=>{l.enqueue({...n,type:`tool-result`,result:r}),f.delete(e),h();try{t.setAttributes(l_({telemetry:i,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(r)}}}))}catch{}},t=>{l.enqueue({type:`error`,error:new Gv({toolCallId:n.toolCallId,toolName:n.toolName,toolArgs:n.args,cause:t})}),f.delete(e),h()})})}}catch(e){l.enqueue({type:`error`,error:e})}break;case`finish`:m={type:`finish`,finishReason:t.finishReason,logprobs:t.logprobs,usage:xv(t.usage),experimental_providerMetadata:t.providerMetadata};break;default:{let e=p;throw Error(`Unhandled chunk type: ${e}`)}}},flush(){p=!0,h()}});return new ReadableStream({async start(e){return Promise.all([t.pipeThrough(g).pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){}})),u.pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){e.close()}}))])}})}var Ny=ad({prefix:`aitxt`,size:24}),Py=ad({prefix:`msg`,size:24});function Fy({model:e,tools:t,toolChoice:n,system:r,prompt:i,messages:a,maxRetries:o,abortSignal:s,headers:c,maxSteps:l=1,experimental_generateMessageId:u=Py,experimental_output:d,experimental_continueSteps:f=!1,experimental_telemetry:p,experimental_providerMetadata:m,providerOptions:h=m,experimental_toolCallStreaming:g=!1,toolCallStreaming:_=g,experimental_activeTools:v,experimental_repairToolCall:y,experimental_transform:b,onChunk:x,onError:S,onFinish:C,onStepFinish:w,_internal:{now:T=Pv,generateId:E=Ny,currentDate:ee=()=>new Date}={},...D}){return new Ly({model:e,telemetry:p,headers:c,settings:D,maxRetries:o,abortSignal:s,system:r,prompt:i,messages:a,tools:t,toolChoice:n,toolCallStreaming:_,transforms:ky(b),activeTools:v,repairToolCall:y,maxSteps:l,output:d,continueSteps:f,providerOptions:h,onChunk:x,onError:S,onFinish:C,onStepFinish:w,now:T,currentDate:ee,generateId:E,generateMessageId:u})}function Iy(e){if(!e)return new TransformStream({transform(e,t){t.enqueue({part:e,partialOutput:void 0})}});let t=``,n=``,r=``;function i({controller:e,partialOutput:t=void 0}){e.enqueue({part:{type:`text-delta`,textDelta:n},partialOutput:t}),n=``}return new TransformStream({transform(a,o){if(a.type===`step-finish`&&i({controller:o}),a.type!==`text-delta`){o.enqueue({part:a,partialOutput:void 0});return}t+=a.textDelta,n+=a.textDelta;let s=e.parsePartial({text:t});if(s!=null){let e=JSON.stringify(s.partial);e!==r&&(i({controller:o,partialOutput:s.partial}),r=e)}},flush(e){n.length>0&&i({controller:e})}})}var Ly=class{constructor({model:e,telemetry:t,headers:n,settings:r,maxRetries:i,abortSignal:a,system:o,prompt:s,messages:c,tools:l,toolChoice:u,toolCallStreaming:d,transforms:f,activeTools:p,repairToolCall:m,maxSteps:h,output:g,continueSteps:_,providerOptions:v,now:y,currentDate:b,generateId:x,generateMessageId:S,onChunk:C,onError:w,onFinish:T,onStepFinish:E}){this.warningsPromise=new jv,this.usagePromise=new jv,this.finishReasonPromise=new jv,this.providerMetadataPromise=new jv,this.textPromise=new jv,this.reasoningPromise=new jv,this.reasoningDetailsPromise=new jv,this.sourcesPromise=new jv,this.filesPromise=new jv,this.toolCallsPromise=new jv,this.toolResultsPromise=new jv,this.requestPromise=new jv,this.responsePromise=new jv,this.stepsPromise=new jv;var ee;if(h<1)throw new qg({parameter:`maxSteps`,value:h,message:`maxSteps must be at least 1`});this.output=g;let D=``,O=``,te=``,ne=[],re=[],k,ie=[],ae=[],A={id:x(),timestamp:b(),modelId:e.modelId,messages:[]},oe=[],se=[],ce,le,ue=`initial`,de=[],fe,pe=new TransformStream({async transform(e,t){t.enqueue(e);let{part:n}=e;if((n.type===`text-delta`||n.type===`reasoning`||n.type===`source`||n.type===`tool-call`||n.type===`tool-result`||n.type===`tool-call-streaming-start`||n.type===`tool-call-delta`)&&await C?.({chunk:n}),n.type===`error`&&await w?.({error:n.error}),n.type===`text-delta`&&(D+=n.textDelta,O+=n.textDelta,te+=n.textDelta),n.type===`reasoning`&&(k==null?(k={type:`text`,text:n.textDelta},ne.push(k)):k.text+=n.textDelta),n.type===`reasoning-signature`){if(k==null)throw new I({name:`InvalidStreamPart`,message:`reasoning-signature without reasoning`});k.signature=n.signature,k=void 0}if(n.type===`redacted-reasoning`&&ne.push({type:`redacted`,data:n.data}),n.type===`file`&&re.push(n),n.type===`source`&&(ae.push(n.source),ie.push(n.source)),n.type===`tool-call`&&oe.push(n),n.type===`tool-result`&&se.push(n),n.type===`step-finish`){let e=my({text:O,files:re,reasoning:ne,tools:l??{},toolCalls:oe,toolResults:se,messageId:n.messageId,generateMessageId:S}),t=de.length,r=`done`;t+1<h&&(_&&n.finishReason===`length`&&oe.length===0?r=`continue`:oe.length>0&&se.length===oe.length&&(r=`tool-result`));let i={stepType:ue,text:D,reasoning:py(ne),reasoningDetails:ne,files:re,sources:ie,toolCalls:oe,toolResults:se,finishReason:n.finishReason,usage:n.usage,warnings:n.warnings,logprobs:n.logprobs,request:n.request,response:{...n.response,messages:[...A.messages,...e]},providerMetadata:n.experimental_providerMetadata,experimental_providerMetadata:n.experimental_providerMetadata,isContinued:n.isContinued};await E?.(i),de.push(i),oe=[],se=[],D=``,ie=[],ne=[],re=[],k=void 0,r!==`done`&&(ue=r),r!==`continue`&&(A.messages.push(...e),O=``)}n.type===`finish`&&(A.id=n.response.id,A.timestamp=n.response.timestamp,A.modelId=n.response.modelId,A.headers=n.response.headers,le=n.usage,ce=n.finishReason)},async flush(e){var n;try{if(de.length===0)return;let e=de[de.length-1];j.warningsPromise.resolve(e.warnings),j.requestPromise.resolve(e.request),j.responsePromise.resolve(e.response),j.toolCallsPromise.resolve(e.toolCalls),j.toolResultsPromise.resolve(e.toolResults),j.providerMetadataPromise.resolve(e.experimental_providerMetadata),j.reasoningPromise.resolve(e.reasoning),j.reasoningDetailsPromise.resolve(e.reasoningDetails);let r=ce??`unknown`,i=le??{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};j.finishReasonPromise.resolve(r),j.usagePromise.resolve(i),j.textPromise.resolve(te),j.sourcesPromise.resolve(ae),j.filesPromise.resolve(e.files),j.stepsPromise.resolve(de),await T?.({finishReason:r,logprobs:void 0,usage:i,text:te,reasoning:e.reasoning,reasoningDetails:e.reasoningDetails,files:e.files,sources:e.sources,toolCalls:e.toolCalls,toolResults:e.toolResults,request:(n=e.request)??{},response:e.response,warnings:e.warnings,providerMetadata:e.providerMetadata,experimental_providerMetadata:e.experimental_providerMetadata,steps:de}),fe.setAttributes(l_({telemetry:t,attributes:{"ai.response.finishReason":r,"ai.response.text":{output:()=>te},"ai.response.toolCalls":{output:()=>{var t;return(t=e.toolCalls)?.length?JSON.stringify(e.toolCalls):void 0}},"ai.usage.promptTokens":i.promptTokens,"ai.usage.completionTokens":i.completionTokens}}))}catch(t){e.error(t)}finally{fe.end()}}}),me=Nv();this.addStream=me.addStream,this.closeStream=me.close;let he=me.stream;for(let e of f)he=he.pipeThrough(e({tools:l,stopStream(){me.terminate()}}));this.baseStream=he.pipeThrough(Iy(g)).pipeThrough(pe);let{maxRetries:ge,retry:_e}=t_({maxRetries:i}),ve=s_(t),ye=r_({model:e,telemetry:t,headers:n,settings:{...r,maxRetries:ge}}),be=vv({prompt:{system:(ee=g?.injectIntoSystemPrompt({system:o,model:e}))??o,prompt:s,messages:c},tools:l}),j=this;c_({name:`ai.streamText`,attributes:l_({telemetry:t,attributes:{...n_({operationId:`ai.streamText`,telemetry:t}),...ye,"ai.prompt":{input:()=>JSON.stringify({system:o,prompt:s,messages:c})},"ai.settings.maxSteps":h}}),tracer:ve,endWhenDone:!1,fn:async i=>{fe=i;async function s({currentStep:i,responseMessages:c,usage:f,stepType:C,previousStepText:w,hasLeadingWhitespace:T,messageId:E}){var ee;let D=c.length===0?be.type:`messages`,O=[...be.messages,...c],te=await K_({prompt:{type:D,system:be.system,messages:O},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:(ee=e.supportsUrl)?.bind(e)}),ne={type:`regular`,...qv({tools:l,toolChoice:u,activeTools:p})},{result:{stream:re,warnings:k,rawResponse:ie,request:ae},doStreamSpan:A,startTimestampMs:oe}=await _e(()=>c_({name:`ai.streamText.doStream`,attributes:l_({telemetry:t,attributes:{...n_({operationId:`ai.streamText.doStream`,telemetry:t}),...ye,"ai.prompt.format":{input:()=>D},"ai.prompt.messages":{input:()=>Ov(te)},"ai.prompt.tools":{input:()=>{var e;return(e=ne.tools)?.map(e=>JSON.stringify(e))}},"ai.prompt.toolChoice":{input:()=>ne.toolChoice==null?void 0:JSON.stringify(ne.toolChoice)},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":r.frequencyPenalty,"gen_ai.request.max_tokens":r.maxTokens,"gen_ai.request.presence_penalty":r.presencePenalty,"gen_ai.request.stop_sequences":r.stopSequences,"gen_ai.request.temperature":r.temperature,"gen_ai.request.top_k":r.topK,"gen_ai.request.top_p":r.topP}}),tracer:ve,endWhenDone:!1,fn:async t=>({startTimestampMs:y(),doStreamSpan:t,result:await e.doStream({mode:ne,...X_(r),inputFormat:D,responseFormat:g?.responseFormat({model:e}),prompt:te,providerMetadata:v,abortSignal:a,headers:n})})})),se=My({tools:l,generatorStream:re,toolCallStreaming:d,tracer:ve,telemetry:t,system:o,messages:O,repairToolCall:m,abortSignal:a}),ce=ae??{},le=[],ue=[],de=[],fe=[],pe,me=`unknown`,he={promptTokens:0,completionTokens:0,totalTokens:0},ge,xe=!0,Se=``,Ce=C===`continue`?w:``,we,Te={id:x(),timestamp:b(),modelId:e.modelId},Ee=``,De=!1,Oe=!0,ke=!1;async function Ae({controller:e,chunk:t}){e.enqueue(t),Se+=t.textDelta,Ce+=t.textDelta,De=!0,ke=t.textDelta.trimEnd()!==t.textDelta}j.addStream(se.pipeThrough(new TransformStream({async transform(e,t){var n,r,i;if(xe){let e=y()-oe;xe=!1,A.addEvent(`ai.stream.firstChunk`,{"ai.response.msToFirstChunk":e}),A.setAttributes({"ai.response.msToFirstChunk":e}),t.enqueue({type:`step-start`,messageId:E,request:ce,warnings:k??[]})}if(e.type===`text-delta`&&e.textDelta.length===0)return;let a=e.type;switch(a){case`text-delta`:if(_){let n=Oe&&T?e.textDelta.trimStart():e.textDelta;if(n.length===0)break;Oe=!1,Ee+=n;let r=Yv(Ee);r!=null&&(Ee=r.suffix,await Ae({controller:t,chunk:{type:`text-delta`,textDelta:r.prefix+r.whitespace}}))}else await Ae({controller:t,chunk:e});break;case`reasoning`:t.enqueue(e),pe==null?(pe={type:`text`,text:e.textDelta},de.push(pe)):pe.text+=e.textDelta;break;case`reasoning-signature`:if(t.enqueue(e),pe==null)throw new Sy({chunk:e,message:`reasoning-signature without reasoning`});pe.signature=e.signature,pe=void 0;break;case`redacted-reasoning`:t.enqueue(e),de.push({type:`redacted`,data:e.data});break;case`tool-call`:t.enqueue(e),le.push(e);break;case`tool-result`:t.enqueue(e),ue.push(e);break;case`response-metadata`:Te={id:(n=e.id)??Te.id,timestamp:(r=e.timestamp)??Te.timestamp,modelId:(i=e.modelId)??Te.modelId};break;case`finish`:{he=e.usage,me=e.finishReason,ge=e.experimental_providerMetadata,we=e.logprobs;let t=y()-oe;A.addEvent(`ai.stream.finish`),A.setAttributes({"ai.response.msToFinish":t,"ai.response.avgCompletionTokensPerSecond":1e3*he.completionTokens/t});break}case`file`:fe.push(e),t.enqueue(e);break;case`source`:case`tool-call-streaming-start`:case`tool-call-delta`:t.enqueue(e);break;case`error`:t.enqueue(e),me=`error`;break;default:{let e=a;throw Error(`Unknown chunk type: ${e}`)}}},async flush(e){let n=le.length>0?JSON.stringify(le):void 0,r=`done`;i+1<h&&(_&&me===`length`&&le.length===0?r=`continue`:le.length>0&&ue.length===le.length&&(r=`tool-result`)),_&&Ee.length>0&&(r!==`continue`||C===`continue`&&!De)&&(await Ae({controller:e,chunk:{type:`text-delta`,textDelta:Ee}}),Ee=``);try{A.setAttributes(l_({telemetry:t,attributes:{"ai.response.finishReason":me,"ai.response.text":{output:()=>Se},"ai.response.toolCalls":{output:()=>n},"ai.response.id":Te.id,"ai.response.model":Te.modelId,"ai.response.timestamp":Te.timestamp.toISOString(),"ai.usage.promptTokens":he.promptTokens,"ai.usage.completionTokens":he.completionTokens,"gen_ai.response.finish_reasons":[me],"gen_ai.response.id":Te.id,"gen_ai.response.model":Te.modelId,"gen_ai.usage.input_tokens":he.promptTokens,"gen_ai.usage.output_tokens":he.completionTokens}}))}catch{}finally{A.end()}e.enqueue({type:`step-finish`,finishReason:me,usage:he,providerMetadata:ge,experimental_providerMetadata:ge,logprobs:we,request:ce,response:{...Te,headers:ie?.headers},warnings:k,isContinued:r===`continue`,messageId:E});let a=Sv(f,he);if(r===`done`)e.enqueue({type:`finish`,finishReason:me,usage:a,providerMetadata:ge,experimental_providerMetadata:ge,logprobs:we,response:{...Te,headers:ie?.headers}}),j.closeStream();else{if(C===`continue`){let e=c[c.length-1];typeof e.content==`string`?e.content+=Se:e.content.push({text:Se,type:`text`})}else c.push(...my({text:Se,files:fe,reasoning:de,tools:l??{},toolCalls:le,toolResults:ue,messageId:E,generateMessageId:S}));await s({currentStep:i+1,responseMessages:c,usage:a,stepType:r,previousStepText:Ce,hasLeadingWhitespace:ke,messageId:r===`continue`?E:S()})}}})))}await s({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:``,stepType:`initial`,hasLeadingWhitespace:!1,messageId:S()})}}).catch(e=>{j.addStream(new ReadableStream({start(t){t.enqueue({type:`error`,error:e}),t.close()}})),j.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get reasoning(){return this.reasoningPromise.value}get reasoningDetails(){return this.reasoningDetailsPromise.value}get sources(){return this.sourcesPromise.value}get files(){return this.filesPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){let[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return Dv(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type===`text-delta`&&t.enqueue(e.textDelta)}})))}get fullStream(){return Dv(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(e){var t;try{await Ay({stream:this.fullStream,onError:e?.onError})}catch(n){(t=e?.onError)==null||t.call(e,n)}}get experimental_partialOutputStream(){if(this.output==null)throw new Bv;return Dv(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>`An error occurred.`,sendUsage:t=!0,sendReasoning:n=!1,sendSources:r=!1,experimental_sendFinish:i=!0}){return this.fullStream.pipeThrough(new TransformStream({transform:async(a,o)=>{let s=a.type;switch(s){case`text-delta`:o.enqueue(Sh(`text`,a.textDelta));break;case`reasoning`:n&&o.enqueue(Sh(`reasoning`,a.textDelta));break;case`redacted-reasoning`:n&&o.enqueue(Sh(`redacted_reasoning`,{data:a.data}));break;case`reasoning-signature`:n&&o.enqueue(Sh(`reasoning_signature`,{signature:a.signature}));break;case`file`:o.enqueue(Sh(`file`,{mimeType:a.mimeType,data:a.base64}));break;case`source`:r&&o.enqueue(Sh(`source`,a.source));break;case`tool-call-streaming-start`:o.enqueue(Sh(`tool_call_streaming_start`,{toolCallId:a.toolCallId,toolName:a.toolName}));break;case`tool-call-delta`:o.enqueue(Sh(`tool_call_delta`,{toolCallId:a.toolCallId,argsTextDelta:a.argsTextDelta}));break;case`tool-call`:o.enqueue(Sh(`tool_call`,{toolCallId:a.toolCallId,toolName:a.toolName,args:a.args}));break;case`tool-result`:o.enqueue(Sh(`tool_result`,{toolCallId:a.toolCallId,result:a.result}));break;case`error`:o.enqueue(Sh(`error`,e(a.error)));break;case`step-start`:o.enqueue(Sh(`start_step`,{messageId:a.messageId}));break;case`step-finish`:o.enqueue(Sh(`finish_step`,{finishReason:a.finishReason,usage:t?{promptTokens:a.usage.promptTokens,completionTokens:a.usage.completionTokens}:void 0,isContinued:a.isContinued}));break;case`finish`:i&&o.enqueue(Sh(`finish_message`,{finishReason:a.finishReason,usage:t?{promptTokens:a.usage.promptTokens,completionTokens:a.usage.completionTokens}:void 0}));break;default:{let e=s;throw Error(`Unknown chunk type: ${e}`)}}}}))}pipeDataStreamToResponse(e,{status:t,statusText:n,headers:r,data:i,getErrorMessage:a,sendUsage:o,sendReasoning:s,sendSources:c,experimental_sendFinish:l}={}){Hg({response:e,status:t,statusText:n,headers:Vg(r,{contentType:`text/plain; charset=utf-8`,dataStreamVersion:`v1`}),stream:this.toDataStream({data:i,getErrorMessage:a,sendUsage:o,sendReasoning:s,sendSources:c,experimental_sendFinish:l})})}pipeTextStreamToResponse(e,t){Hg({response:e,status:t?.status,statusText:t?.statusText,headers:Vg(t?.headers,{contentType:`text/plain; charset=utf-8`}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:e?.getErrorMessage,sendUsage:e?.sendUsage,sendReasoning:e?.sendReasoning,sendSources:e?.sendSources,experimental_sendFinish:e?.experimental_sendFinish}).pipeThrough(new TextEncoderStream);return e?.data?jy(e?.data.stream,t):t}mergeIntoDataStream(e,t){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError,sendUsage:t?.sendUsage,sendReasoning:t?.sendReasoning,sendSources:t?.sendSources,experimental_sendFinish:t?.experimental_sendFinish}))}toDataStreamResponse({headers:e,status:t,statusText:n,data:r,getErrorMessage:i,sendUsage:a,sendReasoning:o,sendSources:s,experimental_sendFinish:c}={}){return new Response(this.toDataStream({data:r,getErrorMessage:i,sendUsage:a,sendReasoning:o,sendSources:s,experimental_sendFinish:c}),{status:t,statusText:n,headers:Bg(e,{contentType:`text/plain; charset=utf-8`,dataStreamVersion:`v1`})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e?.status)??200,headers:Bg(e?.headers,{contentType:`text/plain; charset=utf-8`})})}},Ry=`AI_NoSuchProviderError`,zy=`vercel.ai.error.${Ry}`,By=Symbol.for(zy),Vy;Vy=By;var Hy=Y({name:q(),version:q()}).passthrough(),Uy=Y({_meta:Kp(Y({}).passthrough())}).passthrough(),Wy=Uy,Gy=Y({method:q(),params:Kp(Uy)}),Ky=Y({experimental:Kp(Y({}).passthrough()),logging:Kp(Y({}).passthrough()),prompts:Kp(Y({listChanged:Kp(Cp())}).passthrough()),resources:Kp(Y({subscribe:Kp(Cp()),listChanged:Kp(Cp())}).passthrough()),tools:Kp(Y({listChanged:Kp(Cp())}).passthrough())}).passthrough(),qy=Wy.extend({protocolVersion:q(),capabilities:Ky,serverInfo:Hy,instructions:Kp(q())}),Jy=Wy.extend({nextCursor:Kp(q())}),Yy=Y({name:q(),description:Kp(q()),inputSchema:Y({type:Z(`object`),properties:Kp(Y({}).passthrough())}).passthrough()}).passthrough(),Xy=Jy.extend({tools:Mp(Yy)}),Zy=Y({type:Z(`text`),text:q()}).passthrough(),Qy=Y({type:Z(`image`),data:q().base64(),mimeType:q()}).passthrough(),$y=Y({uri:q(),mimeType:Kp(q())}).passthrough(),eb=$y.extend({text:q()}),tb=$y.extend({blob:q().base64()}),nb=Y({type:Z(`resource`),resource:X([eb,tb])}).passthrough(),rb=Wy.extend({content:Mp(X([Zy,Qy,nb])),isError:Cp().default(!1).optional()}).or(Wy.extend({toolResult:kp()})),ib=`2.0`,ab=Y({jsonrpc:Z(ib),id:X([q(),J().int()])}).merge(Gy).strict(),ob=Y({jsonrpc:Z(ib),id:X([q(),J().int()]),result:Wy}).strict(),sb=Y({jsonrpc:Z(ib),id:X([q(),J().int()]),error:Y({code:J().int(),message:q(),data:Kp(kp())})}).strict(),cb=Y({jsonrpc:Z(ib)}).merge(Y({method:q(),params:Kp(Uy)})).strict(),lb=X([ab,cb,ob,sb]),ub={};zg(ub,{mergeIntoDataStream:()=>hb,toDataStream:()=>pb,toDataStreamResponse:()=>mb});function db(e={}){let t=new TextEncoder,n=``;return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(r,i){i.enqueue(t.encode(r)),n+=r,e.onToken&&await e.onToken(r),e.onText&&typeof r==`string`&&await e.onText(r)},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}})}function fb(e,t){return e.pipeThrough(new TransformStream({transform:async(e,t)=>{var n;if(typeof e==`string`){t.enqueue(e);return}if(`event`in e){e.event===`on_chat_model_stream`&&gb((n=e.data)?.chunk,t);return}gb(e,t)}})).pipeThrough(db(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue(Sh(`text`,e))}}))}function pb(e,t){return fb(e,t).pipeThrough(new TextEncoderStream)}function mb(e,t){var n;let r=fb(e,t?.callbacks).pipeThrough(new TextEncoderStream),i=t?.data,a=t?.init,o=i?jy(i.stream,r):r;return new Response(o,{status:(n=a?.status)??200,statusText:a?.statusText,headers:Bg(a?.headers,{contentType:`text/plain; charset=utf-8`,dataStreamVersion:`v1`})})}function hb(e,t){t.dataStream.merge(fb(e,t.callbacks))}function gb(e,t){if(typeof e.content==`string`)t.enqueue(e.content);else{let n=e.content;for(let e of n)e.type===`text`&&t.enqueue(e.text)}}var _b={};zg(_b,{mergeIntoDataStream:()=>xb,toDataStream:()=>yb,toDataStreamResponse:()=>bb});function vb(e,t){let n=Sb();return ed(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(e,t){t.enqueue(n(e.delta))}})).pipeThrough(db(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue(Sh(`text`,e))}}))}function yb(e,t){return vb(e,t).pipeThrough(new TextEncoderStream)}function bb(e,t={}){var n;let{init:r,data:i,callbacks:a}=t,o=vb(e,a).pipeThrough(new TextEncoderStream),s=i?jy(i.stream,o):o;return new Response(s,{status:(n=r?.status)??200,statusText:r?.statusText,headers:Bg(r?.headers,{contentType:`text/plain; charset=utf-8`,dataStreamVersion:`v1`})})}function xb(e,t){t.dataStream.merge(vb(e,t.callbacks))}function Sb(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}var Cb=15*1e3;function wb(e){var t,n;return(n=(t=e?.providerMetadata)?.openaiCompatible)??{}}function Tb(e){let t=[];for(let{role:n,content:r,...i}of e){let e=wb({...i});switch(n){case`system`:t.push({role:`system`,content:r,...e});break;case`user`:if(r.length===1&&r[0].type===`text`){t.push({role:`user`,content:r[0].text,...wb(r[0])});break}t.push({role:`user`,content:r.map(e=>{var t;let n=wb(e);switch(e.type){case`text`:return{type:`text`,text:e.text,...n};case`image`:return{type:`image_url`,image_url:{url:e.image instanceof URL?e.image.toString():`data:${(t=e.mimeType)??`image/jpeg`};base64,${Md(e.image)}`},...n};case`file`:throw new Yu({functionality:`File content parts in user messages`})}}),...e});break;case`assistant`:{let n=``,i=[];for(let e of r){let t=wb(e);switch(e.type){case`text`:n+=e.text;break;case`tool-call`:i.push({id:e.toolCallId,type:`function`,function:{name:e.toolName,arguments:JSON.stringify(e.args)},...t});break}}t.push({role:`assistant`,content:n,tool_calls:i.length>0?i:void 0,...e});break}case`tool`:for(let e of r){let n=wb(e);t.push({role:`tool`,tool_call_id:e.toolCallId,content:JSON.stringify(e.result),...n})}break;default:{let e=n;throw Error(`Unsupported role: ${e}`)}}}return t}function Eb({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n==null?void 0:new Date(n*1e3)}}function Db(e){switch(e){case`stop`:return`stop`;case`length`:return`length`;case`content_filter`:return`content-filter`;case`function_call`:case`tool_calls`:return`tool-calls`;default:return`unknown`}}var Ob=Y({error:Y({message:q(),type:q().nullish(),param:Op().nullish(),code:X([q(),J()]).nullish()})}),kb={errorSchema:Ob,errorToMessage:e=>e.error.message};function Ab({mode:e,structuredOutputs:t}){var n;let r=(n=e.tools)?.length?e.tools:void 0,i=[];if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:i};let a=e.toolChoice,o=[];for(let e of r)e.type===`provider-defined`?i.push({type:`unsupported-tool`,tool:e}):o.push({type:`function`,function:{name:e.name,description:e.description,parameters:e.parameters}});if(a==null)return{tools:o,tool_choice:void 0,toolWarnings:i};let s=a.type;switch(s){case`auto`:case`none`:case`required`:return{tools:o,tool_choice:s,toolWarnings:i};case`tool`:return{tools:o,tool_choice:{type:`function`,function:{name:a.toolName}},toolWarnings:i};default:{let e=s;throw new Yu({functionality:`Unsupported tool choice type: ${e}`})}}}var jb=class{constructor(e,t,n){this.specificationVersion=`v1`;var r,i;this.modelId=e,this.settings=t,this.config=n;let a=(r=n.errorStructure)??kb;this.chunkSchema=Pb(a.errorSchema),this.failedResponseHandler=wd(a),this.supportsStructuredOutputs=(i=n.supportsStructuredOutputs)??!1}get defaultObjectGenerationMode(){return this.config.defaultObjectGenerationMode}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(`.`)[0].trim()}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:i,topK:a,frequencyPenalty:o,presencePenalty:s,providerMetadata:c,stopSequences:l,responseFormat:u,seed:d}){var f,p,m,h,g;let _=e.type,v=[];a!=null&&v.push({type:`unsupported-setting`,setting:`topK`}),u?.type===`json`&&u.schema!=null&&!this.supportsStructuredOutputs&&v.push({type:`unsupported-setting`,setting:`responseFormat`,details:`JSON response format schema is only supported with structuredOutputs`});let y={model:this.modelId,user:this.settings.user,max_tokens:n,temperature:r,top_p:i,frequency_penalty:o,presence_penalty:s,response_format:u?.type===`json`?this.supportsStructuredOutputs===!0&&u.schema!=null?{type:`json_schema`,json_schema:{schema:u.schema,name:(f=u.name)??`response`,description:u.description}}:{type:`json_object`}:void 0,stop:l,seed:d,...c?.[this.providerOptionsName],reasoning_effort:(h=(p=c?.[this.providerOptionsName])?.reasoningEffort)??(m=c?.[`openai-compatible`])?.reasoningEffort,messages:Tb(t)};switch(_){case`regular`:{let{tools:t,tool_choice:n,toolWarnings:r}=Ab({mode:e,structuredOutputs:this.supportsStructuredOutputs});return{args:{...y,tools:t,tool_choice:n},warnings:[...v,...r]}}case`object-json`:return{args:{...y,response_format:this.supportsStructuredOutputs===!0&&e.schema!=null?{type:`json_schema`,json_schema:{schema:e.schema,name:(g=e.name)??`response`,description:e.description}}:{type:`json_object`}},warnings:v};case`object-tool`:return{args:{...y,tool_choice:{type:`function`,function:{name:e.tool.name}},tools:[{type:`function`,function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:v};default:{let e=_;throw Error(`Unsupported type: ${e}`)}}}async doGenerate(e){var t,n,r,i,a,o,s,c,l,u,d;let{args:f,warnings:p}=this.getArgs({...e}),m=JSON.stringify(f),{responseHeaders:h,value:g,rawValue:_}=await Sd({url:this.config.url({path:`/chat/completions`,modelId:this.modelId}),headers:$u(this.config.headers(),e.headers),body:f,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Ed(Nb),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:v,...y}=f,b=g.choices[0],x={[this.providerOptionsName]:{},...(n=(t=this.config.metadataExtractor)?.extractMetadata)?.call(t,{parsedBody:_})},S=(r=g.usage)?.completion_tokens_details,C=(i=g.usage)?.prompt_tokens_details;return S?.reasoning_tokens!=null&&(x[this.providerOptionsName].reasoningTokens=S?.reasoning_tokens),S?.accepted_prediction_tokens!=null&&(x[this.providerOptionsName].acceptedPredictionTokens=S?.accepted_prediction_tokens),S?.rejected_prediction_tokens!=null&&(x[this.providerOptionsName].rejectedPredictionTokens=S?.rejected_prediction_tokens),C?.cached_tokens!=null&&(x[this.providerOptionsName].cachedPromptTokens=C?.cached_tokens),{text:(a=b.message.content)??void 0,reasoning:(o=b.message.reasoning_content)??void 0,toolCalls:(s=b.message.tool_calls)?.map(e=>{var t;return{toolCallType:`function`,toolCallId:(t=e.id)??od(),toolName:e.function.name,args:e.function.arguments}}),finishReason:Db(b.finish_reason),usage:{promptTokens:(l=(c=g.usage)?.prompt_tokens)??NaN,completionTokens:(d=(u=g.usage)?.completion_tokens)??NaN},providerMetadata:x,rawCall:{rawPrompt:v,rawSettings:y},rawResponse:{headers:h,body:_},response:Eb(g),warnings:p,request:{body:m}}}async doStream(e){var t;if(this.settings.simulateStreaming){let t=await this.doGenerate(e),n=new ReadableStream({start(e){if(e.enqueue({type:`response-metadata`,...t.response}),t.reasoning)if(Array.isArray(t.reasoning))for(let n of t.reasoning)n.type===`text`&&e.enqueue({type:`reasoning`,textDelta:n.text});else e.enqueue({type:`reasoning`,textDelta:t.reasoning});if(t.text&&e.enqueue({type:`text-delta`,textDelta:t.text}),t.toolCalls)for(let n of t.toolCalls)e.enqueue({type:`tool-call`,...n});e.enqueue({type:`finish`,finishReason:t.finishReason,usage:t.usage,logprobs:t.logprobs,providerMetadata:t.providerMetadata}),e.close()}});return{stream:n,rawCall:t.rawCall,rawResponse:t.rawResponse,warnings:t.warnings}}let{args:n,warnings:r}=this.getArgs({...e}),i={...n,stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0},a=(t=this.config.metadataExtractor)?.createStreamExtractor(),{responseHeaders:o,value:s}=await Sd({url:this.config.url({path:`/chat/completions`,modelId:this.modelId}),headers:$u(this.config.headers(),e.headers),body:i,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Td(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:c,...l}=n,u=[],d=`unknown`,f={completionTokens:void 0,completionTokensDetails:{reasoningTokens:void 0,acceptedPredictionTokens:void 0,rejectedPredictionTokens:void 0},promptTokens:void 0,promptTokensDetails:{cachedTokens:void 0}},p=!0,m=this.providerOptionsName;return{stream:s.pipeThrough(new TransformStream({transform(e,t){var n,r,i,o,s,c,l,m,h,g,_,v;if(!e.success){d=`error`,t.enqueue({type:`error`,error:e.error});return}let y=e.value;if(a?.processChunk(e.rawValue),`error`in y){d=`error`,t.enqueue({type:`error`,error:y.error.message});return}if(p&&(p=!1,t.enqueue({type:`response-metadata`,...Eb(y)})),y.usage!=null){let{prompt_tokens:e,completion_tokens:t,prompt_tokens_details:n,completion_tokens_details:r}=y.usage;f.promptTokens=e??void 0,f.completionTokens=t??void 0,r?.reasoning_tokens!=null&&(f.completionTokensDetails.reasoningTokens=r?.reasoning_tokens),r?.accepted_prediction_tokens!=null&&(f.completionTokensDetails.acceptedPredictionTokens=r?.accepted_prediction_tokens),r?.rejected_prediction_tokens!=null&&(f.completionTokensDetails.rejectedPredictionTokens=r?.rejected_prediction_tokens),n?.cached_tokens!=null&&(f.promptTokensDetails.cachedTokens=n?.cached_tokens)}let b=y.choices[0];if(b?.finish_reason!=null&&(d=Db(b.finish_reason)),b?.delta==null)return;let x=b.delta;if(x.reasoning_content!=null&&t.enqueue({type:`reasoning`,textDelta:x.reasoning_content}),x.content!=null&&t.enqueue({type:`text-delta`,textDelta:x.content}),x.tool_calls!=null)for(let e of x.tool_calls){let a=e.index;if(u[a]==null){if(e.type!==`function`)throw new du({data:e,message:`Expected 'function' type.`});if(e.id==null)throw new du({data:e,message:`Expected 'id' to be a string.`});if((n=e.function)?.name==null)throw new du({data:e,message:`Expected 'function.name' to be a string.`});u[a]={id:e.id,type:`function`,function:{name:e.function.name,arguments:(r=e.function.arguments)??``},hasFinished:!1};let c=u[a];(i=c.function)?.name!=null&&(o=c.function)?.arguments!=null&&(c.function.arguments.length>0&&t.enqueue({type:`tool-call-delta`,toolCallType:`function`,toolCallId:c.id,toolName:c.function.name,argsTextDelta:c.function.arguments}),bd(c.function.arguments)&&(t.enqueue({type:`tool-call`,toolCallType:`function`,toolCallId:(s=c.id)??od(),toolName:c.function.name,args:c.function.arguments}),c.hasFinished=!0));continue}let d=u[a];if(d.hasFinished)continue;(c=e.function)?.arguments!=null&&(d.function.arguments+=(m=(l=e.function)?.arguments)??``),t.enqueue({type:`tool-call-delta`,toolCallType:`function`,toolCallId:d.id,toolName:d.function.name,argsTextDelta:(h=e.function.arguments)??``}),(g=d.function)?.name!=null&&(_=d.function)?.arguments!=null&&bd(d.function.arguments)&&(t.enqueue({type:`tool-call`,toolCallType:`function`,toolCallId:(v=d.id)??od(),toolName:d.function.name,args:d.function.arguments}),d.hasFinished=!0)}},flush(e){var t,n;let r={[m]:{},...a?.buildMetadata()};f.completionTokensDetails.reasoningTokens!=null&&(r[m].reasoningTokens=f.completionTokensDetails.reasoningTokens),f.completionTokensDetails.acceptedPredictionTokens!=null&&(r[m].acceptedPredictionTokens=f.completionTokensDetails.acceptedPredictionTokens),f.completionTokensDetails.rejectedPredictionTokens!=null&&(r[m].rejectedPredictionTokens=f.completionTokensDetails.rejectedPredictionTokens),f.promptTokensDetails.cachedTokens!=null&&(r[m].cachedPromptTokens=f.promptTokensDetails.cachedTokens),e.enqueue({type:`finish`,finishReason:d,usage:{promptTokens:(t=f.promptTokens)??NaN,completionTokens:(n=f.completionTokens)??NaN},providerMetadata:r})}})),rawCall:{rawPrompt:c,rawSettings:l},rawResponse:{headers:o},warnings:r,request:{body:JSON.stringify(i)}}}},Mb=Y({prompt_tokens:J().nullish(),completion_tokens:J().nullish(),prompt_tokens_details:Y({cached_tokens:J().nullish()}).nullish(),completion_tokens_details:Y({reasoning_tokens:J().nullish(),accepted_prediction_tokens:J().nullish(),rejected_prediction_tokens:J().nullish()}).nullish()}).nullish(),Nb=Y({id:q().nullish(),created:J().nullish(),model:q().nullish(),choices:Mp(Y({message:Y({role:Z(`assistant`).nullish(),content:q().nullish(),reasoning_content:q().nullish(),tool_calls:Mp(Y({id:q().nullish(),type:Z(`function`),function:Y({name:q(),arguments:q()})})).nullish()}),finish_reason:q().nullish()})),usage:Mb}),Pb=e=>X([Y({id:q().nullish(),created:J().nullish(),model:q().nullish(),choices:Mp(Y({delta:Y({role:Hp([`assistant`]).nullish(),content:q().nullish(),reasoning_content:q().nullish(),tool_calls:Mp(Y({index:J(),id:q().nullish(),type:Z(`function`).nullish(),function:Y({name:q().nullish(),arguments:q().nullish()})})).nullish()}).nullish(),finish_reason:q().nullish()})),usage:Mb}),e]);function Fb({prompt:e,inputFormat:t,user:n=`user`,assistant:r=`assistant`}){if(t===`prompt`&&e.length===1&&e[0].role===`user`&&e[0].content.length===1&&e[0].content[0].type===`text`)return{prompt:e[0].content[0].text};let i=``;e[0].role===`system`&&(i+=`${e[0].content}

`,e=e.slice(1));for(let{role:t,content:a}of e)switch(t){case`system`:throw new ou({message:"Unexpected system message in prompt: ${content}",prompt:e});case`user`:{let e=a.map(e=>{switch(e.type){case`text`:return e.text;case`image`:throw new Yu({functionality:`images`})}}).join(``);i+=`${n}:
${e}

`;break}case`assistant`:{let e=a.map(e=>{switch(e.type){case`text`:return e.text;case`tool-call`:throw new Yu({functionality:`tool-call messages`})}}).join(``);i+=`${r}:
${e}

`;break}case`tool`:throw new Yu({functionality:`tool messages`});default:{let e=t;throw Error(`Unsupported role: ${e}`)}}return i+=`${r}:
`,{prompt:i,stopSequences:[`
${n}:`]}}var Ib=class{constructor(e,t,n){this.specificationVersion=`v1`,this.defaultObjectGenerationMode=void 0;var r;this.modelId=e,this.settings=t,this.config=n;let i=(r=n.errorStructure)??kb;this.chunkSchema=Rb(i.errorSchema),this.failedResponseHandler=wd(i)}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(`.`)[0].trim()}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:i,topP:a,topK:o,frequencyPenalty:s,presencePenalty:c,stopSequences:l,responseFormat:u,seed:d,providerMetadata:f}){var p;let m=e.type,h=[];o!=null&&h.push({type:`unsupported-setting`,setting:`topK`}),u!=null&&u.type!==`text`&&h.push({type:`unsupported-setting`,setting:`responseFormat`,details:`JSON response format is not supported.`});let{prompt:g,stopSequences:_}=Fb({prompt:n,inputFormat:t}),v=[..._??[],...l??[]],y={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:i,top_p:a,frequency_penalty:s,presence_penalty:c,seed:d,...f?.[this.providerOptionsName],prompt:g,stop:v.length>0?v:void 0};switch(m){case`regular`:if((p=e.tools)?.length)throw new Yu({functionality:`tools`});if(e.toolChoice)throw new Yu({functionality:`toolChoice`});return{args:y,warnings:h};case`object-json`:throw new Yu({functionality:`object-json mode`});case`object-tool`:throw new Yu({functionality:`object-tool mode`});default:{let e=m;throw Error(`Unsupported type: ${e}`)}}}async doGenerate(e){var t,n,r,i;let{args:a,warnings:o}=this.getArgs(e),{responseHeaders:s,value:c,rawValue:l}=await Sd({url:this.config.url({path:`/completions`,modelId:this.modelId}),headers:$u(this.config.headers(),e.headers),body:a,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Ed(Lb),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:u,...d}=a,f=c.choices[0];return{text:f.text,usage:{promptTokens:(n=(t=c.usage)?.prompt_tokens)??NaN,completionTokens:(i=(r=c.usage)?.completion_tokens)??NaN},finishReason:Db(f.finish_reason),rawCall:{rawPrompt:u,rawSettings:d},rawResponse:{headers:s,body:l},response:Eb(c),warnings:o,request:{body:JSON.stringify(a)}}}async doStream(e){let{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0},{responseHeaders:i,value:a}=await Sd({url:this.config.url({path:`/completions`,modelId:this.modelId}),headers:$u(this.config.headers(),e.headers),body:r,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Td(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...s}=t,c=`unknown`,l={promptTokens:NaN,completionTokens:NaN},u=!0;return{stream:a.pipeThrough(new TransformStream({transform(e,t){if(!e.success){c=`error`,t.enqueue({type:`error`,error:e.error});return}let n=e.value;if(`error`in n){c=`error`,t.enqueue({type:`error`,error:n.error});return}u&&(u=!1,t.enqueue({type:`response-metadata`,...Eb(n)})),n.usage!=null&&(l={promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens});let r=n.choices[0];r?.finish_reason!=null&&(c=Db(r.finish_reason)),r?.text!=null&&t.enqueue({type:`text-delta`,textDelta:r.text})},flush(e){e.enqueue({type:`finish`,finishReason:c,usage:l})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:i},warnings:n,request:{body:JSON.stringify(r)}}}},Lb=Y({id:q().nullish(),created:J().nullish(),model:q().nullish(),choices:Mp(Y({text:q(),finish_reason:q()})),usage:Y({prompt_tokens:J(),completion_tokens:J()}).nullish()}),Rb=e=>X([Y({id:q().nullish(),created:J().nullish(),model:q().nullish(),choices:Mp(Y({text:q(),finish_reason:q().nullish(),index:J()})),usage:Y({prompt_tokens:J(),completion_tokens:J()}).nullish()}),e]),zb=class{constructor(e,t,n){this.specificationVersion=`v1`,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.config.maxEmbeddingsPerCall)??2048}get supportsParallelCalls(){var e;return(e=this.config.supportsParallelCalls)??!0}async doEmbed({values:e,headers:t,abortSignal:n}){var r;if(e.length>this.maxEmbeddingsPerCall)throw new Ru({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:i,value:a}=await Sd({url:this.config.url({path:`/embeddings`,modelId:this.modelId}),headers:$u(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:`float`,dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:wd((r=this.config.errorStructure)??kb),successfulResponseHandler:Ed(Bb),abortSignal:n,fetch:this.config.fetch});return{embeddings:a.data.map(e=>e.embedding),usage:a.usage?{tokens:a.usage.prompt_tokens}:void 0,rawResponse:{headers:i}}}},Bb=Y({data:Mp(Y({embedding:Mp(J())})),usage:Y({prompt_tokens:J()}).nullish()}),Vb=Y({data:Mp(Y({b64_json:q()}))}),Hb={"accounts/fireworks/models/flux-1-dev-fp8":{urlFormat:`workflows`},"accounts/fireworks/models/flux-1-schnell-fp8":{urlFormat:`workflows`},"accounts/fireworks/models/playground-v2-5-1024px-aesthetic":{urlFormat:`image_generation`,supportsSize:!0},"accounts/fireworks/models/japanese-stable-diffusion-xl":{urlFormat:`image_generation`,supportsSize:!0},"accounts/fireworks/models/playground-v2-1024px-aesthetic":{urlFormat:`image_generation`,supportsSize:!0},"accounts/fireworks/models/stable-diffusion-xl-1024-v1-0":{urlFormat:`image_generation`,supportsSize:!0},"accounts/fireworks/models/SSD-1B":{urlFormat:`image_generation`,supportsSize:!0}};function Ub(e,t){var n;switch((n=Hb[t])?.urlFormat){case`image_generation`:return`${e}/image_generation/${t}`;case`workflows`:default:return`${e}/workflows/${t}/text_to_image`}}var Wb=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion=`v1`}get provider(){return this.config.provider}get maxImagesPerCall(){var e;return(e=this.settings.maxImagesPerCall)??1}async doGenerate({prompt:e,n:t,size:n,aspectRatio:r,seed:i,providerOptions:a,headers:o,abortSignal:s}){var c,l,u,d;let f=[],p=Hb[this.modelId];!p?.supportsSize&&n!=null&&f.push({type:`unsupported-setting`,setting:`size`,details:"This model does not support the `size` option. Use `aspectRatio` instead."}),p?.supportsSize&&r!=null&&f.push({type:`unsupported-setting`,setting:`aspectRatio`,details:"This model does not support the `aspectRatio` option."});let m=n?.split(`x`),h=(u=(l=(c=this.config._internal)?.currentDate)?.call(c))??new Date,{value:g,responseHeaders:_}=await Sd({url:Ub(this.config.baseURL,this.modelId),headers:$u(this.config.headers(),o),body:{prompt:e,aspect_ratio:r,seed:i,samples:t,...m&&{width:m[0],height:m[1]},...(d=a.fireworks)??{}},failedResponseHandler:Od(),successfulResponseHandler:Dd(),abortSignal:s,fetch:this.config.fetch});return{images:[g],warnings:f,response:{timestamp:h,modelId:this.modelId,headers:_}}}},Gb=Y({error:q()}),Kb={errorSchema:Gb,errorToMessage:e=>e.error},qb=`https://api.fireworks.ai/inference/v1`;function Jb(e={}){var t;let n=Nd((t=e.baseURL)??qb),r=()=>({Authorization:`Bearer ${ud({apiKey:e.apiKey,environmentVariableName:`FIREWORKS_API_KEY`,description:`Fireworks API key`})}`,...e.headers}),i=t=>({provider:`fireworks.${t}`,url:({path:e})=>`${n}${e}`,headers:r,fetch:e.fetch}),a=(e,t={})=>new jb(e,t,{...i(`chat`),errorStructure:Kb,defaultObjectGenerationMode:`json`}),o=(e,t={})=>new Ib(e,t,{...i(`completion`),errorStructure:Kb}),s=(e,t={})=>new zb(e,t,{...i(`embedding`),errorStructure:Kb}),c=(e,t={})=>new Wb(e,t,{...i(`image`),baseURL:n??qb}),l=(e,t)=>a(e,t);return l.completionModel=o,l.chatModel=a,l.languageModel=a,l.textEmbeddingModel=s,l.image=c,l.imageModel=c,l}var Yb=Jb();const Xb=Jb({apiKey:`fw_3ZTxSc3HHi7jKJjeBip7xMht`}),Zb=Xb(`accounts/fireworks/models/deepseek-v3`),Qb=Xb(`accounts/fireworks/models/glm-4p5`),$b=Xb(`accounts/fireworks/models/llama-v3p1-70b-instruct`);export{Fl as Markdown,Zb as deepseek,Fy as streamText};